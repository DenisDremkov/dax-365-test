(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"o+Pj":function(e,t,r){"use strict";r.r(t),r.d(t,"CompleteProfileModule",function(){return S});var o=r("ofXK"),n=r("3Pt+"),i=r("PCNd"),a=r("tyNb"),s=r("eIep"),c=r("fXoL"),l=r("jrsp"),d=r("+9sT"),u=r("G9qZ"),p=r("RgrY");let m=(()=>{class e{constructor(e){this._angularFireFunctions=e}completeProfile(e){return this._angularFireFunctions.httpsCallable("completeProfile")(e)}}return e.\u0275fac=function(t){return new(t||e)(c.Wb(p.a))},e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac}),e})();var b=r("/0IE"),f=r("q6qQ"),h=r("KzMV");function x(e,t){if(1&e&&c.Nb(0,"dax365-error-message",12),2&e){const e=c.bc();c.hc("showRequiredError",e.formGroup.controls.firstName.errors.required)}}function g(e,t){if(1&e&&c.Nb(0,"dax365-error-message",12),2&e){const e=c.bc();c.hc("showRequiredError",e.formGroup.controls.lastName.errors.required)}}const v=a.c.forChild([{path:"",component:(()=>{class e{constructor(e,t,r,o){this._coreRouterService=e,this._authUserStateService=t,this._coreHttpService=r,this._completeProfileHttpService=o,this.inProgress=!1}ngOnInit(){this.formGroup=new n.e({firstName:new n.b(void 0,[n.l.required]),lastName:new n.b(void 0,[n.l.required])})}next(){this.isSubmitted=!0,this.formGroup.valid&&(this.inProgress=!0,this._completeProfileHttpService.completeProfile({firstName:this.formGroup.controls.firstName.value,lastName:this.formGroup.controls.lastName.value,email:this._authUserStateService.getFireBaseUser().email}).pipe(Object(s.a)(()=>this._coreHttpService.getProfileData())).subscribe(e=>{this._authUserStateService.setIsProfileCompleted(!0),this._authUserStateService.setAuthUserProfile(e),this._coreRouterService.goToDefaultPage(),this.inProgress=!1}))}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(l.b),c.Mb(d.a),c.Mb(u.a),c.Mb(m))},e.\u0275cmp=c.Gb({type:e,selectors:[["dax365-complete-profile"]],decls:23,vars:4,consts:[[1,"dax365-auth-container"],[1,"dax365-flex-c-c"],[1,"dax365-auth-container__content"],[3,"formGroup"],[1,"form-group"],[1,"dax365-input-title"],["type","text","placeholder","first name","formControlName","firstName",1,"dax365-input"],[3,"showRequiredError",4,"ngIf"],["rows","4","type","text","placeholder","last name","formControlName","lastName",1,"dax365-input"],[1,"dax365-flex-c-c","dax365-flex-column"],[1,"dax365-link"],["type","button",1,"dax365-btn","dax365-btn-primary",3,"disabled","click"],[3,"showRequiredError"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Nb(2,"dax365-logo"),c.Rb(),c.Sb(3,"div",2),c.Sb(4,"h2"),c.zc(5,"Complete profile"),c.Rb(),c.Sb(6,"form",3),c.Sb(7,"div",4),c.Sb(8,"div",5),c.zc(9,"first name"),c.Rb(),c.Nb(10,"input",6),c.xc(11,x,1,1,"dax365-error-message",7),c.Rb(),c.Sb(12,"div",4),c.Sb(13,"div",5),c.zc(14,"last name"),c.Rb(),c.Nb(15,"input",8),c.xc(16,g,1,1,"dax365-error-message",7),c.Rb(),c.Rb(),c.Sb(17,"footer",9),c.Sb(18,"dax365-logout"),c.Sb(19,"span",10),c.zc(20,"login with other credentials"),c.Rb(),c.Rb(),c.Sb(21,"button",11),c.Zb("click",function(){return t.next()}),c.zc(22," next "),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e&&(c.Bb(6),c.hc("formGroup",t.formGroup),c.Bb(5),c.hc("ngIf",t.formGroup.controls.firstName.invalid&&(t.isSubmitted||t.formGroup.controls.firstName.dirty)),c.Bb(5),c.hc("ngIf",t.formGroup.controls.lastName.invalid&&(t.isSubmitted||t.formGroup.controls.lastName.dirty)),c.Bb(5),c.hc("disabled",t.inProgress))},directives:[b.a,n.m,n.j,n.f,n.a,n.i,n.d,o.l,f.a,h.a],styles:[".dax365-auth-container[_ngcontent-%COMP%]{display:block;padding-top:100px;padding-bottom:100px;margin:0 auto;max-width:400px}.dax365-auth-container[_ngcontent-%COMP%]   dax365-logo[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.dax365-auth-container__content[_ngcontent-%COMP%]{border-radius:4px;margin-top:100px;padding:30px;background-color:#232e36}.dax365-auth-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.dax365-auth-container[_ngcontent-%COMP%]   .dax365-link[_ngcontent-%COMP%]{display:inline-block;margin:30px auto 0}.dax365-auth-container[_ngcontent-%COMP%]   .dax365-btn-primary[_ngcontent-%COMP%]{margin-top:30px;width:100%}"]}),e})()}]);let S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Kb({type:e}),e.\u0275inj=c.Jb({providers:[m],imports:[[o.c,n.g,n.k,v,i.a]]}),e})()}}]);