(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"o+Pj":function(e,t,r){"use strict";r.r(t),r.d(t,"CompleteProfileModule",function(){return N});var o=r("ofXK"),n=r("3Pt+"),i=r("PCNd"),a=r("tyNb"),s=r("JIr8"),c=r("eIep"),l=r("z6cu"),u=r("fXoL"),d=r("5eHb"),p=r("jrsp"),b=r("+9sT"),m=r("G9qZ"),f=r("RgrY");let h=(()=>{class e{constructor(e){this._angularFireFunctions=e}completeProfile(e){return this._angularFireFunctions.httpsCallable("completeProfile")(e)}}return e.\u0275fac=function(t){return new(t||e)(u.Wb(f.a))},e.\u0275prov=u.Ib({token:e,factory:e.\u0275fac}),e})();var x=r("/0IE"),g=r("q6qQ"),v=r("KzMV");function S(e,t){if(1&e&&u.Nb(0,"dax365-error-message",12),2&e){const e=u.bc();u.hc("showRequiredError",e.formGroup.controls.firstName.errors.required)}}function P(e,t){if(1&e&&u.Nb(0,"dax365-error-message",12),2&e){const e=u.bc();u.hc("showRequiredError",e.formGroup.controls.lastName.errors.required)}}const _=a.c.forChild([{path:"",component:(()=>{class e{constructor(e,t,r,o,n){this._toastrService=e,this._coreRouterService=t,this._authUserStateService=r,this._coreHttpService=o,this._completeProfileHttpService=n,this.inProgress=!1}ngOnInit(){this.formGroup=new n.e({firstName:new n.b(void 0,[n.l.required]),lastName:new n.b(void 0,[n.l.required])})}next(){this.isSubmitted=!0,this.formGroup.valid&&(this.inProgress=!0,this._completeProfileHttpService.completeProfile({firstName:this.formGroup.controls.firstName.value,lastName:this.formGroup.controls.lastName.value,email:this._authUserStateService.getFireBaseUser().email}).pipe(Object(s.a)(e=>(this._toastrService.error((null==e?void 0:e.message)||"some error"),this.inProgress=!1,Object(l.a)(e))),Object(c.a)(()=>this._coreHttpService.getProfileData())).subscribe(e=>{this._authUserStateService.setIsProfileCompleted(!0),this._authUserStateService.setAuthUserProfile(e),this._coreRouterService.goToDefaultPage(),this.inProgress=!1}))}}return e.\u0275fac=function(t){return new(t||e)(u.Mb(d.b),u.Mb(p.b),u.Mb(b.a),u.Mb(m.a),u.Mb(h))},e.\u0275cmp=u.Gb({type:e,selectors:[["dax365-complete-profile"]],decls:23,vars:4,consts:[[1,"dax365-auth-container"],[1,"dax365-flex-c-c"],[1,"dax365-auth-container__content"],[3,"formGroup"],[1,"form-group"],[1,"dax365-input-title"],["type","text","placeholder","first name","formControlName","firstName",1,"dax365-input"],[3,"showRequiredError",4,"ngIf"],["rows","4","type","text","placeholder","last name","formControlName","lastName",1,"dax365-input",3,"keyup.enter"],[1,"dax365-flex-c-c","dax365-flex-column"],[1,"dax365-link"],["type","button",1,"dax365-btn","dax365-btn-primary",3,"disabled","click"],[3,"showRequiredError"]],template:function(e,t){1&e&&(u.Sb(0,"div",0),u.Sb(1,"div",1),u.Nb(2,"dax365-logo"),u.Rb(),u.Sb(3,"div",2),u.Sb(4,"h2"),u.zc(5,"Complete profile"),u.Rb(),u.Sb(6,"form",3),u.Sb(7,"div",4),u.Sb(8,"div",5),u.zc(9,"first name"),u.Rb(),u.Nb(10,"input",6),u.xc(11,S,1,1,"dax365-error-message",7),u.Rb(),u.Sb(12,"div",4),u.Sb(13,"div",5),u.zc(14,"last name"),u.Rb(),u.Sb(15,"input",8),u.Zb("keyup.enter",function(){return t.next()}),u.Rb(),u.xc(16,P,1,1,"dax365-error-message",7),u.Rb(),u.Rb(),u.Sb(17,"footer",9),u.Sb(18,"dax365-logout"),u.Sb(19,"span",10),u.zc(20,"login with other credentials"),u.Rb(),u.Rb(),u.Sb(21,"button",11),u.Zb("click",function(){return t.next()}),u.zc(22," next "),u.Rb(),u.Rb(),u.Rb(),u.Rb()),2&e&&(u.Bb(6),u.hc("formGroup",t.formGroup),u.Bb(5),u.hc("ngIf",t.formGroup.controls.firstName.invalid&&(t.isSubmitted||t.formGroup.controls.firstName.dirty)),u.Bb(5),u.hc("ngIf",t.formGroup.controls.lastName.invalid&&(t.isSubmitted||t.formGroup.controls.lastName.dirty)),u.Bb(5),u.hc("disabled",t.inProgress))},directives:[x.a,n.m,n.j,n.f,n.a,n.i,n.d,o.l,g.a,v.a],styles:[".dax365-auth-container[_ngcontent-%COMP%]{display:block;padding-top:100px;padding-bottom:100px;margin:0 auto;max-width:400px}.dax365-auth-container[_ngcontent-%COMP%]   dax365-logo[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.dax365-auth-container__content[_ngcontent-%COMP%]{border-radius:4px;margin-top:100px;padding:30px;background-color:#232e36}.dax365-auth-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.dax365-auth-container[_ngcontent-%COMP%]   .dax365-link[_ngcontent-%COMP%]{display:inline-block;margin:30px auto 0}.dax365-auth-container[_ngcontent-%COMP%]   .dax365-btn-primary[_ngcontent-%COMP%]{margin-top:30px;width:100%}"]}),e})()}]);let N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Kb({type:e}),e.\u0275inj=u.Jb({providers:[h],imports:[[o.c,n.g,n.k,_,i.a]]}),e})()}}]);