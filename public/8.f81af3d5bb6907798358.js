(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{QChz:function(r,e,t){"use strict";t.r(e),t.d(e,"LoginModule",function(){return _});var o=t("ofXK"),i=t("3Pt+"),n=t("tyNb"),a=t("PCNd"),s=t("z6cu"),c=t("JIr8"),l=t("eIep"),u=t("fXoL"),d=t("5eHb"),b=t("+9sT"),p=t("HDdC"),m=t("Jgta"),h=t("UbJi");let g=(()=>{class r{constructor(r){this.afAuth=r}login(r){return new p.a(e=>{this.afAuth.setPersistence(m.a.auth.Auth.Persistence.SESSION).then(()=>{this.afAuth.signInWithEmailAndPassword(r.email,r.password).then(r=>{e.next(r),e.complete()}).catch(r=>{e.error(r),e.complete()})}).catch(r=>{console.error(r)})})}}return r.\u0275fac=function(e){return new(e||r)(u.Wb(h.a))},r.\u0275prov=u.Ib({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var f=t("jrsp"),x=t("/0IE"),w=t("KzMV");function v(r,e){if(1&r&&u.Nb(0,"dax365-error-message",13),2&r){const r=u.bc();u.hc("showRequiredError",r.formGroup.controls.email.errors.required)("showEmailPatternError",r.formGroup.controls.email.errors.email)}}function S(r,e){if(1&r&&u.Nb(0,"dax365-error-message",14),2&r){const r=u.bc();u.hc("showRequiredError",r.formGroup.controls.password.errors.required)}}const P=n.c.forChild([{path:"",component:(()=>{class r{constructor(r,e,t,o){this._toastrService=r,this._authUserStateService=e,this._loginHttpService=t,this._coreRouterService=o,this.inProgress=!1}ngOnInit(){this._initForm()}_initForm(){const r=new i.b("test1@gmail.com",[i.l.required,i.l.email]);r.valueChanges.subscribe(e=>{null!=e&&""===e.trim()&&r.setValue(void 0)});const e=new i.b("Qwerty123!",[i.l.required]);e.valueChanges.subscribe(e=>{null!=e&&""===e.trim()&&r.setValue(void 0)}),this.formGroup=new i.e({email:r,password:e})}login(){this.isSubmitted=!0,this.formGroup.valid&&(this.inProgress=!0,this._loginHttpService.login({email:this.formGroup.controls.email.value,password:this.formGroup.controls.password.value}).pipe(Object(c.a)(r=>(this._toastrService.error(r.message),Object(s.a)(r))),Object(l.a)(()=>this._authUserStateService.subscribeToFirebaseUser()),Object(l.a)(r=>this._authUserStateService.getProfile(r))).subscribe(r=>{r?this._coreRouterService.goToDefaultPage():this._coreRouterService.goToCompleteProfilePage(),this.inProgress=!1}))}goToRegistration(){this._coreRouterService.goToRegistrPage()}}return r.\u0275fac=function(e){return new(e||r)(u.Mb(d.b),u.Mb(b.a),u.Mb(g),u.Mb(f.b))},r.\u0275cmp=u.Gb({type:r,selectors:[["dax365-login"]],decls:22,vars:4,consts:[[1,"dax365-auth-container"],[1,"dax365-flex-c-c"],[1,"dax365-auth-container__content"],[3,"formGroup"],[1,"form-group"],[1,"dax365-input-title"],["type","email","placeholder","email","formControlName","email",1,"dax365-input"],[3,"showRequiredError","showEmailPatternError",4,"ngIf"],["type","text","placeholder","password","formControlName","password",1,"dax365-input"],[3,"showRequiredError",4,"ngIf"],[1,"dax365-flex-c-c","dax365-flex-column"],["type","button",1,"dax365-btn","dax365-btn-primary",3,"disabled","click"],[1,"dax365-link",3,"click"],[3,"showRequiredError","showEmailPatternError"],[3,"showRequiredError"]],template:function(r,e){1&r&&(u.Sb(0,"div",0),u.Sb(1,"div",1),u.Nb(2,"dax365-logo"),u.Rb(),u.Sb(3,"div",2),u.Sb(4,"h2"),u.zc(5,"Welcome back"),u.Rb(),u.Sb(6,"form",3),u.Sb(7,"div",4),u.Sb(8,"div",5),u.zc(9,"email"),u.Rb(),u.Nb(10,"input",6),u.xc(11,v,1,2,"dax365-error-message",7),u.Rb(),u.Sb(12,"div",4),u.Sb(13,"div",5),u.zc(14,"password"),u.Rb(),u.Nb(15,"input",8),u.xc(16,S,1,1,"dax365-error-message",9),u.Rb(),u.Rb(),u.Sb(17,"footer",10),u.Sb(18,"button",11),u.Zb("click",function(){return e.login()}),u.zc(19," login "),u.Rb(),u.Sb(20,"button",12),u.Zb("click",function(){return e.goToRegistration()}),u.zc(21," go to registration "),u.Rb(),u.Rb(),u.Rb(),u.Rb()),2&r&&(u.Bb(6),u.hc("formGroup",e.formGroup),u.Bb(5),u.hc("ngIf",e.formGroup.controls.email.invalid&&(e.isSubmitted||e.formGroup.controls.email.dirty)),u.Bb(5),u.hc("ngIf",e.formGroup.controls.password.invalid&&(e.isSubmitted||e.formGroup.controls.password.dirty)),u.Bb(2),u.hc("disabled",e.inProgress))},directives:[x.a,i.m,i.j,i.f,i.a,i.i,i.d,o.l,w.a],styles:[".dax365-auth-container[_ngcontent-%COMP%]{display:block;padding-top:100px;padding-bottom:100px;margin:0 auto;max-width:400px}.dax365-auth-container[_ngcontent-%COMP%]   dax365-logo[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.dax365-auth-container__content[_ngcontent-%COMP%]{border-radius:4px;margin-top:100px;padding:30px;background-color:#232e36}.dax365-auth-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.dax365-auth-container[_ngcontent-%COMP%]   .dax365-link[_ngcontent-%COMP%]{display:inline-block;margin:30px auto 0}.dax365-auth-container[_ngcontent-%COMP%]   .dax365-btn-primary[_ngcontent-%COMP%]{margin-top:30px;width:100%}"]}),r})()}]);let _=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=u.Kb({type:r}),r.\u0275inj=u.Jb({imports:[[o.c,n.c,i.g,i.k,P,a.a]]}),r})()}}]);