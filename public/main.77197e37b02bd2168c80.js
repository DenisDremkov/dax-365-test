(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+9sT":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("2Vo4"),i=n("LRne"),s=n("HDdC"),o=n("vkgz"),a=n("fXoL"),u=n("G9qZ"),c=n("UbJi");let l=(()=>{class t{constructor(t,e){this._coreHttpService=t,this._angularFireAuth=e,this._isAuthenticated$=new r.a(!1),this._isAuthenticatedObs$=this._isAuthenticated$.asObservable(),this._fireBaseUser$=new r.a(null),this._authUserProfile$=new r.a(null),this._authUserProfileObs$=this._authUserProfile$.asObservable(),this._isProfileCompleted$=new r.a(void 0),this._isProfileCompletedObs$=this._isProfileCompleted$.asObservable()}setIsAuthenticated(t){this._isAuthenticated$.next(t)}selectIsAuthenticated(){return this._isAuthenticatedObs$}getIsAuthenticated(){return this._isAuthenticated$.value}setAuthUserProfile(t){this._authUserProfile$.next(t),this._isProfileCompleted$.next(!0)}selectAuthUserProfile(){return this._authUserProfileObs$}setIsProfileCompleted(t){this._isProfileCompleted$.next(t)}getIsProfileCompleted(){return this._isProfileCompleted$.value}selectIsProfileCompleted(){return this._isProfileCompletedObs$}setFireBaseUser(t){this._fireBaseUser$.next(t)}getFireBaseUser(){return this._fireBaseUser$.value}getProfile(t){return t?this._coreHttpService.getProfileData().pipe(Object(o.a)(t=>{t&&t.isProfileCompleted&&(this.setIsProfileCompleted(!0),this.setAuthUserProfile(t))})):(this.clearAuthState(),Object(i.a)(null))}subscribeToFirebaseUser(){return new s.a(t=>{this._angularFireAuth.onAuthStateChanged(e=>{this.setFireBaseUser(e||null),this.setIsAuthenticated(Boolean(e)),t.next(e),t.complete()},e=>{t.error(e),t.complete()})})}clearAuthState(){this._isAuthenticated$.next(!1),this._isProfileCompleted$.next(!1),this._authUserProfile$.next(null),this._fireBaseUser$.next(null)}}return t.\u0275fac=function(e){return new(e||t)(a.Wb(u.a),a.Wb(c.a))},t.\u0275prov=a.Ib({token:t,factory:t.\u0275fac}),t})()},"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,s=t.options,a=void 0===s?{}:s,u=this.normalizeInstanceIdentifier(void 0===i?o:i);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var l=Object(r.g)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var f=Object(r.e)(h.value,2),d=f[1];u===this.normalizeInstanceIdentifier(f[0])&&d.resolve(c)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(c,u),c},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i;try{for(var s=Object(r.g)(this.onInitCallbacks),o=s.next();!o.done;o=s.next()){var a=o.value;try{a(t,e)}catch(u){}}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"1G5W":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("zx2A");function i(t){return e=>e.lift(new s(t))}class s{constructor(t){this.notifier=t}call(t,e){const n=new o(t),i=Object(r.c)(this.notifier,new r.a(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class o extends r.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2Vo4":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("XNiG"),i=n("9ppp");class s extends r.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value}next(t){super.next(this._value=t)}}},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"4I5i":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"5eHb":function(t,e,n){"use strict";n.d(e,"a",function(){return R}),n.d(e,"b",function(){return j});var r=n("fXoL"),i=n("R0Ic"),s=n("XNiG"),o=n("jhN1"),a=n("ofXK");const u=["toast-component",""];function c(t,e){if(1&t){const t=r.Tb();r.Sb(0,"button",5),r.Zb("click",function(){return r.rc(t),r.bc().remove()}),r.Sb(1,"span",6),r.zc(2,"\xd7"),r.Rb(),r.Rb()}}function l(t,e){if(1&t&&(r.Qb(0),r.zc(1),r.Pb()),2&t){const t=r.bc(2);r.Bb(1),r.Bc("[",t.duplicatesCount+1,"]")}}function h(t,e){if(1&t&&(r.Sb(0,"div"),r.zc(1),r.xc(2,l,2,1,"ng-container",4),r.Rb()),2&t){const t=r.bc();r.Db(t.options.titleClass),r.Cb("aria-label",t.title),r.Bb(1),r.Bc(" ",t.title," "),r.Bb(1),r.hc("ngIf",t.duplicatesCount)}}function f(t,e){if(1&t&&r.Nb(0,"div",7),2&t){const t=r.bc();r.Db(t.options.messageClass),r.hc("innerHTML",t.message,r.sc)}}function d(t,e){if(1&t&&(r.Sb(0,"div",8),r.zc(1),r.Rb()),2&t){const t=r.bc();r.Db(t.options.messageClass),r.Cb("aria-label",t.message),r.Bb(1),r.Bc(" ",t.message," ")}}function p(t,e){if(1&t&&(r.Sb(0,"div"),r.Nb(1,"div",9),r.Rb()),2&t){const t=r.bc();r.Bb(1),r.vc("width",t.width+"%")}}function m(t,e){if(1&t){const t=r.Tb();r.Sb(0,"button",5),r.Zb("click",function(){return r.rc(t),r.bc().remove()}),r.Sb(1,"span",6),r.zc(2,"\xd7"),r.Rb(),r.Rb()}}function g(t,e){if(1&t&&(r.Qb(0),r.zc(1),r.Pb()),2&t){const t=r.bc(2);r.Bb(1),r.Bc("[",t.duplicatesCount+1,"]")}}function y(t,e){if(1&t&&(r.Sb(0,"div"),r.zc(1),r.xc(2,g,2,1,"ng-container",4),r.Rb()),2&t){const t=r.bc();r.Db(t.options.titleClass),r.Cb("aria-label",t.title),r.Bb(1),r.Bc(" ",t.title," "),r.Bb(1),r.hc("ngIf",t.duplicatesCount)}}function v(t,e){if(1&t&&r.Nb(0,"div",7),2&t){const t=r.bc();r.Db(t.options.messageClass),r.hc("innerHTML",t.message,r.sc)}}function b(t,e){if(1&t&&(r.Sb(0,"div",8),r.zc(1),r.Rb()),2&t){const t=r.bc();r.Db(t.options.messageClass),r.Cb("aria-label",t.message),r.Bb(1),r.Bc(" ",t.message," ")}}function w(t,e){if(1&t&&(r.Sb(0,"div"),r.Nb(1,"div",9),r.Rb()),2&t){const t=r.bc();r.Bb(1),r.vc("width",t.width+"%")}}class _{constructor(t,e,n,r,i,o){this.toastId=t,this.config=e,this.message=n,this.title=r,this.toastType=i,this.toastRef=o,this._onTap=new s.a,this._onAction=new s.a,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const S={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},E=new r.r("ToastConfig");class T{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class O extends class{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let I=(()=>{class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a.d))},t.\u0275prov=r.Ib({factory:function(){return new t(r.Wb(a.d))},token:t,providedIn:"root"}),t})();class C{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let x=(()=>{class t{constructor(t,e,n,r){this._overlayContainer=t,this._componentFactoryResolver=e,this._appRef=n,this._document=r,this._paneElements=new Map}create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(t){return new O(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new C(this._createPortalHost(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(I),r.Wb(r.j),r.Wb(r.g),r.Wb(a.d))},t.\u0275prov=r.Ib({factory:function(){return new t(r.Wb(I),r.Wb(r.j),r.Wb(r.g),r.Wb(a.d))},token:t,providedIn:"root"}),t})();class k{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new s.a,this._activate=new s.a,this._manualClose=new s.a,this._resetTimeout=new s.a,this._countDuplicate=new s.a}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class A{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,n){return t===_?this._toastPackage:this._parentInjector.get(t,e,n)}}let j=(()=>{class t{constructor(t,e,n,r,i){this.overlay=e,this._injector=n,this.sanitizer=r,this.ngZone=i,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,e,n={},r=""){return this._preBuildNotification(r,t,e,this.applyConfig(n))}success(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}error(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}info(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}warning(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}clear(t){for(const e of this.toasts)if(void 0!==t){if(e.toastId===t)return void e.toastRef.manualClose()}else e.toastRef.manualClose()}remove(t){const e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const t=this.toasts[this.currentlyActive].toastRef;t.isInactive()||(this.currentlyActive=this.currentlyActive+1,t.activate())}return!0}findDuplicate(t="",e="",n,r){const{includeTitleDuplicates:i}=this.toastrConfig;for(const s of this.toasts){const o=i&&s.title===t;if((!i||o)&&s.message===e)return s.toastRef.onDuplicate(n,r),s}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,n,r)):this._buildNotification(t,e,n,r)}_buildNotification(t,e,n,i){if(!i.toastComponent)throw new Error("toastComponent required");const s=this.findDuplicate(n,e,this.toastrConfig.resetTimeoutOnDuplicate&&i.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||e)&&this.toastrConfig.preventDuplicates&&null!==s)return s;this.previousToastMessage=e;let o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const a=this.overlay.create(i.positionClass,this.overlayContainer);this.index=this.index+1;let u=e;e&&i.enableHtml&&(u=this.sanitizer.sanitize(r.I.HTML,e));const c=new k(a),l=new _(this.index,i,u,n,t,c),h=new A(l,this._injector),f=new T(i.toastComponent,h),d=a.attach(f,this.toastrConfig.newestOnTop);c.componentInstance=d.instance;const p={toastId:this.index,title:n||"",message:e||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:l.onTap(),onAction:l.onAction(),portal:d};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{p.toastRef.activate()})),this.toasts.push(p),p}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(E),r.Wb(x),r.Wb(r.s),r.Wb(o.b),r.Wb(r.A))},t.\u0275prov=r.Ib({factory:function(){return new t(r.Wb(E),r.Wb(x),r.Wb(r.o),r.Wb(o.b),r.Wb(r.A))},token:t,providedIn:"root"}),t})(),N=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),e)):this.timeout=setTimeout(()=>t(),e)}outsideInterval(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),e)):this.intervalId=setInterval(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(j),r.Mb(_),r.Mb(r.A))},t.\u0275cmp=r.Gb({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,e){1&t&&r.Zb("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(r.wc("@flyInOut",e.state),r.Db(e.toastClasses),r.vc("display",e.displayStyle))},attrs:u,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.xc(0,c,3,0,"button",0),r.xc(1,h,3,5,"div",1),r.xc(2,f,1,3,"div",2),r.xc(3,d,2,4,"div",3),r.xc(4,p,2,2,"div",4)),2&t&&(r.hc("ngIf",e.options.closeButton),r.Bb(1),r.hc("ngIf",e.title),r.Bb(1),r.hc("ngIf",e.message&&e.options.enableHtml),r.Bb(1),r.hc("ngIf",e.message&&!e.options.enableHtml),r.Bb(1),r.hc("ngIf",e.options.progressBar))},directives:[a.l],encapsulation:2,data:{animation:[Object(i.j)("flyInOut",[Object(i.g)("inactive",Object(i.h)({opacity:0})),Object(i.g)("active",Object(i.h)({opacity:1})),Object(i.g)("removed",Object(i.h)({opacity:0})),Object(i.i)("inactive => active",Object(i.e)("{{ easeTime }}ms {{ easing }}")),Object(i.i)("active => removed",Object(i.e)("{{ easeTime }}ms {{ easing }}"))])]}}),t})();const D=Object.assign(Object.assign({},S),{toastComponent:N});let R=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:E,useValue:{default:D,config:e}}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[a.c]]}),t})(),P=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.appRef=n,this.width=-1,this.toastClasses="",this.state="inactive",this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state&&(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(j),r.Mb(_),r.Mb(r.g))},t.\u0275cmp=r.Gb({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,e){1&t&&r.Zb("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(r.Db(e.toastClasses),r.vc("display",e.displayStyle))},attrs:u,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.xc(0,m,3,0,"button",0),r.xc(1,y,3,5,"div",1),r.xc(2,v,1,3,"div",2),r.xc(3,b,2,4,"div",3),r.xc(4,w,2,2,"div",4)),2&t&&(r.hc("ngIf",e.options.closeButton),r.Bb(1),r.hc("ngIf",e.title),r.Bb(1),r.hc("ngIf",e.message&&e.options.enableHtml),r.Bb(1),r.hc("ngIf",e.message&&!e.options.enableHtml),r.Bb(1),r.hc("ngIf",e.options.progressBar))},directives:[a.l],encapsulation:2}),t})();Object.assign(Object.assign({},S),{toastComponent:P})},"6NWb":function(t,e,n){"use strict";n.d(e,"a",function(){return Ct}),n.d(e,"b",function(){return xt});var r=n("fXoL");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){s(t,e,n[e])})}return t}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(u){i=!0,s=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var u={},c={};try{"undefined"!=typeof window&&(u=window),"undefined"!=typeof document&&(c=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(kt){}var l=(u.navigator||{}).userAgent,h=void 0===l?"":l,f=u,d=c,p=!!d.documentElement&&!!d.head&&"function"==typeof d.addEventListener&&"function"==typeof d.createElement,m=(~h.indexOf("MSIE")||h.indexOf("Trident/"),"svg-inline--fa"),g=[1,2,3,4,5,6,7,8,9,10],y=g.concat([11,12,13,14,15,16,17,18,19,20]),v={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},b=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",v.GROUP,v.SWAP_OPACITY,v.PRIMARY,v.SECONDARY].concat(g.map(function(t){return"".concat(t,"x")})).concat(y.map(function(t){return"w-".concat(t)})),f.FontAwesomeConfig||{});d&&"function"==typeof d.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=a(t,2),n=e[1],r=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=d.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=r&&(b[n]=r)});var w=o({},{familyPrefix:"fa",replacementClass:m,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},b);w.autoReplaceSvg||(w.observeMutations=!1);var _=o({},w);f.FontAwesomeConfig=_;var S=f||{};S.___FONT_AWESOME___||(S.___FONT_AWESOME___={}),S.___FONT_AWESOME___.styles||(S.___FONT_AWESOME___.styles={}),S.___FONT_AWESOME___.hooks||(S.___FONT_AWESOME___.hooks={}),S.___FONT_AWESOME___.shims||(S.___FONT_AWESOME___.shims=[]);var E=S.___FONT_AWESOME___,T=[];p&&((d.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(d.readyState)||d.addEventListener("DOMContentLoaded",function t(){d.removeEventListener("DOMContentLoaded",t),T.map(function(t){return t()})}));var O,I="pending",C="settled",x="fulfilled",k="rejected",A=function(){},j="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,N="undefined"==typeof setImmediate?setTimeout:setImmediate,D=[];function R(){for(var t=0;t<D.length;t++)D[t][0](D[t][1]);D=[],O=!1}function P(t,e){D.push([t,e]),O||(O=!0,N(R,0))}function L(t){var e=t.owner,n=e._state,r=e._data,i=t[n],s=t.then;if("function"==typeof i){n=x;try{r=i(r)}catch(kt){V(s,kt)}}F(s,r)||(n===x&&M(s,r),n===k&&V(s,r))}function F(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===i(e))){var r=e.then;if("function"==typeof r)return r.call(e,function(r){n||(n=!0,e===r?U(t,r):M(t,r))},function(e){n||(n=!0,V(t,e))}),!0}}catch(kt){return n||V(t,kt),!0}return!1}function M(t,e){t!==e&&F(t,e)||U(t,e)}function U(t,e){t._state===I&&(t._state=C,t._data=e,P(B,t))}function V(t,e){t._state===I&&(t._state=C,t._data=e,P(H,t))}function q(t){t._then=t._then.forEach(L)}function B(t){t._state=x,q(t)}function H(t){t._state=k,q(t),!t._handled&&j&&global.process.emit("unhandledRejection",t._data,t)}function z(t){global.process.emit("rejectionHandled",t)}function W(t){if("function"!=typeof t)throw new TypeError("Promise resolver "+t+" is not a function");if(this instanceof W==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(t,e){function n(t){V(e,t)}try{t(function(t){M(e,t)},n)}catch(kt){n(kt)}}(t,this)}W.prototype={constructor:W,_state:I,_then:null,_data:void 0,_handled:!1,then:function(t,e){var n={owner:this,then:new this.constructor(A),fulfilled:t,rejected:e};return!e&&!t||this._handled||(this._handled=!0,this._state===k&&j&&P(z,this)),this._state===x||this._state===k?P(L,n):this._then.push(n),n.then},catch:function(t){return this.then(null,t)}},W.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new W(function(e,n){var r=[],i=0;function s(t){return i++,function(n){r[t]=n,--i||e(r)}}for(var o,a=0;a<t.length;a++)(o=t[a])&&"function"==typeof o.then?o.then(s(a),n):r[a]=o;i||e(r)})},W.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new W(function(e,n){for(var r,i=0;i<t.length;i++)(r=t[i])&&"function"==typeof r.then?r.then(e,n):e(r)})},W.resolve=function(t){return t&&"object"===i(t)&&t.constructor===W?t:new W(function(e){e(t)})},W.reject=function(t){return new W(function(e,n){n(t)})};var $={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function G(){for(var t=12,e="";t-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function K(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Q(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n],";")},"")}function Y(t){return t.size!==$.size||t.x!==$.x||t.y!==$.y||t.rotate!==$.rotate||t.flipX||t.flipY}function X(t){var e=t.transform,n=t.iconWidth,r={transform:"translate(".concat(t.containerWidth/2," 256)")},i="translate(".concat(32*e.x,", ").concat(32*e.y,") "),s="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),o="rotate(".concat(e.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(i," ").concat(s," ").concat(o)},path:{transform:"translate(".concat(n/2*-1," -256)")}}}var Z={x:0,y:0,width:"100%",height:"100%"};function J(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function tt(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,a=t.transform,u=t.symbol,c=t.title,l=t.maskId,h=t.titleId,f=t.extra,d=t.watchable,p=void 0!==d&&d,m=r.found?r:n,g=m.width,y=m.height,v="fak"===i,b=v?"":"fa-w-".concat(Math.ceil(g/y*16)),w=[_.replacementClass,s?"".concat(_.familyPrefix,"-").concat(s):"",b].filter(function(t){return-1===f.classes.indexOf(t)}).filter(function(t){return""!==t||!!t}).concat(f.classes).join(" "),S={children:[],attributes:o({},f.attributes,{"data-prefix":i,"data-icon":s,class:w,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(y)})},E=v&&!~f.classes.indexOf("fa-fw")?{width:"".concat(g/y*16*.0625,"em")}:{};p&&(S.attributes["data-fa-i2svg"]=""),c&&S.children.push({tag:"title",attributes:{id:S.attributes["aria-labelledby"]||"title-".concat(h||G())},children:[c]});var T=o({},S,{prefix:i,iconName:s,main:n,mask:r,maskId:l,transform:a,symbol:u,styles:o({},E,f.styles)}),O=r.found&&n.found?function(t){var e,n=t.children,r=t.attributes,i=t.main,s=t.mask,a=t.maskId,u=i.icon,c=s.icon,l=X({transform:t.transform,containerWidth:s.width,iconWidth:i.width}),h={tag:"rect",attributes:o({},Z,{fill:"white"})},f=u.children?{children:u.children.map(J)}:{},d={tag:"g",attributes:o({},l.inner),children:[J(o({tag:u.tag,attributes:o({},u.attributes,l.path)},f))]},p={tag:"g",attributes:o({},l.outer),children:[d]},m="mask-".concat(a||G()),g="clip-".concat(a||G()),y={tag:"mask",attributes:o({},Z,{id:m,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,p]},v={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:(e=c,"g"===e.tag?e.children:[e])},y]};return n.push(v,{tag:"rect",attributes:o({fill:"currentColor","clip-path":"url(#".concat(g,")"),mask:"url(#".concat(m,")")},Z)}),{children:n,attributes:r}}(T):function(t){var e=t.children,n=t.attributes,r=t.main,i=t.transform,s=Q(t.styles);if(s.length>0&&(n.style=s),Y(i)){var a=X({transform:i,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:o({},a.outer),children:[{tag:"g",attributes:o({},a.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:o({},r.icon.attributes,a.path)}]}]})}else e.push(r.icon);return{children:e,attributes:n}}(T),I=O.attributes;return T.children=O.children,T.attributes=I,u?function(t){var e=t.iconName,n=t.children,r=t.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:o({},t.attributes,{id:!0===r?"".concat(t.prefix,"-").concat(_.familyPrefix,"-").concat(e):r}),children:n}]}]}(T):function(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,a=t.transform;if(Y(a)&&n.found&&!r.found){var u={x:n.width/n.height/2,y:.5};i.style=Q(o({},s,{"transform-origin":"".concat(u.x+a.x/16,"em ").concat(u.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(T)}var et=function(t,e,n,r){var i,s,o,a=Object.keys(t),u=a.length,c=void 0!==r?function(t,e){return function(n,r,i,s){return t.call(e,n,r,i,s)}}(e,r):e;for(void 0===n?(i=1,o=t[a[0]]):(i=0,o=n);i<u;i++)o=c(o,t[s=a[i]],s,t);return o};function nt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,s=Object.keys(e).reduce(function(t,n){var r=e[n];return r.icon?t[r.iconName]=r.icon:t[n]=r,t},{});"function"!=typeof E.hooks.addPack||i?E.styles[t]=o({},E.styles[t]||{},s):E.hooks.addPack(t,s),"fas"===t&&nt("fa",e)}var rt=E.styles,it=E.shims,st=function(){var t=function(t){return et(rt,function(e,n,r){return e[r]=et(n,t,{}),e},{})};t(function(t,e,n){return e[3]&&(t[e[3]]=n),t}),t(function(t,e,n){var r=e[2];return t[n]=n,r.forEach(function(e){t[e]=n}),t});var e="far"in rt;et(it,function(t,n){var r=n[1];return"far"!==r||e||(r="fas"),t[n[0]]={prefix:r,iconName:n[2]},t},{})};function ot(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function at(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,s=void 0===i?[]:i;return"string"==typeof t?K(t):"<".concat(e," ").concat(function(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(K(t[n]),'" ')},"").trim()}(r),">").concat(s.map(at).join(""),"</").concat(e,">")}function ut(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}st(),(ut.prototype=Object.create(Error.prototype)).constructor=ut;var ct={fill:"currentColor"},lt={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},ht=(o({},ct,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),o({},lt,{attributeName:"opacity"}));function ft(t){var e=t[0],n=t[1],r=a(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(_.familyPrefix,"-").concat(v.GROUP)},children:[{tag:"path",attributes:{class:"".concat(_.familyPrefix,"-").concat(v.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(_.familyPrefix,"-").concat(v.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}function dt(){_.autoAddCss&&!vt&&(function(t){if(t&&p){var e=d.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=d.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}d.head.insertBefore(e,r)}}(function(){var t="fa",e=m,n=_.familyPrefix,r=_.replacementClass,i='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}()),vt=!0)}function pt(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(t){return at(t)})}}),Object.defineProperty(t,"node",{get:function(){if(p){var e=d.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function mt(t){var e=t.prefix,n=void 0===e?"fa":e,r=t.iconName;if(r)return ot(yt.definitions,n,r)||ot(E.styles,n,r)}o({},ct,{cx:"256",cy:"364",r:"28"}),o({},lt,{attributeName:"r",values:"28;14;28;28;14;28;"}),o({},ht,{values:"1;0;1;1;0;1;"}),o({},ct,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),o({},ht,{values:"1;0;0;0;0;1;"}),o({},ct,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),o({},ht,{values:"0;0;1;1;0;0;"});var gt,yt=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.definitions={}}var e;return(e=[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(function(e){t.definitions[e]=o({},t.definitions[e]||{},i[e]),nt(e,i[e]),st()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map(function(e){var r=n[e],i=r.prefix,s=r.iconName,o=r.icon;t[i]||(t[i]={}),t[i][s]=o}),t}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}()),vt=!1,bt=(gt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?$:n,i=e.symbol,s=void 0!==i&&i,a=e.mask,u=void 0===a?null:a,c=e.maskId,l=void 0===c?null:c,h=e.title,f=void 0===h?null:h,d=e.titleId,p=void 0===d?null:d,m=e.classes,g=void 0===m?[]:m,y=e.attributes,v=void 0===y?{}:y,b=e.styles,w=void 0===b?{}:b;if(t){var S=t.prefix,E=t.iconName,T=t.icon;return pt(o({type:"icon"},t),function(){return dt(),_.autoA11y&&(f?v["aria-labelledby"]="".concat(_.replacementClass,"-title-").concat(p||G()):(v["aria-hidden"]="true",v.focusable="false")),tt({icons:{main:ft(T),mask:u?ft(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:S,iconName:E,transform:o({},$,r),symbol:s,title:f,maskId:l,titleId:p,extra:{attributes:v,styles:w,classes:g}})})}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t||{}).icon?t:mt(t||{}),r=e.mask;return r&&(r=(r||{}).icon?r:mt(r||{})),gt(n,o({},e,{mask:r}))}),wt=n("jhN1");const _t=["*"];let St=(()=>{class t{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this.globalLibrary=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Et=(()=>{class t{constructor(){this.definitions={}}addIcons(...t){for(const e of t)e.prefix in this.definitions||(this.definitions[e.prefix]={}),this.definitions[e.prefix][e.iconName]=e}addIconPacks(...t){for(const e of t){const t=Object.keys(e).map(t=>e[t]);this.addIcons(...t)}}getIconDefinition(t,e){return t in this.definitions&&e in this.definitions[t]?this.definitions[t][e]:null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Tt=t=>{const e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let Ot=(()=>{class t{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[r.zb]}),t})(),It=(()=>{class t{constructor(t,e){this.renderer=t,this.elementRef=e}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l))},t.\u0275cmp=r.Gb({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[r.zb],ngContentSelectors:_t,decls:1,vars:0,template:function(t,e){1&t&&(r.gc(),r.fc(0))},encapsulation:2}),t})(),Ct=(()=>{class t{constructor(t,e,n,r,i){this.sanitizer=t,this.config=e,this.iconLibrary=n,this.stackItem=r,this.classes=[],null!=i&&null==r&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let e=null;if(e=null==this.icon?this.config.fallbackIcon:this.icon,t){const t=this.findIconDefinition(e);if(null!=t){const e=this.buildParams();this.renderIcon(t,e)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const e=((t,e)=>{return void 0!==(n=t).prefix&&void 0!==n.iconName?t:Array.isArray(t)&&2===t.length?{prefix:t[0],iconName:t[1]}:"string"==typeof t?{prefix:e,iconName:t}:void 0;var n})(t,this.config.defaultPrefix);if("icon"in e)return e;const n=this.iconLibrary.getIconDefinition(e.prefix,e.iconName);if(null!=n)return n;const r=mt(e);if(null!=r){const t="Global icon library is deprecated. Consult https://github.com/FortAwesome/angular-fontawesome/blob/master/UPGRADING.md for the migration instructions.";if("unset"===this.config.globalLibrary)console.error("FontAwesome: "+t);else if(!this.config.globalLibrary)throw new Error(t);return r}return(t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(e),null}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},e="string"==typeof this.transform?function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t?t.toLowerCase().split(" ").reduce(function(t,e){var n=e.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return t.flipX=!0,t;if(r&&"v"===i)return t.flipY=!0,t;if(i=parseFloat(i),isNaN(i))return t;switch(r){case"grow":t.size=t.size+i;break;case"shrink":t.size=t.size-i;break;case"left":t.x=t.x-i;break;case"right":t.x=t.x+i;break;case"up":t.y=t.y-i;break;case"down":t.y=t.y+i;break;case"rotate":t.rotate=t.rotate+i}return t},e):e}(this.transform):this.transform;return{title:this.title,transform:e,classes:[...Tt(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,e){const n=bt(t,e);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(n.html.join("\n"))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(wt.b),r.Mb(St),r.Mb(Et),r.Mb(Ot,8),r.Mb(It,8))},t.\u0275cmp=r.Gb({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,e){2&t&&(r.Vb("innerHTML",e.renderedIconHTML,r.sc),r.Cb("title",e.title))},inputs:{classes:"classes",icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[r.zb],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),xt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})()},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return f}),n.d(e,"a",function(){return d});let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var u=n("3N8a");class c extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new h(c),d=f},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},G9qZ:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("fXoL"),s=n("RgrY");let o=(()=>{class t{constructor(t){this._angularFireFunctions=t}getProfileData(){return this._angularFireFunctions.httpsCallable("getProfileData")({}).pipe(Object(r.a)(t=>t[0]))}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(s.a))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})()},GyhO:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("LRne"),i=n("bHdf");function s(...t){return Object(i.a)(1)(Object(r.a)(...t))}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},IzEk:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q"),i=n("4I5i"),s=n("EY2u");function o(t){return e=>0===t?Object(s.b)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new i.a}call(t,e){return e.subscribe(new u(t,this.total))}}class u extends r.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},JIr8:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("zx2A");function i(t){return function(e){const n=new s(t),r=e.lift(n);return n.caught=r}}class s{constructor(t){this.selector=t}call(t,e){return e.subscribe(new o(t,this.selector,this.caught))}}class o extends r.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new r.a(this);this.add(i);const s=Object(r.c)(n,i);s!==i&&this.add(s)}}}},JX91:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("GyhO"),i=n("z+Ro");function s(...t){const e=t[t.length-1];return Object(i.a)(e)?(t.pop(),n=>Object(r.a)(t,n,e)):e=>Object(r.a)(t,e)}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.6.3","app")},Kqap:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new s(t,e,n))}}class s{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new o(t,this.accumulator,this.seed,this.hasSeed))}}class o extends r.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},PCNd:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("ofXK"),i=n("6NWb"),s=n("fXoL");let o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({imports:[[r.c,i.b]]}),t})()},R0Ic:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return a}),n.d(e,"f",function(){return u}),n.d(e,"g",function(){return l}),n.d(e,"h",function(){return c}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return o}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return m});class r{}class i{}const s="*";function o(t,e){return{type:7,name:t,definitions:e,options:{}}}function a(t,e=null){return{type:4,styles:e,timings:t}}function u(t,e=null){return{type:2,steps:t,options:e}}function c(t){return{type:6,styles:t,offset:null}}function l(t,e,n){return{type:0,name:t,styles:e,options:n}}function h(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function f(t){Promise.resolve(null).then(t)}class d{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){f(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class p{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?f(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const m="!"},RgrY:function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("fXoL"),i=n("LRne"),s=n("Cfvw"),o=n("pxpQ"),a=n("eIep"),u=n("lJxs"),c=n("UXun"),l=n("spgP");const h=new r.r("angularfire2.functions.origin"),f=new r.r("angularfire2.functions.region"),d=new r.r("angularfire2.functions.new-origin-behavior"),p=new r.r("angularfire2.functions.use-emulator");let m=(()=>{class t{constructor(t,e,r,h,f,d,p){const m=new l.d(r),g=p,y=Object(i.a)(void 0).pipe(Object(o.b)(m.outsideAngular),Object(a.a)(()=>n.e(14).then(n.bind(null,"iTTW"))),Object(u.a)(()=>Object(l.g)(t,r,e)),Object(u.a)(t=>Object(l.f)(`${t.name}.functions.${h||f}`,"AngularFireFunctions",t,()=>{let e;if(d){if(h&&f)throw new Error("REGION and ORIGIN can't be used at the same time.");e=t.functions(h||f||void 0)}else e=t.functions(h||void 0);return d||g||!f||e.useFunctionsEmulator(f),g&&e.useEmulator(...g),e},[h,f,g])),Object(c.a)({bufferSize:1,refCount:!1}));return this.httpsCallable=(t,e)=>n=>Object(s.a)(y).pipe(Object(o.b)(m.insideAngular),Object(a.a)(r=>r.httpsCallable(t,e)(n)),Object(u.a)(t=>t.data)),Object(l.i)(this,y,r)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(l.c),r.Wb(l.b,8),r.Wb(r.A),r.Wb(f,8),r.Wb(h,8),r.Wb(d,8),r.Wb(p,8))},t.\u0275prov=r.Ib({factory:function(){return new t(r.Wb(l.c),r.Wb(l.b,8),r.Wb(r.A),r.Wb(f,8),r.Wb(h,8),r.Wb(d,8),r.Wb(p,8))},token:t,providedIn:"any"}),t})();Object(l.e)(m,[{useEmulator:null,useFunctionsEmulator:null,httpsCallable:null}])},Scbg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("fXoL"),i=n("+9sT"),s=n("jrsp");let o=(()=>{class t{constructor(t,e){this._authUserStateService=t,this._coreRouterService=e}canActivateChild(){return this._check()}canLoad(){return this._check()}canActivate(){return this._check()}_check(){const t=this._authUserStateService.getIsProfileCompleted();return t&&this._coreRouterService.goToDefaultPage(),!t}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(i.a),r.Wb(s.b))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})()},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},SxV6:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("sVev"),i=n("pLZG"),s=n("IzEk"),o=n("xbPD"),a=n("XDbj"),u=n("SpAZ");function c(t,e){const n=arguments.length>=2;return c=>c.pipe(t?Object(i.a)((e,n)=>t(e,n,c)):u.a,Object(s.a)(1),n?Object(o.a)(e):Object(a.a)(()=>new r.a))}},UXun:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("XNiG"),i=n("qgXg"),s=n("quSY"),o=n("pxpQ"),a=n("9ppp"),u=n("Ylt2");class c extends r.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new l(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let c;if(this.closed)throw new a.a;if(this.isStopped||this.hasError?c=s.a.EMPTY:(this.observers.push(t),c=new u.a(this,t)),r&&t.add(t=new o.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),c}_getNow(){return(this.scheduler||i.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class l{constructor(t,e){this.time=t,this.value=e}}function h(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(l){let h;o++,!i||a?(a=!1,i=new c(t,e,r),h=i.subscribe(this),s=l.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}}),u&&(s=void 0)):h=i.subscribe(this),this.add(()=>{o--,h.unsubscribe(),h=void 0,s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}},UbJi:function(t,e,n){"use strict";n.d(e,"a",function(){return O}),n.d(e,"b",function(){return I}),n.d(e,"c",function(){return b});var r=n("fXoL"),i=n("XNiG"),s=n("LRne"),o=n("HDdC"),a=n("Cfvw"),u=n("VRyK"),c=n("pxpQ"),l=n("eIep"),h=n("lJxs"),f=n("UXun"),d=n("SxV6");function p(t,e){return e?Object(l.a)(()=>t,e):Object(l.a)(()=>t)}var m=n("tf+s"),g=n("pLZG"),y=n("spgP"),v=n("ofXK");const b=new r.r("angularfire2.auth.use-emulator"),w=new r.r("angularfire2.auth.settings"),_=new r.r("angularfire2.auth.tenant-id"),S=new r.r("angularfire2.auth.langugage-code"),E=new r.r("angularfire2.auth.use-device-language"),T=new r.r("angularfire.auth.persistence");let O=(()=>{class t{constructor(t,e,r,b,w,_,S,E,T,O){const I=new y.d(b),C=Object(y.h)(I),x=new i.a,k=Object(s.a)(void 0).pipe(Object(c.b)(I.outsideAngular),Object(l.a)(()=>b.runOutsideAngular(()=>n.e(13).then(n.bind(null,"6nsN")))),Object(h.a)(()=>Object(y.g)(t,b,e)),Object(h.a)(t=>b.runOutsideAngular(()=>{const e=w,n=_;return Object(y.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=b.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),S&&(r.tenantId=S),r.languageCode=E,T&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return O&&r.setPersistence(O),r},[e,S,E,T,n,O])})),Object(f.a)({bufferSize:1,refCount:!1}));if(Object(v.r)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(s.a)(null);else{k.pipe(Object(d.a)()).subscribe();const t=k.pipe(Object(l.a)(t=>t.getRedirectResult().then(t=>t,()=>null)),C,Object(f.a)({bufferSize:1,refCount:!1})),e=t=>new o.a(e=>({unsubscribe:b.runOutsideAngular(()=>t(e))})),n=k.pipe(Object(l.a)(t=>e(t.onAuthStateChanged.bind(t)))),r=k.pipe(Object(l.a)(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(p(n),Object(m.a)(I.outsideAngular),Object(c.b)(I.insideAngular)),this.user=t.pipe(p(r),Object(m.a)(I.outsideAngular),Object(c.b)(I.insideAngular)),this.idToken=this.user.pipe(Object(l.a)(t=>t?Object(a.a)(t.getIdToken()):Object(s.a)(null))),this.idTokenResult=this.user.pipe(Object(l.a)(t=>t?Object(a.a)(t.getIdTokenResult()):Object(s.a)(null))),this.credential=Object(u.a)(t,x,this.authState.pipe(Object(g.a)(t=>!t))).pipe(Object(h.a)(t=>(null==t?void 0:t.user)?t:null),Object(m.a)(I.outsideAngular),Object(c.b)(I.insideAngular))}return Object(y.i)(this,k,b,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>x.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(y.c),r.Wb(y.b,8),r.Wb(r.C),r.Wb(r.A),r.Wb(b,8),r.Wb(w,8),r.Wb(_,8),r.Wb(S,8),r.Wb(E,8),r.Wb(T,8))},t.\u0275prov=r.Ib({factory:function(){return new t(r.Wb(y.c),r.Wb(y.b,8),r.Wb(r.C),r.Wb(r.A),r.Wb(b,8),r.Wb(w,8),r.Wb(_,8),r.Wb(S,8),r.Wb(E,8),r.Wb(T,8))},token:t,providedIn:"any"}),t})();Object(y.e)(O,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[O]}),t})()},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XDbj:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("sVev"),i=n("7o/Q");function s(t=u){return e=>e.lift(new o(t))}class o{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new a(t,this.errorFactory))}}class a extends i.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function u(){return new r.a}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},bOdf:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("5+tZ");function i(t,e){return Object(r.a)(t,e,1)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},eIep:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e){return"function"==typeof e?n=>n.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))))):e=>e.lift(new a(t))}class a{constructor(t){this.project=t}call(t,e){return e.subscribe(new u(t,this.project))}}class u extends s.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new s.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(s.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return un}),n.d(e,"b",function(){return tc}),n.d(e,"c",function(){return Qu}),n.d(e,"d",function(){return Gu}),n.d(e,"e",function(){return Ku}),n.d(e,"f",function(){return Gc}),n.d(e,"g",function(){return Fc}),n.d(e,"h",function(){return Ua}),n.d(e,"i",function(){return hc}),n.d(e,"j",function(){return ca}),n.d(e,"k",function(){return rc}),n.d(e,"l",function(){return da}),n.d(e,"m",function(){return Or}),n.d(e,"n",function(){return Iu}),n.d(e,"o",function(){return ds}),n.d(e,"p",function(){return xn}),n.d(e,"q",function(){return j}),n.d(e,"r",function(){return an}),n.d(e,"s",function(){return ks}),n.d(e,"t",function(){return Na}),n.d(e,"u",function(){return Ra}),n.d(e,"v",function(){return nc}),n.d(e,"w",function(){return Ya}),n.d(e,"x",function(){return Uc}),n.d(e,"y",function(){return Qa}),n.d(e,"z",function(){return Nc}),n.d(e,"A",function(){return pc}),n.d(e,"B",function(){return kn}),n.d(e,"C",function(){return Ju}),n.d(e,"D",function(){return Zu}),n.d(e,"E",function(){return ga}),n.d(e,"F",function(){return ma}),n.d(e,"G",function(){return jr}),n.d(e,"H",function(){return va}),n.d(e,"I",function(){return vr}),n.d(e,"J",function(){return An}),n.d(e,"K",function(){return Bc}),n.d(e,"L",function(){return Wa}),n.d(e,"M",function(){return _c}),n.d(e,"N",function(){return cn}),n.d(e,"O",function(){return wa}),n.d(e,"P",function(){return ba}),n.d(e,"Q",function(){return Za}),n.d(e,"R",function(){return F}),n.d(e,"S",function(){return Dc}),n.d(e,"T",function(){return Ac}),n.d(e,"U",function(){return m}),n.d(e,"V",function(){return kc}),n.d(e,"W",function(){return Wc}),n.d(e,"X",function(){return Tc}),n.d(e,"Y",function(){return ec}),n.d(e,"Z",function(){return ms}),n.d(e,"ab",function(){return Qo}),n.d(e,"bb",function(){return v}),n.d(e,"cb",function(){return gr}),n.d(e,"db",function(){return Jn}),n.d(e,"eb",function(){return Bn}),n.d(e,"fb",function(){return zn}),n.d(e,"gb",function(){return Kn}),n.d(e,"hb",function(){return $n}),n.d(e,"ib",function(){return Wn}),n.d(e,"jb",function(){return Gn}),n.d(e,"kb",function(){return Wo}),n.d(e,"lb",function(){return zc}),n.d(e,"mb",function(){return $o}),n.d(e,"nb",function(){return Go}),n.d(e,"ob",function(){return Hn}),n.d(e,"pb",function(){return B}),n.d(e,"qb",function(){return Us}),n.d(e,"rb",function(){return oo}),n.d(e,"sb",function(){return io}),n.d(e,"tb",function(){return so}),n.d(e,"ub",function(){return zo}),n.d(e,"vb",function(){return Ct}),n.d(e,"wb",function(){return f}),n.d(e,"xb",function(){return qn}),n.d(e,"yb",function(){return js}),n.d(e,"zb",function(){return _t}),n.d(e,"Ab",function(){return oa}),n.d(e,"Bb",function(){return vi}),n.d(e,"Cb",function(){return zs}),n.d(e,"Db",function(){return Oo}),n.d(e,"Eb",function(){return To}),n.d(e,"Fb",function(){return Vu}),n.d(e,"Gb",function(){return tt}),n.d(e,"Hb",function(){return at}),n.d(e,"Ib",function(){return S}),n.d(e,"Jb",function(){return E}),n.d(e,"Kb",function(){return it}),n.d(e,"Lb",function(){return ut}),n.d(e,"Mb",function(){return Ks}),n.d(e,"Nb",function(){return Js}),n.d(e,"Ob",function(){return no}),n.d(e,"Pb",function(){return eo}),n.d(e,"Qb",function(){return to}),n.d(e,"Rb",function(){return Zs}),n.d(e,"Sb",function(){return Xs}),n.d(e,"Tb",function(){return ro}),n.d(e,"Ub",function(){return en}),n.d(e,"Vb",function(){return Uo}),n.d(e,"Wb",function(){return On}),n.d(e,"Xb",function(){return rn}),n.d(e,"Yb",function(){return $u}),n.d(e,"Zb",function(){return ao}),n.d(e,"ac",function(){return qu}),n.d(e,"bc",function(){return lo}),n.d(e,"cc",function(){return wu}),n.d(e,"dc",function(){return _u}),n.d(e,"ec",function(){return Su}),n.d(e,"fc",function(){return po}),n.d(e,"gc",function(){return fo}),n.d(e,"hc",function(){return Qs}),n.d(e,"ic",function(){return mo}),n.d(e,"jc",function(){return du}),n.d(e,"kc",function(){return pu}),n.d(e,"lc",function(){return mu}),n.d(e,"mc",function(){return gu}),n.d(e,"nc",function(){return Mu}),n.d(e,"oc",function(){return Gs}),n.d(e,"pc",function(){return kr}),n.d(e,"qc",function(){return xr}),n.d(e,"rc",function(){return Gt}),n.d(e,"sc",function(){return br}),n.d(e,"tc",function(){return wr}),n.d(e,"uc",function(){return st}),n.d(e,"vc",function(){return Eo}),n.d(e,"wc",function(){return Vo}),n.d(e,"xc",function(){return $s}),n.d(e,"yc",function(){return Wu}),n.d(e,"zc",function(){return Lo}),n.d(e,"Ac",function(){return Fo}),n.d(e,"Bc",function(){return Mo}),n.d(e,"Cc",function(){return Uu});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("EQ5u"),u=n("x+ZX");function c(){return new r.a}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function f(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(f).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function d(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function m(t){return t.__forward_ref__=m,t.toString=function(){return f(this())},t}function g(t){return y(t)?t():t}function y(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===m}class v extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function b(t){return"string"==typeof t?t:null==t?"":String(t)}function w(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():b(t)}function _(t,e){const n=e?` in ${e}`:"";throw new v("201",`No provider for ${w(t)} found${n}`)}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function E(t){return{providers:t.providers||[],imports:t.imports||[]}}function T(t){return O(t,C)||O(t,k)}function O(t,e){return t.hasOwnProperty(e)?t[e]:null}function I(t){return t&&(t.hasOwnProperty(x)||t.hasOwnProperty(A))?t[x]:null}const C=l({"\u0275prov":l}),x=l({"\u0275inj":l}),k=l({ngInjectableDef:l}),A=l({ngInjectorDef:l});var j=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let N;function D(t){const e=N;return N=t,e}function R(t,e,n){const r=T(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&j.Optional?null:void 0!==e?e:void _(f(t),"Injector")}function P(t){return{toString:t}.toString()}var L=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),F=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const M="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,B=M||q||U||V,H={},z=[],W=[],$=l({"\u0275cmp":l}),G=l({"\u0275dir":l}),K=l({"\u0275pipe":l}),Q=l({"\u0275mod":l}),Y=l({"\u0275loc":l}),X=l({"\u0275fac":l}),Z=l({__NG_ELEMENT_ID__:l});let J=0;function tt(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||W,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||F.Emulated,id:"c",styles:t.styles||W,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=J++,n.inputs=ot(t.inputs,e),n.outputs=ot(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[G]||null}(t)}function nt(t){return function(t){return t[K]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||W,declarations:t.declarations||W,imports:t.imports||W,exports:t.exports||W,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&P(()=>{rt[t.id]=t.type}),e}function st(t,e){return P(()=>{const n=lt(t,!0);n.declarations=e.declarations||W,n.imports=e.imports||W,n.exports=e.exports||W})}function ot(t,e){if(null==t)return H;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[$]||null}function lt(t,e){const n=t[Q]||null;if(!n&&!0===e)throw new Error(`Type ${f(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function mt(t){return 0!=(8&t.flags)}function gt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function vt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(X)?t[X]:null}class wt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function _t(){return St}function St(t){return t.type.prototype.ngOnChanges&&(t.setInput=Tt),Et}function Et(){const t=Ot(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===H)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Tt(t,e,n,r){const i=Ot(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:H,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new wt(u&&u.currentValue,e,o===H),t[r]=e}function Ot(t){return t.__ngSimpleChanges__||null}let It;function Ct(t){It=t}function xt(){return void 0!==It?It:"undefined"!=typeof document?document:void 0}function kt(t){return!!t.listen}_t.ngInherit=!0;const At={createRenderer:(t,e)=>xt()};function jt(t){for(;Array.isArray(t);)t=t[0];return t}function Nt(t,e){return jt(e[t])}function Dt(t,e){return jt(e[t.index])}function Rt(t,e){return t.data[e]}function Pt(t,e){return t[e]}function Lt(t,e){const n=e[t];return dt(n)?n:n[0]}function Ft(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Mt(t){return 4==(4&t[2])}function Ut(t){return 128==(128&t[2])}function Vt(t,e){return null==e?null:t[e]}function qt(t){t[18]=0}function Bt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ht={lFrame:de(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function zt(){return Ht.bindingsEnabled}function Wt(){return Ht.lFrame.lView}function $t(){return Ht.lFrame.tView}function Gt(t){Ht.lFrame.contextLView=t}function Kt(){let t=Qt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Qt(){return Ht.lFrame.currentTNode}function Yt(t,e){const n=Ht.lFrame;n.currentTNode=t,n.isParent=e}function Xt(){return Ht.lFrame.isParent}function Zt(){Ht.lFrame.isParent=!1}function Jt(){return Ht.isInCheckNoChangesMode}function te(t){Ht.isInCheckNoChangesMode=t}function ee(){const t=Ht.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ne(){return Ht.lFrame.bindingIndex++}function re(t){const e=Ht.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ie(t,e){const n=Ht.lFrame;n.bindingIndex=n.bindingRootIndex=t,se(e)}function se(t){Ht.lFrame.currentDirectiveIndex=t}function oe(t){const e=Ht.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function ae(){return Ht.lFrame.currentQueryIndex}function ue(t){Ht.lFrame.currentQueryIndex=t}function ce(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function le(t,e,n){if(n&j.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&j.Host||(r=ce(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ht.lFrame=fe();return r.currentTNode=e,r.lView=t,!0}function he(t){const e=fe(),n=t[1];Ht.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function fe(){const t=Ht.lFrame,e=null===t?null:t.child;return null===e?de(t):e}function de(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function pe(){const t=Ht.lFrame;return Ht.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const me=pe;function ge(){const t=pe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ye(){return Ht.lFrame.selectedIndex}function ve(t){Ht.lFrame.selectedIndex=t}function be(){const t=Ht.lFrame;return Rt(t.tView,t.selectedIndex)}function we(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function _e(t,e,n){Te(t,e,3,n)}function Se(t,e,n,r){(3&t[2])===n&&Te(t,e,n,r)}function Ee(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Te(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Oe(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Oe(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const Ie=-1;class Ce{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function xe(t,e,n){const r=kt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Ae(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function ke(t){return 3===t||4===t||6===t}function Ae(t){return 64===t.charCodeAt(0)}function je(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ne(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ne(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function De(t){return t!==Ie}function Re(t){return 32767&t}function Pe(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Le=!0;function Fe(t){const e=Le;return Le=t,e}let Me=0;function Ue(t,e){const n=qe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ve(r.data,t),Ve(e,null),Ve(r.blueprint,null));const i=Be(t,e),s=t.injectorIndex;if(De(i)){const t=Re(i),n=Pe(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Ve(t,e){t.push(0,0,0,0,0,0,0,0,e)}function qe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Be(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ie;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ie}function He(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Z)&&(r=n[Z]),null==r&&(r=n[Z]=Me++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function ze(t,e,n){if(n&j.Optional)return t;_(e,"NodeInjector")}function We(t,e,n,r){if(n&j.Optional&&void 0===r&&(r=null),0==(n&(j.Self|j.Host))){const i=t[9],s=D(void 0);try{return i?i.get(e,r,n&j.Optional):R(e,r,n&j.Optional)}finally{D(s)}}return ze(r,e,n)}function $e(t,e,n,r=j.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Z)?t[Z]:void 0;return"number"==typeof e?e>=0?255&e:Ke:e}(n);if("function"==typeof s){if(!le(e,t,r))return r&j.Host?ze(i,n,r):We(e,n,r,i);try{const t=s();if(null!=t||r&j.Optional)return t;_(n)}finally{me()}}else if("number"==typeof s){let i=null,o=qe(t,e),a=Ie,u=r&j.Host?e[16][6]:null;for((-1===o||r&j.SkipSelf)&&(a=-1===o?Be(t,e):e[o+8],a!==Ie&&Je(r,!1)?(i=e[1],o=Re(a),e=Pe(a,e)):o=-1);-1!==o;){const t=e[1];if(Ze(s,o,t.data)){const t=Qe(o,e,n,i,r,u);if(t!==Ge)return t}a=e[o+8],a!==Ie&&Je(r,e[1].data[o+8]===u)&&Ze(s,o,e)?(i=t,o=Re(a),e=Pe(a,e)):o=-1}}}return We(e,n,r,i)}const Ge={};function Ke(){return new tn(Kt(),Wt())}function Qe(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=Ye(a,o,n,null==r?gt(a)&&Le:r!=o&&0!=(3&a.type),i&j.Host&&s===a);return null!==u?Xe(e,o,u,a):Ge}function Ye(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&vt(t)&&t.type===n)return u}return null}function Xe(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Ce){const o=i;o.resolving&&function(t,e){throw new v("200",`Circular dependency in DI detected for ${t}`)}(w(s[n]));const a=Fe(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?D(o.injectImpl):null;le(t,r,j.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=St(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&D(u),Fe(a),o.resolving=!1,me()}}return i}function Ze(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Je(t,e){return!(t&j.Self||t&j.Host&&e)}class tn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return $e(this._tNode,this._lView,t,void 0,e)}}function en(t){return P(()=>{const e=t.prototype.constructor,n=e[X]||nn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[X]||nn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function nn(t){return y(t)?()=>{const e=nn(g(t));return e&&e()}:bt(t)}function rn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(ke(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Kt(),t)}const sn="__parameters__";function on(t,e,n){return P(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(sn)?t[sn]:Object.defineProperty(t,sn,{value:[]})[sn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class an{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=S({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const un=new an("AnalyzeForEntryComponents"),cn=Function;function ln(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),ln(r,e)):e!==t&&e.push(r)}return e}function hn(t,e){t.forEach(t=>Array.isArray(t)?hn(t,e):e(t))}function fn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function mn(t,e,n){let r=yn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function gn(t,e){const n=yn(t,e);if(n>=0)return t[1|n]}function yn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const vn={},bn=/\n/gm,wn="__source",_n=l({provide:String,useValue:l});let Sn;function En(t){const e=Sn;return Sn=t,e}function Tn(t,e=j.Default){if(void 0===Sn)throw new Error("inject() must be called from an injection context");return null===Sn?R(t,void 0,e):Sn.get(t,e&j.Optional?null:void 0,e)}function On(t,e=j.Default){return(N||Tn)(g(t),e)}function In(t){const e=[];for(let n=0;n<t.length;n++){const r=g(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=j.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(On(t,n))}else e.push(On(r))}return e}function Cn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const xn=Cn(on("Inject",t=>({token:t})),-1),kn=Cn(on("Optional"),8),An=Cn(on("SkipSelf"),4);let jn,Nn;function Dn(t){var e;return(null===(e=function(){if(void 0===jn&&(jn=null,B.trustedTypes))try{jn=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return jn}())||void 0===e?void 0:e.createHTML(t))||t}function Rn(t){var e;return(null===(e=function(){if(void 0===Nn&&(Nn=null,B.trustedTypes))try{Nn=B.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Nn}())||void 0===e?void 0:e.createHTML(t))||t}class Pn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ln extends Pn{getTypeName(){return"HTML"}}class Fn extends Pn{getTypeName(){return"Style"}}class Mn extends Pn{getTypeName(){return"Script"}}class Un extends Pn{getTypeName(){return"URL"}}class Vn extends Pn{getTypeName(){return"ResourceURL"}}function qn(t){return t instanceof Pn?t.changingThisBreaksApplicationSecurity:t}function Bn(t,e){const n=Hn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Hn(t){return t instanceof Pn&&t.getTypeName()||null}function zn(t){return new Ln(t)}function Wn(t){return new Fn(t)}function $n(t){return new Mn(t)}function Gn(t){return new Un(t)}function Kn(t){return new Vn(t)}class Qn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Dn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Yn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Dn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Dn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Xn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Zn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Jn(t){return(t=String(t)).match(Xn)||t.match(Zn)?t:"unsafe:"+t}function tr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function er(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const nr=tr("area,br,col,hr,img,wbr"),rr=tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ir=tr("rp,rt"),sr=er(ir,rr),or=er(nr,er(rr,tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),er(ir,tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sr),ar=tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ur=tr("srcset"),cr=er(ar,ur,tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lr=tr("script,style,template");class hr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!or.hasOwnProperty(e))return this.sanitizedSomething=!0,!lr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!cr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;ar[s]&&(o=Jn(o)),ur[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Jn(t.trim())).join(", ")),this.buf.push(" ",e,'="',pr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();or.hasOwnProperty(e)&&!nr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(pr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const fr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dr=/([^\#-~ |!])/g;function pr(t){return t.replace(/&/g,"&amp;").replace(fr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(dr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mr;function gr(t,e){let n=null;try{mr=mr||function(t){const e=new Yn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Dn(""),"text/html")}catch(t){return!1}}()?new Qn(e):e}(t);let r=e?String(e):"";n=mr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=mr.getInertBodyElement(r)}while(r!==s);return Dn((new hr).sanitizeChildren(yr(n)||n))}finally{if(n){const t=yr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function yr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var vr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function br(t){const e=_r();return e?Rn(e.sanitize(vr.HTML,t)||""):Bn(t,"HTML")?Rn(qn(t)):gr(xt(),b(t))}function wr(t){const e=_r();return e?e.sanitize(vr.URL,t)||"":Bn(t,"URL")?qn(t):Jn(b(t))}function _r(){const t=Wt();return t&&t[12]}function Sr(t){return t.ngDebugContext}function Er(t){return t.ngOriginalError}function Tr(t,...e){t.error(...e)}class Or{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Tr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Sr(t)?Sr(t):this._findContext(Er(t)):null}_findOriginalError(t){let e=Er(t);for(;e&&Er(e);)e=Er(e);return e}}function Ir(t,e){t.__ngContext__=e}const Cr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function xr(t){return{name:"window",target:t.ownerDocument.defaultView}}function kr(t){return{name:"document",target:t.ownerDocument}}function Ar(t){return t instanceof Function?t():t}var jr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Nr(t,e){return(void 0)(t,e)}function Dr(t){const e=t[3];return pt(e)?e[3]:e}function Rr(t){return Lr(t[13])}function Pr(t){return Lr(t[4])}function Lr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Fr(t,e,n,r,i){if(null!=r){let s,o=!1;pt(r)?s=r:dt(r)&&(o=!0,r=r[0]);const a=jt(r);0===t&&null!==n?null==i?Wr(e,n,a):zr(e,n,a,i||null,!0):1===t&&null!==n?zr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Gr(t,e);r&&function(t,e,n,r){kt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==jt(n)&&Fr(e,t,r,s,i);for(let o=ft;o<n.length;o++){const i=n[o];ei(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Mr(t,e,n){return kt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Ur(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Bt(i,-1)),n.splice(r,1)}function Vr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Ur(s,r),e>0&&(t[n-1][4]=r[4]);const o=dn(t,ft+e);ei(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function qr(t,e){if(!(256&e[2])){const n=e[11];kt(n)&&n.destroyNode&&ei(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Br(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Br(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Br(e[1],e),n=e&&e[4]}e=n}}(e)}}function Br(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ce)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):jt(e[t]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&kt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Ur(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Hr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===F.None||e===F.Emulated)return null}return Dt(r,n)}(t,e.parent,n)}function zr(t,e,n,r,i){kt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Wr(t,e,n){kt(t)?t.appendChild(e,n):e.appendChild(n)}function $r(t,e,n,r,i){null!==r?zr(t,e,n,r,i):Wr(t,e,n)}function Gr(t,e){return kt(t)?t.parentNode(e):e.parentNode}function Kr(t,e,n){return Qr(t,e,n)}let Qr=function(t,e,n){return 40&t.type?Dt(t,n):null};function Yr(t,e,n,r){const i=Hr(t,r,e),s=e[11],o=Kr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)$r(s,i,n[a],o,!1);else $r(s,i,n,o,!1)}function Xr(t,e){if(null!==e){const n=e.type;if(3&n)return Dt(e,t);if(4&n)return Jr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Xr(t,n);{const n=t[e.index];return pt(n)?Jr(-1,n):jt(n)}}if(32&n)return Nr(e,t)()||jt(t[e.index]);{const n=Zr(t,e);return null!==n?Array.isArray(n)?n[0]:Xr(Dr(t[16]),n):Xr(t,e.next)}}return null}function Zr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Jr(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Xr(t,r)}return e[7]}function ti(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Ir(jt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)ti(t,e,n.child,r,i,s,!1),Fr(e,t,i,a,s);else if(32&u){const o=Nr(n,r);let u;for(;u=o();)Fr(e,t,i,u,s);Fr(e,t,i,a,s)}else 16&u?ni(t,e,r,n,i,s):Fr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ei(t,e,n,r,i,s){ti(n,r,t.firstChild,e,i,s,!1)}function ni(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Fr(e,t,i,a[u],s);else ti(t,e,a,o[3],i,s,!0)}function ri(t,e,n){kt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ii(t,e,n){kt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function si(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const oi="ng-template";function ai(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==si(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ui(t){return 4===t.type&&t.value!==oi}function ci(t,e,n){return e===(4!==t.type||n?t.value:oi)}function li(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(ke(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!ci(t,u,n)||""===u&&1===e.length){if(hi(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ai(t.attrs,c,n)){if(hi(r))return!1;o=!0}continue}const l=fi(8&r?"class":u,i,ui(t),n);if(-1===l){if(hi(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==si(e,c,0)||2&r&&c!==t){if(hi(r))return!1;o=!0}}}}else{if(!o&&!hi(r)&&!hi(u))return!1;if(o&&hi(u))continue;o=!1,r=u|1&r}}return hi(r)||o}function hi(t){return 0==(1&t)}function fi(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function di(t,e,n=!1){for(let r=0;r<e.length;r++)if(li(t,e[r],n))return!0;return!1}function pi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function mi(t,e){return t?":not("+e.trim()+")":e}function gi(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||hi(o)||(e+=mi(s,i),i=""),r=o,s=s||!hi(r);n++}return""!==i&&(e+=mi(s,i)),e}const yi={};function vi(t){bi($t(),Wt(),ye()+t,Jt())}function bi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&_e(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Se(e,r,0,n)}ve(n)}function wi(t,e){return t<<17|e<<2}function _i(t){return t>>17&32767}function Si(t){return 2|t}function Ei(t){return(131068&t)>>2}function Ti(t,e){return-131069&t|e<<2}function Oi(t){return 1|t}function Ii(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];ue(i),n.contentQueries(2,e[s],s)}}}function Ci(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,qt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function xi(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Qt(),o=Xt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),Ht.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=Ht.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Yt(s,!0),s}function ki(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ai(t,e,n){he(e);try{const r=t.viewQuery;null!==r&&os(1,r,n);const i=t.template;null!==i&&Di(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ii(t,e),t.staticViewQueries&&os(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)es(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ge()}}function ji(t,e,n,r){const i=e[2];if(256==(256&i))return;he(e);const s=Jt();try{qt(e),Ht.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Di(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&_e(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Se(e,n,0,null),Ee(e,0)}if(function(t){for(let e=Rr(t);null!==e;e=Pr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Bt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Rr(t);null!==e;e=Pr(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];Ut(n)&&ji(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Ii(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&_e(e,n)}else{const n=t.contentHooks;null!==n&&Se(e,n,1),Ee(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ve(~r);else{const i=r,s=n[++t],o=n[++t];ie(s,i),o(2,e[i])}}}finally{ve(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Ji(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&os(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&_e(e,n)}else{const n=t.viewHooks;null!==n&&Se(e,n,2),Ee(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Bt(e[3],-1))}finally{ge()}}function Ni(t,e,n,r){const i=e[10],s=!Jt(),o=Mt(e);try{s&&!o&&i.begin&&i.begin(),o&&Ai(t,e,r),ji(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Di(t,e,n,r,i){const s=ye(),o=2&r;try{ve(-1),o&&e.length>ht&&bi(t,e,ht,Jt()),n(r,i)}finally{ve(s)}}function Ri(t,e,n){if(mt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Pi(t,e,n){zt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Ue(n,e),Ir(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=vt(r);s&&Qi(e,n,r);const u=Xe(e,t,a,n);Ir(u,e),null!==o&&Yi(0,a-i,u,r,0,o),s&&(Lt(n.index,e)[8]=u)}}(t,e,n,Dt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Ht.lFrame.currentDirectiveIndex;try{ve(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];se(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||zi(r,i)}}finally{ve(-1),se(o)}}(t,e,n))}function Li(t,e,n=Dt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Fi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Mi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Mi(t,e,n,r,i,s,o,a,u,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:yi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ui(t,e,n,r){const i=us(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&cs(t).push(r,i.length-1))}function Vi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function qi(t,e,n,r,i,s,o,a){const u=Dt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(hs(t,n,c,r,i),gt(e)&&function(t,e){const n=Lt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,kt(s)?s.setProperty(u,r,i):Ae(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Bi(t,e,n,r){let i=!1;if(zt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];di(n,o.selectors,!1)&&(i||(i=[]),He(Ue(n,e),t,o.type),vt(o)?(Wi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Gi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=ki(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=je(n.mergedAttrs,c.hostAttrs),Ki(t,n,e,u,c),$i(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ui(e)?null:Xi(n,i);s.push(c),o=Vi(n,u,o),a=Vi(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new v("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=je(n.mergedAttrs,n.attrs),i}function Hi(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function zi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Wi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function $i(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vt(e)&&(n[""]=t)}}function Gi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ki(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=bt(i.type)),o=new Ce(s,vt(i),null);t.blueprint[r]=o,n[r]=o,Hi(t,e,0,r,ki(t,n,i.hostVars,yi),i)}function Qi(t,e,n){const r=Dt(e,t),i=Fi(n),s=t[10],o=ns(t,Ci(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Yi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Xi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Zi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Ji(t,e){const n=Lt(e,t);if(Ut(n)){const t=n[1];80&n[2]?ji(t,n,t.template,n[8]):n[5]>0&&ts(n)}}function ts(t){for(let n=Rr(t);null!==n;n=Pr(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];ji(t,e,t.template,e[8])}else e[5]>0&&ts(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Lt(e[n],t);Ut(r)&&r[5]>0&&ts(r)}}function es(t,e){const n=Lt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ai(r,n,n[8])}function ns(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function rs(t){for(;t;){t[2]|=64;const e=Dr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function is(t,e,n){const r=e[10];r.begin&&r.begin();try{ji(t,e,t.template,n)}catch(i){throw ls(e,i),i}finally{r.end&&r.end()}}function ss(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ft(n),i=r[1];Ni(i,r,i.template,n)}}(t[8])}function os(t,e,n){ue(0),e(t,n)}const as=(()=>Promise.resolve(null))();function us(t){return t[7]||(t[7]=[])}function cs(t){return t.cleanup||(t.cleanup=[])}function ls(t,e){const n=t[9],r=n?n.get(Or,null):null;r&&r.handleError(e)}function hs(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function fs(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=d(i,t):2==s&&(r=d(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const ds=new an("INJECTOR",-1);class ps{get(t,e=vn){if(e===vn){const e=new Error(`NullInjectorError: No provider for ${f(t)}!`);throw e.name="NullInjectorError",e}return e}}const ms=new an("Set Injector scope."),gs={},ys={},vs=[];let bs;function ws(){return void 0===bs&&(bs=new ps),bs}function _s(t,e=null,n=null,r){return new Ss(t,n,e||ws(),r)}class Ss{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&hn(e,n=>this.processProvider(n,t,e)),hn([t],t=>this.processInjectorType(t,[],i)),this.records.set(ds,Os(void 0,this));const s=this.records.get(ms);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:f(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=vn,n=j.Default){this.assertNotDestroyed();const r=En(this);try{if(!(n&j.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof an)&&T(t);e=n&&this.injectableDefInScope(n)?Os(Es(t),gs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&j.Self?ws():this.parent).get(t,e=n&j.Optional&&e===vn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(f(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[wn]&&i.unshift(e[wn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=f(e);if(Array.isArray(e))i=e.map(f).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):f(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(bn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{En(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(f(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=g(t)))return!1;let r=I(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=I(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{hn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];hn(r,t=>this.processProvider(t,n,r||vs))}}this.injectorDefTypes.add(s);const a=bt(s)||(()=>new s);this.records.set(s,Os(a,gs));const u=r.providers;if(null!=u&&!o){const e=t;hn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Cs(t=g(t))?t:g(t&&t.provide);const i=function(t,e,n){return Is(t)?Os(void 0,t.useValue):Os(Ts(t),gs)}(t);if(Cs(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Os(void 0,gs,!0),e.factory=()=>In(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===gs&&(e.value=ys,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Es(t){const e=T(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;if(t instanceof an)throw new Error(`Token ${f(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=pn(e,"?");throw new Error(`Can't resolve all parameters for ${f(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[C]||t[k]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Ts(t,e,n){let r;if(Cs(t)){const e=g(t);return bt(e)||Es(e)}if(Is(t))r=()=>g(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...In(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>On(g(t.useExisting));else{const e=g(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||Es(e);r=()=>new e(...In(t.deps))}var i;return r}function Os(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Is(t){return null!==t&&"object"==typeof t&&_n in t}function Cs(t){return"function"==typeof t}const xs=function(t,e,n){return function(t,e=null,n=null,r){const i=_s(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let ks=(()=>{class t{static create(t,e){return Array.isArray(t)?xs(t,e,""):xs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=vn,t.NULL=new ps,t.\u0275prov=S({token:t,providedIn:"any",factory:()=>On(ds)}),t.__NG_ELEMENT_ID__=-1,t})();function As(t,e){we(Ft(t)[1],Kt())}function js(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(vt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ns(t.inputs),e.declaredInputs=Ns(t.declaredInputs),e.outputs=Ns(t.outputs);const n=i.hostBindings;n&&Ps(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Ds(t,s),o&&Rs(t,o),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),vt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===js&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=je(i.hostAttrs,n=je(n,i.hostAttrs))}}(r)}function Ns(t){return t===H?{}:t===W?[]:t}function Ds(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Rs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Ps(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Ls=null;function Fs(){if(!Ls){const t=B.Symbol;if(t&&t.iterator)Ls=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ls=n)}}}return Ls}class Ms{constructor(t){this.wrapped=t}static wrap(t){return new Ms(t)}static unwrap(t){return Ms.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ms}}function Us(t){return!!Vs(t)&&(Array.isArray(t)||!(t instanceof Map)&&Fs()in t)}function Vs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function qs(t,e,n){return t[e]=n}function Bs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Hs(t,e,n,r){const i=Bs(t,e,n);return Bs(t,e+1,r)||i}function zs(t,e,n,r){const i=Wt();return Bs(i,ne(),e)&&($t(),function(t,e,n,r,i,s){const o=Dt(t,e);!function(t,e,n,r,i,s,o){if(null==s)kt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?b(s):o(s,r||"",i);kt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(be(),i,t,e,n,r)),zs}function Ws(t,e,n,r){return Bs(t,ne(),n)?e+b(n)+r:yi}function $s(t,e,n,r,i,s,o,a){const u=Wt(),c=$t(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=xi(e,t,4,o||null,Vt(c,a));Bi(e,n,l,Vt(c,u)),we(e,l);const h=l.tViews=Mi(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Yt(h,!1);const f=u[11].createComment("");Yr(c,u,f,h),Ir(f,u),ns(u,u[l]=Zi(f,u,f,h)),yt(h)&&Pi(c,u,h),null!=o&&Li(u,h,a)}function Gs(t){return Pt(Ht.lFrame.contextLView,ht+t)}function Ks(t,e=j.Default){const n=Wt();return null===n?On(t,e):$e(Kt(),n,g(t),e)}function Qs(t,e,n){const r=Wt();return Bs(r,ne(),e)&&qi($t(),be(),r,t,e,r[11],n,!1),Qs}function Ys(t,e,n,r,i){const s=i?"class":"style";hs(t,n,e.inputs[s],s,r)}function Xs(t,e,n,r){const i=Wt(),s=$t(),o=ht+t,a=i[11],u=i[o]=Mr(a,e,Ht.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=xi(e,t,2,i,Vt(a,s));return Bi(e,n,u,Vt(a,o)),null!==u.attrs&&fs(u,u.attrs,!1),null!==u.mergedAttrs&&fs(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];Yt(c,!0);const l=c.mergedAttrs;null!==l&&xe(a,u,l);const h=c.classes;null!==h&&ii(a,u,h);const f=c.styles;null!==f&&ri(a,u,f),64!=(64&c.flags)&&Yr(s,i,u,c),0===Ht.lFrame.elementDepthCount&&Ir(u,i),Ht.lFrame.elementDepthCount++,yt(c)&&(Pi(s,i,c),Ri(s,c,i)),null!==r&&Li(i,c)}function Zs(){let t=Kt();Xt()?Zt():(t=t.parent,Yt(t,!1));const e=t;Ht.lFrame.elementDepthCount--;const n=$t();n.firstCreatePass&&(we(n,t),mt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ys(n,e,Wt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ys(n,e,Wt(),e.stylesWithoutHost,!1)}function Js(t,e,n,r){Xs(t,e,n,r),Zs()}function to(t,e,n){const r=Wt(),i=$t(),s=t+ht,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Vt(s,r),a=xi(e,t,8,"ng-container",o);return null!==o&&fs(a,o,!0),Bi(e,n,a,Vt(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Yt(o,!0);const a=r[s]=r[11].createComment("");Yr(i,r,a,o),Ir(a,r),yt(o)&&(Pi(i,r,o),Ri(i,o,r)),null!=n&&Li(r,o)}function eo(){let t=Kt();const e=$t();Xt()?Zt():(t=t.parent,Yt(t,!1)),e.firstCreatePass&&(we(e,t),mt(t)&&e.queries.elementEnd(t))}function no(t,e,n){to(t,e,n),eo()}function ro(){return Wt()}function io(t){return!!t&&"function"==typeof t.then}function so(t){return!!t&&"function"==typeof t.subscribe}const oo=so;function ao(t,e,n=!1,r){const i=Wt(),s=$t(),o=Kt();return function(t,e,n,r,i,s,o=!1,a){const u=yt(r),c=t.firstCreatePass&&cs(t),l=us(e);let h=!0;if(3&r.type){const f=Dt(r,e),d=a?a(f):H,p=d.target||f,m=l.length,g=a?t=>a(jt(t[r.index])).target:r.index;if(kt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=co(r,e,0,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,g,m,m+1)}}else s=co(r,e,0,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,g,m,o)}else s=co(r,e,0,s,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),ao}function uo(t,e,n,r){try{return!1!==n(r)}catch(i){return ls(t,i),!1}}function co(t,e,n,r,i){return function n(s){if(s===Function)return r;const o=2&t.flags?Lt(t.index,e):e;0==(32&e[2])&&rs(o);let a=uo(e,0,r,s),u=n.__ngNextListenerFn__;for(;u;)a=uo(e,0,u,s)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function lo(t=1){return function(t){return(Ht.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ht.lFrame.contextLView))[8]}(t)}function ho(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?di(t,s,!0):pi(r,s))return i}else n=i}return n}function fo(t){const e=Wt()[16][6];if(!e.projection){const n=e.projection=pn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?ho(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function po(t,e=0,n){const r=Wt(),i=$t(),s=xi(i,ht+t,16,null,n||null);null===s.projection&&(s.projection=e),Zt(),64!=(64&s.flags)&&function(t,e,n){ni(e[11],0,e,n,Hr(t,n,e),Kr(n.parent||e[6],n,e))}(i,r,s)}function mo(t,e,n){return go(t,"",e,"",n),mo}function go(t,e,n,r,i){const s=Wt(),o=Ws(s,e,n,r);return o!==yi&&qi($t(),be(),s,t,o,s[11],i,!1),go}function yo(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?_i(s):Ei(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];vo(t[a],e)&&(u=!0,t[a+1]=r?Oi(n):Si(n)),a=r?_i(n):Ei(n)}u&&(t[n+1]=r?Si(s):Oi(s))}function vo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&yn(t,e)>=0}const bo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wo(t){return t.substring(bo.key,bo.keyEnd)}function _o(t,e){const n=bo.textEnd;return n===e?-1:(e=bo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,bo.key=e,n),So(t,e,n))}function So(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Eo(t,e,n){return Co(t,e,n,!1),Eo}function To(t,e){return Co(t,e,null,!0),To}function Oo(t){!function(t,e,n,r){const i=$t(),s=re(2);i.firstUpdatePass&&ko(i,null,s,r);const o=Wt();if(n!==yi&&Bs(o,s,n)){const a=i.data[ye()];if(Po(a,r)&&!xo(i,s)){let t=a.classesWithoutHost;null!==t&&(n=d(t,n||"")),Ys(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===yi&&(i=z);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const o=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let d,p=null;l===h?(u+=2,c+=2,o!==f&&(p=h,d=f)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,d=f),null!==p&&No(t,e,n,r,p,d,true,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return z;const r=[],i=qn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,s)}}(mn,Io,t,!0)}function Io(t,e){for(let n=function(t){return function(t){bo.key=0,bo.keyEnd=0,bo.value=0,bo.valueEnd=0,bo.textEnd=t.length}(t),_o(t,So(t,0,bo.textEnd))}(e);n>=0;n=_o(e,n))mn(t,wo(e),!0)}function Co(t,e,n,r){const i=Wt(),s=$t(),o=re(2);s.firstUpdatePass&&ko(s,t,o,r),e!==yi&&Bs(i,o,e)&&No(s,s.data[ye()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=f(qn(t)))),t}(e,n),r,o)}function xo(t,e){return e>=t.expandoStartIndex}function ko(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[ye()],o=xo(t,n);Po(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=oe(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=jo(n=Ao(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Ao(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ei(r))return t[_i(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Ao(null,t,e,n[1],r),n=jo(n,e.attrs,r),function(t,e,n,r){t[_i(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=jo(r,t[s].hostAttrs,n);return jo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=_i(o),u=Ei(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||yn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=_i(t[a+1]);t[r+1]=wi(e,a),0!==e&&(t[e+1]=Ti(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=wi(a,0),0!==a&&(t[a+1]=Ti(t[a+1],r)),a=r;else t[r+1]=wi(u,0),0===a?a=r:t[u+1]=Ti(t[u+1],r),u=r;l&&(t[r+1]=Si(t[r+1])),yo(t,c,r,!0),yo(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&yn(s,e)>=0&&(n[r+1]=Oi(n[r+1]))}(e,c,t,r,s),o=wi(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Ao(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=jo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function jo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),mn(t,o,!!n||e[++s]))}return void 0===t?null:t}function No(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Ro(1==(1&c)?Do(u,e,n,i,Ei(c),o):void 0)||(Ro(s)||2==(2&c)&&(s=Do(u,null,n,i,a,o)),function(t,e,n,r,i){const s=kt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:jr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=jr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Nt(ye(),n),i,s))}function Do(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===yi&&(l=c?z:void 0);let h=c?gn(l,r):u===r?l:void 0;if(s&&!Ro(h)&&(h=gn(e,r)),Ro(h)&&(a=h,o))return a;const f=t[i+1];i=o?_i(f):Ei(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=gn(t,r))}return a}function Ro(t){return void 0!==t}function Po(t,e){return 0!=(t.flags&(e?16:32))}function Lo(t,e=""){const n=Wt(),r=$t(),i=t+ht,s=r.firstCreatePass?xi(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return kt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Yr(r,n,o,s),Yt(s,!1)}function Fo(t){return Mo("",t,""),Fo}function Mo(t,e,n){const r=Wt(),i=Ws(r,t,e,n);return i!==yi&&function(t,e,n){const r=Nt(e,t);!function(t,e,n){kt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,ye(),i),Mo}function Uo(t,e,n){const r=Wt();return Bs(r,ne(),e)&&qi($t(),be(),r,t,e,r[11],n,!0),Uo}function Vo(t,e,n){const r=Wt();if(Bs(r,ne(),e)){const i=$t(),s=be();qi(i,s,r,t,e,function(t,e,n){return(null===t||vt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}(oe(i.data),s,r),n,!0)}return Vo}const qo=void 0;var Bo=["en",[["a","p"],["AM","PM"],qo],[["AM","PM"],qo,qo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qo,"{1} 'at' {0}",qo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ho={};function zo(t,e,n){"string"!=typeof e&&(n=e,e=t[Qo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Ho[e]=t,n&&(Ho[e][Qo.ExtraData]=n)}function Wo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ko(e);if(n)return n;const r=e.split("-")[0];if(n=Ko(r),n)return n;if("en"===r)return Bo;throw new Error(`Missing locale data for the locale "${t}".`)}function $o(t){return Wo(t)[Qo.CurrencyCode]||null}function Go(t){return Wo(t)[Qo.PluralCase]}function Ko(t){return t in Ho||(Ho[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),Ho[t]}var Qo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Yo="en-US";let Xo=Yo;function Zo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Xo=t.toLowerCase().replace(/_/g,"-"))}function Jo(t,e,n,r,i){if(t=g(t),Array.isArray(t))for(let s=0;s<t.length;s++)Jo(t[s],e,n,r,i);else{const s=$t(),o=Wt();let a=Cs(t)?t:g(t.provide),u=Ts(t);const c=Kt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Cs(t)||!t.multi){const r=new Ce(u,i,Ks),d=na(a,e,i?l:l+f,h);-1===d?(He(Ue(c,o),s,a),ta(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=na(a,e,l+f,h),p=na(a,e,l,l+f),m=d>=0&&n[d],g=p>=0&&n[p];if(i&&!g||!i&&!m){He(Ue(c,o),s,a);const l=function(t,e,n,r,i){const s=new Ce(t,n,Ks);return s.multi=[],s.index=e,s.componentProviders=0,ea(s,i,r&&!n),s}(i?ia:ra,n.length,i,r,u);!i&&g&&(n[p].providerFactory=l),ta(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else ta(s,t,d>-1?d:p,ea(n[i?p:d],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function ta(t,e,n,r){const i=Cs(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function ea(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function na(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ra(t,e,n,r){return sa(this.multi,[])}function ia(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Xe(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),sa(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],sa(i,s);return s}function sa(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function oa(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=$t();if(r.firstCreatePass){const i=vt(t);Jo(n,r.data,r.blueprint,i,!0),Jo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class aa{}class ua{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${f(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ca=(()=>{class t{}return t.NULL=new ua,t})();function la(...t){}function ha(t,e){return new da(Dt(t,e))}const fa=function(){return ha(Kt(),Wt())};let da=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=fa,t})();function pa(t){return t instanceof da?t.nativeElement:t}class ma{}let ga=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ya(),t})();const ya=function(){const t=Wt(),e=Lt(Kt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let va=(()=>{class t{}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>null}),t})();class ba{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const wa=new ba("11.2.14");class _a{constructor(){}supports(t){return Us(t)}create(t){return new Ea(t)}}const Sa=(t,e)=>e;class Ea{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Sa}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Ca(n,r,i)?e:n,o=Ca(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Us(t))throw new Error(`Error trying to diff '${f(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Fs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Ta(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ia),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ia),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ta{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Oa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ia{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Oa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ca(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class xa{constructor(){}supports(t){return t instanceof Map||Vs(t)}create(){return new ka}}class ka{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Vs(t)))throw new Error(`Error trying to diff '${f(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Aa(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Aa{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ja(){return new Na([new _a])}let Na=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ja()),deps:[[t,new An,new kn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=S({token:t,providedIn:"root",factory:ja}),t})();function Da(){return new Ra([new xa])}let Ra=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Da()),deps:[[t,new An,new kn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=S({token:t,providedIn:"root",factory:Da}),t})();function Pa(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(jt(s)),pt(s))for(let t=ft;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&Pa(e[1],e,n,r)}const o=n.type;if(8&o)Pa(t,e,n.child,r);else if(32&o){const t=Nr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=Zr(e,n);if(Array.isArray(t))r.push(...t);else{const n=Dr(e[16]);Pa(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class La{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Pa(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Vr(t,n),dn(e,n))}this._attachedToViewContainer=!1}qr(this._lView[1],this._lView)}onDestroy(t){Ui(this._lView[1],this._lView,null,t)}markForCheck(){rs(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){is(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){te(!0);try{is(t,e,n)}finally{te(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,ei(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Fa extends La{constructor(t){super(t),this._view=t}detectChanges(){ss(this._view)}checkNoChanges(){!function(t){te(!0);try{ss(t)}finally{te(!1)}}(this._view)}get context(){return null}}const Ma=Va;let Ua=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ma,t.__ChangeDetectorRef__=!0,t})();function Va(t=!1){return function(t,e,n){if(!n&&gt(t)){const n=Lt(t.index,e);return new La(n,n)}return 47&t.type?new La(e[16],e):null}(Kt(),Wt(),t)}const qa=[new xa],Ba=new Na([new _a]),Ha=new Ra(qa),za=function(){return Ka(Kt(),Wt())};let Wa=(()=>{class t{}return t.__NG_ELEMENT_ID__=za,t})();const $a=Wa,Ga=class extends $a{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ci(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ai(e,n,t),new La(n)}};function Ka(t,e){return 4&t.type?new Ga(e,t,ha(t,e)):null}class Qa{}class Ya{}const Xa=function(){return ru(Kt(),Wt())};let Za=(()=>{class t{}return t.__NG_ELEMENT_ID__=Xa,t})();const Ja=Za,tu=class extends Ja{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return ha(this._hostTNode,this._hostLView)}get injector(){return new tn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Be(this._hostTNode,this._hostLView);if(De(t)){const e=Pe(t,this._hostLView),n=Re(t);return new tn(e[1].data[n+8],e)}return new tn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=eu(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Qa,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new tu(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=ft+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-ft?(e[4]=n[i],fn(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Jr(i,s),a=n[11],u=Gr(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,ei(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(),fn(nu(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=eu(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Vr(this._lContainer,e);n&&(dn(nu(this._lContainer),e),qr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Vr(this._lContainer,e);return n&&null!=dn(nu(this._lContainer),e)?new La(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function eu(t){return t[8]}function nu(t){return t[8]||(t[8]=[])}function ru(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=jt(r);else{const n=e[11];i=n.createComment("");const r=Dt(t,e);zr(n,Gr(n,r),i,function(t,e){return kt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Zi(r,e,i,t),ns(e,n)}return new tu(n,t,e)}const iu={};class su extends ca{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new uu(e,this.ngModule)}}function ou(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const au=new an("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Cr});class uu extends aa{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(gi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ou(this.componentDef.inputs)}get outputs(){return ou(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,iu,i);return s!==iu||r===iu?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(ma,At),o=i.get(va,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(kt(t))return t.selectRootElement(e,n===F.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Mr(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Cr,clean:as,playerHandler:null,flags:0},f=Mi(0,null,null,1,0,null,null,null,null,null),d=Ci(null,f,h,l,null,null,s,a,o,i);let p,m;he(d);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=xi(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(fs(a,u,!0),null!==t&&(xe(i,t,u),null!==a.classes&&ii(i,t,a.classes),null!==a.styles&&ri(i,t,a.styles)));const c=r.createRenderer(t,e),l=Ci(n,Fi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(He(Ue(a,n),o,e.type),Wi(o,a),Gi(a,n.length,1)),ns(n,l),n[20]=l}(c,this.componentDef,d,s,a);if(c)if(n)xe(a,c,["ng-version",wa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!hi(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&xe(a,c,t),e&&e.length>0&&ii(a,c,e.join(" "))}if(m=Rt(f,ht),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Kt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ki(t,r,e,ki(t,e,1,null),n));const i=Xe(e,t,r.directiveStart,r);Ir(i,e);const s=Dt(r,e);return s&&Ir(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Kt();e.contentQueries(1,o,t.directiveStart)}const a=Kt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ve(a.index),Hi(n[1],a,0,a.directiveStart,a.directiveEnd,e),zi(e,o)),o}(t,this.componentDef,d,h,[As]),Ai(f,d,null)}finally{ge()}return new cu(this.componentType,p,ha(m,d),d,m)}}class cu extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Fa(r),this.componentType=t}get injector(){return new tn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const lu=new Map;class hu extends Qa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new su(this);const n=lt(t),r=t[Y]||null;r&&Zo(r),this._bootstrapComponents=Ar(n.bootstrap),this._r3Injector=_s(t,e,[{provide:Qa,useValue:this},{provide:ca,useValue:this.componentFactoryResolver}],f(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=ks.THROW_IF_NOT_FOUND,n=j.Default){return t===ks||t===Qa||t===ds?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class fu extends Ya{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${f(e)} vs ${f(e.name)}`)}(i,lu.get(i),n),lu.set(i,n));const s=Ar(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new hu(this.moduleType,t)}}function du(t,e,n,r){return vu(Wt(),ee(),t,e,n,r)}function pu(t,e,n,r,i){return bu(Wt(),ee(),t,e,n,r,i)}function mu(t,e,n,r,i,s){return function(t,e,n,r,i,s,o,a){const u=e+n;return function(t,e,n,r,i){const s=Hs(t,e,n,r);return Bs(t,e+2,i)||s}(t,u,i,s,o)?qs(t,u+3,a?r.call(a,i,s,o):r(i,s,o)):yu(t,u+3)}(Wt(),ee(),t,e,n,r,i,s)}function gu(t,e,n,r,i,s,o){return function(t,e,n,r,i,s,o,a,u){const c=e+n;return function(t,e,n,r,i,s){const o=Hs(t,e,n,r);return Hs(t,e+2,i,s)||o}(t,c,i,s,o,a)?qs(t,c+4,u?r.call(u,i,s,o,a):r(i,s,o,a)):yu(t,c+4)}(Wt(),ee(),t,e,n,r,i,s,o)}function yu(t,e){const n=t[e];return n===yi?void 0:n}function vu(t,e,n,r,i,s){const o=e+n;return Bs(t,o,i)?qs(t,o+1,s?r.call(s,i):r(i)):yu(t,o+1)}function bu(t,e,n,r,i,s,o){const a=e+n;return Hs(t,a,i,s)?qs(t,a+2,o?r.call(o,i,s):r(i,s)):yu(t,a+2)}function wu(t,e){const n=$t();let r;const i=t+ht;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new v("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=bt(r.type)),o=D(Ks);try{const t=Fe(!1),e=s();return Fe(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Wt(),i,e),e}finally{D(o)}}function _u(t,e,n){const r=t+ht,i=Wt(),s=Pt(i,r);return Tu(i,Eu(i,r)?vu(i,ee(),e,s.transform,n,s):s.transform(n))}function Su(t,e,n,r){const i=t+ht,s=Wt(),o=Pt(s,i);return Tu(s,Eu(s,i)?bu(s,ee(),e,o.transform,n,r,o):o.transform(n,r))}function Eu(t,e){return t[1].data[e].pure}function Tu(t,e){return Ms.isWrapped(e)&&(e=Ms.unwrap(e),t[Ht.lFrame.bindingIndex]=yi),e}function Ou(t){return e=>{setTimeout(t,void 0,e)}}const Iu=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,s,o;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(s=e.error)||void 0===s?void 0:s.bind(e),c=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(u=Ou(u),a&&(a=Ou(a)),c&&(c=Ou(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.a&&t.add(l),l}};function Cu(){return this._results[Fs()]()}class xu{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Fs(),n=xu.prototype;n[e]||(n[e]=Cu)}get changes(){return this._changes||(this._changes=new Iu)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=ln(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class ku{constructor(t){this.queryList=t,this.matches=null}clone(){return new ku(this.queryList)}setDirty(){this.queryList.setDirty()}}class Au{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Au(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==zu(t,e).matches&&this.queries[e].setDirty()}}class ju{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Nu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Nu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Du{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Du(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Ru(e,i)),this.matchTNodeWithReadOption(t,e,Ye(e,t,i,!1,!1))}else n===Wa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ye(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===da||r===Za||r===Wa&&4&e.type)this.addMatch(e.index,-2);else{const n=Ye(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ru(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Pu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?ha(t,e):4&t.type?Ka(t,e):null}(e,t):-2===n?function(t,e,n){return n===da?ha(e,t):n===Wa?Ka(e,t):n===Za?ru(e,t):void 0}(t,e,r):Xe(t,t[1],n,e)}function Lu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Pu(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Fu(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Lu(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=ft;t<o.length;t++){const e=o[t];e[17]===e[3]&&Fu(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Fu(n[1],n,i,r)}}}}}return r}function Mu(t){const e=Wt(),n=$t(),r=ae();ue(r+1);const i=zu(n,r);if(t.dirty&&Mt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Fu(n,e,r,[]):Lu(n,e,i,r);t.reset(s,pa),t.notifyOnChanges()}return!0}return!1}function Uu(t,e,n){const r=$t();r.firstCreatePass&&(Hu(r,new ju(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Bu(r,Wt(),e)}function Vu(t,e,n,r){const i=$t();if(i.firstCreatePass){const s=Kt();Hu(i,new ju(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Bu(i,Wt(),n)}function qu(){return t=Wt(),e=ae(),t[19].queries[e].queryList;var t,e}function Bu(t,e,n){const r=new xu(4==(4&n));Ui(t,e,r,r.destroy),null===e[19]&&(e[19]=new Au),e[19].queries.push(new ku(r))}function Hu(t,e,n){null===t.queries&&(t.queries=new Nu),t.queries.track(new Du(e,n))}function zu(t,e){return t.queries.getByIndex(e)}function Wu(t,e){return Ka(t,e)}function $u(t=j.Default){const e=Va(!0);if(null!=e||t&j.Optional)return e;_("ChangeDetectorRef")}const Gu=new an("Application Initializer");let Ku=(()=>{class t{constructor(t){this.appInits=t,this.resolve=la,this.reject=la,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();io(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(On(Gu,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Qu=new an("AppId"),Yu={provide:Qu,useFactory:function(){return`${Xu()}${Xu()}${Xu()}`},deps:[]};function Xu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Zu=new an("Platform Initializer"),Ju=new an("Platform ID"),tc=new an("appBootstrapListener");let ec=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const nc=new an("LocaleId"),rc=new an("DefaultCurrencyCode");class ic{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const sc=function(t){return new fu(t)},oc=sc,ac=function(t){return Promise.resolve(sc(t))},uc=function(t){const e=sc(t),n=Ar(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new uu(n)),t},[]);return new ic(e,n)},cc=uc,lc=function(t){return Promise.resolve(uc(t))};let hc=(()=>{class t{constructor(){this.compileModuleSync=oc,this.compileModuleAsync=ac,this.compileModuleAndAllComponentsSync=cc,this.compileModuleAndAllComponentsAsync=lc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const fc=(()=>Promise.resolve(0))();function dc(t){"undefined"==typeof Zone?fc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class pc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Iu(!1),this.onMicrotaskEmpty=new Iu(!1),this.onStable=new Iu(!1),this.onError=new Iu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,yc(t),gc(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),yc(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return vc(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),bc(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return vc(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),bc(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,yc(t),gc(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(pc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,mc,la,la);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const mc={};function gc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function yc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function vc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bc(t){t._nesting--,gc(t)}class wc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Iu,this.onMicrotaskEmpty=new Iu,this.onStable=new Iu,this.onError=new Iu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let _c=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pc.assertNotInAngularZone(),dc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())dc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(On(pc))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})(),Sc=(()=>{class t{constructor(){this._applications=new Map,Ic.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ic.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();class Ec{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Tc(t){Ic=t}let Oc,Ic=new Ec,Cc=!0,xc=!1;function kc(){return xc=!0,Cc}function Ac(){if(xc)throw new Error("Cannot enable prod mode after platform setup.");Cc=!1}const jc=new an("AllowMultipleToken");class Nc{constructor(t,e){this.name=t,this.token=e}}function Dc(t,e,n=[]){const r=`Platform: ${e}`,i=new an(r);return(e=[])=>{let s=Rc();if(!s||s.injector.get(jc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ms,useValue:"platform"});!function(t){if(Oc&&!Oc.destroyed&&!Oc.injector.get(jc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Oc=t.get(Pc);const e=t.get(Zu,null);e&&e.forEach(t=>t())}(ks.create({providers:t,name:r}))}return function(t){const e=Rc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Rc(){return Oc&&!Oc.destroyed?Oc:null}let Pc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new wc:("zone.js"===t?void 0:t)||new pc({enableLongStackTrace:kc(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:pc,useValue:n}];return n.run(()=>{const e=ks.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Or,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{Mc(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return io(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Ku);return t.runInitializers(),t.donePromise.then(()=>(Zo(i.injector.get(nc,Yo)||Yo),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Lc({},e);return function(t,e,n){const r=new fu(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Fc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${f(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(On(ks))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Lc(t,e){return Array.isArray(e)?e.reduce(Lc,t):Object.assign(Object.assign({},t),e)}let Fc=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{pc.assertNotInAngularZone(),dc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{pc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(l,h.pipe(t=>{return Object(u.a)()((e=c,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.b);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof aa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Qa),i=n.create(ks.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(_c,null),a=o&&i.injector.get(Sc);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Mc(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Mc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(tc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(On(pc),On(ks),On(Or),On(ca),On(Ku))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Mc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Uc{}class Vc{}const qc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Bc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||qc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Hc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Hc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(On(hc),On(Vc,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Hc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const zc=function(t){return null},Wc=Dc(null,"core",[{provide:Ju,useValue:"unknown"},{provide:Pc,deps:[ks]},{provide:Sc,deps:[]},{provide:ec,deps:[]}]),$c=[{provide:Fc,useClass:Fc,deps:[pc,ks,Or,ca,Ku]},{provide:au,deps:[pc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ku,useClass:Ku,deps:[[new kn,Gu]]},{provide:hc,useClass:hc,deps:[]},Yu,{provide:Na,useFactory:function(){return Ba},deps:[]},{provide:Ra,useFactory:function(){return Ha},deps:[]},{provide:nc,useFactory:function(t){return Zo(t=t||"undefined"!=typeof $localize&&$localize.locale||Yo),t},deps:[[new xn(nc),new kn,new An]]},{provide:rc,useValue:"USD"}];let Gc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(On(Fc))},t.\u0275mod=it({type:t}),t.\u0275inj=E({providers:$c}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},jhN1:function(t,e,n){"use strict";n.d(e,"a",function(){return M}),n.d(e,"b",function(){return N}),n.d(e,"c",function(){return L}),n.d(e,"d",function(){return S});var r=n("ofXK"),i=n("fXoL");class s extends r.s{constructor(){super()}supportsDOMEvents(){return!0}}class o extends s{static makeCurrent(){Object(r.w)(new o)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=u||(u=document.querySelector("base"),u)?u.getAttribute("href"):null;return null==e?null:(n=e,a||(a=document.createElement("a")),a.setAttribute("href",n),"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname);var n}resetBaseElement(){u=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Object(r.v)(document.cookie,t)}}let a,u=null;const c=new i.r("TRANSITION_ID"),l=[{provide:i.d,useFactory:function(t,e,n){return()=>{n.get(i.e).donePromise.then(()=>{const n=Object(r.u)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[c,r.d,i.s],multi:!0}];class h{static init(){Object(i.X)(new h)}addToWindow(t){i.pb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},i.pb.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.pb.getAllAngularRootElements=()=>t.getAllRootElements(),i.pb.frameworkStabilizers||(i.pb.frameworkStabilizers=[]),i.pb.frameworkStabilizers.push(t=>{const e=i.pb.getAllAngularTestabilities();let n=e.length,r=!1;const s=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?Object(r.u)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const f=new i.r("EventManagerPlugins");let d=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(f),i.Wb(i.A))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();class p{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=Object(r.u)().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let m=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),g=(()=>{class t extends m{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(y),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(y))}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(r.d))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();function y(t){Object(r.u)().remove(t)}const v={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},b=/%COMP%/g;function w(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?w(t,i,n):(i=i.replace(b,t),n.push(i))}return n}function _(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let S=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new E(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new T(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case i.R.ShadowDom:return new O(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=w(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(d),i.Wb(g),i.Wb(i.c))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();class E{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(v[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=v[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=v[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(i.G.DashCase|i.G.Important)?t.style.setProperty(e,n,r&i.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,_(n)):this.eventManager.addEventListener(t,e,_(n))}}class T extends E{constructor(t,e,n,r){super(t),this.component=n;const i=w(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(b,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(b,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class O extends E{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=w(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let I=(()=>{class t extends p{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(r.d))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();const C=["alt","control","meta","shift"],x={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},k={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},A={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let j=(()=>{class t extends p{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const s=t.parseEventName(n),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Object(r.u)().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(C.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&k.hasOwnProperty(e)&&(e=k[e]))}return x[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),C.forEach(r=>{r!=n&&(0,A[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(r.d))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),N=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Ib)({factory:function(){return Object(i.Wb)(R)},token:t,providedIn:"root"}),t})();function D(t){return new R(t.get(r.d))}let R=(()=>{class t extends N{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case i.I.NONE:return e;case i.I.HTML:return Object(i.eb)(e,"HTML")?Object(i.xb)(e):Object(i.cb)(this._doc,String(e)).toString();case i.I.STYLE:return Object(i.eb)(e,"Style")?Object(i.xb)(e):e;case i.I.SCRIPT:if(Object(i.eb)(e,"Script"))return Object(i.xb)(e);throw new Error("unsafe value used in a script context");case i.I.URL:return Object(i.ob)(e),Object(i.eb)(e,"URL")?Object(i.xb)(e):Object(i.db)(String(e));case i.I.RESOURCE_URL:if(Object(i.eb)(e,"ResourceURL"))return Object(i.xb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(i.fb)(t)}bypassSecurityTrustStyle(t){return Object(i.ib)(t)}bypassSecurityTrustScript(t){return Object(i.hb)(t)}bypassSecurityTrustUrl(t){return Object(i.jb)(t)}bypassSecurityTrustResourceUrl(t){return Object(i.gb)(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(r.d))},t.\u0275prov=Object(i.Ib)({factory:function(){return D(Object(i.Wb)(i.o))},token:t,providedIn:"root"}),t})();const P=[{provide:i.C,useValue:r.t},{provide:i.D,useValue:function(){o.makeCurrent(),h.init()},multi:!0},{provide:r.d,useFactory:function(){return Object(i.vb)(document),document},deps:[]}],L=Object(i.S)(i.W,"browser",P),F=[[],{provide:i.Z,useValue:"root"},{provide:i.m,useFactory:function(){return new i.m},deps:[]},{provide:f,useClass:I,multi:!0,deps:[r.d,i.A,i.C]},{provide:f,useClass:j,multi:!0,deps:[r.d]},[],{provide:S,useClass:S,deps:[d,g,i.c]},{provide:i.F,useExisting:S},{provide:m,useExisting:g},{provide:g,useClass:g,deps:[r.d]},{provide:i.M,useClass:i.M,deps:[i.A]},{provide:d,useClass:d,deps:[f,i.A]},[]];let M=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:i.c,useValue:e.appId},{provide:c,useExisting:i.c},l]}}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(t,12))},t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({providers:F,imports:[r.c,i.f]}),t})();"undefined"!=typeof window&&window},jrsp:function(t,e,n){"use strict";n.d(e,"c",function(){return s}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("fXoL"),i=n("tyNb"),s=function(t){return t.DEFAULT="/",t.HOME="home",t.GUEST="guest",t.COMPLETE_PROFILE="complete-profile",t.SHOPPINGS="shoppings",t.LOGIN="login",t.REGISTRATION="registration",t.NOT_FOUND="404",t}({});const o={DEFAULT:[s.DEFAULT],COMPLETE_PROFILE:[s.HOME,s.COMPLETE_PROFILE],SHOPPINGS:[s.HOME,s.SHOPPINGS],LOGIN:[s.GUEST,s.LOGIN],REGISTRATION:[s.GUEST,s.REGISTRATION]};let a=(()=>{class t{constructor(t,e){this._router=t,this._ngZone=e}goToDefaultPage(){this._navigate(["/"])}goToCompleteProfilePage(){this._navigate(o.COMPLETE_PROFILE)}goToShoppings(){this._navigate(o.SHOPPINGS)}goToLoginPage(){this._navigate(o.LOGIN)}goToRegistrPage(){this._navigate(o.REGISTRATION)}_navigate(t){this._ngZone.run(()=>{this._router.navigate(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(i.a),r.Wb(r.A))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})()},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},ofXK:function(t,e,n){"use strict";n.d(e,"a",function(){return w}),n.d(e,"b",function(){return _t}),n.d(e,"c",function(){return Et}),n.d(e,"d",function(){return u}),n.d(e,"e",function(){return St}),n.d(e,"f",function(){return S}),n.d(e,"g",function(){return h}),n.d(e,"h",function(){return E}),n.d(e,"i",function(){return v}),n.d(e,"j",function(){return ut}),n.d(e,"k",function(){return lt}),n.d(e,"l",function(){return ft}),n.d(e,"m",function(){return mt}),n.d(e,"n",function(){return _}),n.d(e,"o",function(){return c}),n.d(e,"p",function(){return Ct}),n.d(e,"q",function(){return Ot}),n.d(e,"r",function(){return It}),n.d(e,"s",function(){return a}),n.d(e,"t",function(){return Tt}),n.d(e,"u",function(){return s}),n.d(e,"v",function(){return at}),n.d(e,"w",function(){return o});var r=n("fXoL");let i=null;function s(){return i}function o(t){i||(i=t)}class a{}const u=new r.r("DocumentToken");let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return Object(r.Wb)(f)}const h=new r.r("Location Initialized");let f=(()=>{class t extends c{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(u))},t.\u0275prov=Object(r.Ib)({factory:p,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function p(){return new f(Object(r.Wb)(u))}function m(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function y(t){return t&&"?"!==t[0]?"?"+t:t}let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r.Wb)(u).location;return new _(Object(r.Wb)(c),e&&e.origin||"")}const w=new r.r("appBaseHref");let _=(()=>{class t extends v{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return m(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(c),r.Wb(w,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),S=(()=>{class t extends v{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=m(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(c),r.Wb(w,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(O(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+y(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(v),r.Wb(c))},t.normalizeQueryParams=y,t.joinWithSlash=m,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Ib)({factory:T,token:t,providedIn:"root"}),t})();function T(){return new E(Object(r.Wb)(v),Object(r.Wb)(c))}function O(t){return t.replace(/\/index.html$/,"")}var I=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),C=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),x=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),k=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),A=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function j(t,e){return F(Object(r.kb)(t)[r.ab.DateFormat],e)}function N(t,e){return F(Object(r.kb)(t)[r.ab.TimeFormat],e)}function D(t,e){return F(Object(r.kb)(t)[r.ab.DateTimeFormat],e)}function R(t,e){const n=Object(r.kb)(t),i=n[r.ab.NumberSymbols][e];if(void 0===i){if(e===A.CurrencyDecimal)return n[r.ab.NumberSymbols][A.Decimal];if(e===A.CurrencyGroup)return n[r.ab.NumberSymbols][A.Group]}return i}const P=r.nb;function L(t){if(!t[r.ab.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.ab.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function F(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function M(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const U=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,V={},q=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var B=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),H=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),z=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function W(t,e,n,r){let i=function(t){if(it(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[e,n=1,r=1]=t.split("-").map(t=>+t);return $(e,n-1,r)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let n;if(n=t.match(U))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,u,c),e}(n)}const e=new Date(t);if(!it(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=G(n,e)||e;let s,o=[];for(;e;){if(s=q.exec(e),!s){o.push(e);break}{o=o.concat(s.slice(1));const t=o.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=rt(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(rt(e,r)-r))}(i,r));let u="";return o.forEach(t=>{const e=function(t){if(nt[t])return nt[t];let e;switch(t){case"G":case"GG":case"GGG":e=X(z.Eras,x.Abbreviated);break;case"GGGG":e=X(z.Eras,x.Wide);break;case"GGGGG":e=X(z.Eras,x.Narrow);break;case"y":e=Y(H.FullYear,1,0,!1,!0);break;case"yy":e=Y(H.FullYear,2,0,!0,!0);break;case"yyy":e=Y(H.FullYear,3,0,!1,!0);break;case"yyyy":e=Y(H.FullYear,4,0,!1,!0);break;case"Y":e=et(1);break;case"YY":e=et(2,!0);break;case"YYY":e=et(3);break;case"YYYY":e=et(4);break;case"M":case"L":e=Y(H.Month,1,1);break;case"MM":case"LL":e=Y(H.Month,2,1);break;case"MMM":e=X(z.Months,x.Abbreviated);break;case"MMMM":e=X(z.Months,x.Wide);break;case"MMMMM":e=X(z.Months,x.Narrow);break;case"LLL":e=X(z.Months,x.Abbreviated,C.Standalone);break;case"LLLL":e=X(z.Months,x.Wide,C.Standalone);break;case"LLLLL":e=X(z.Months,x.Narrow,C.Standalone);break;case"w":e=tt(1);break;case"ww":e=tt(2);break;case"W":e=tt(1,!0);break;case"d":e=Y(H.Date,1);break;case"dd":e=Y(H.Date,2);break;case"E":case"EE":case"EEE":e=X(z.Days,x.Abbreviated);break;case"EEEE":e=X(z.Days,x.Wide);break;case"EEEEE":e=X(z.Days,x.Narrow);break;case"EEEEEE":e=X(z.Days,x.Short);break;case"a":case"aa":case"aaa":e=X(z.DayPeriods,x.Abbreviated);break;case"aaaa":e=X(z.DayPeriods,x.Wide);break;case"aaaaa":e=X(z.DayPeriods,x.Narrow);break;case"b":case"bb":case"bbb":e=X(z.DayPeriods,x.Abbreviated,C.Standalone,!0);break;case"bbbb":e=X(z.DayPeriods,x.Wide,C.Standalone,!0);break;case"bbbbb":e=X(z.DayPeriods,x.Narrow,C.Standalone,!0);break;case"B":case"BB":case"BBB":e=X(z.DayPeriods,x.Abbreviated,C.Format,!0);break;case"BBBB":e=X(z.DayPeriods,x.Wide,C.Format,!0);break;case"BBBBB":e=X(z.DayPeriods,x.Narrow,C.Format,!0);break;case"h":e=Y(H.Hours,1,-12);break;case"hh":e=Y(H.Hours,2,-12);break;case"H":e=Y(H.Hours,1);break;case"HH":e=Y(H.Hours,2);break;case"m":e=Y(H.Minutes,1);break;case"mm":e=Y(H.Minutes,2);break;case"s":e=Y(H.Seconds,1);break;case"ss":e=Y(H.Seconds,2);break;case"S":e=Y(H.FractionalSeconds,1);break;case"SS":e=Y(H.FractionalSeconds,2);break;case"SSS":e=Y(H.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Z(B.Short);break;case"ZZZZZ":e=Z(B.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Z(B.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Z(B.Long);break;default:return null}return nt[t]=e,e}(t);u+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function $(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function G(t,e){const n=function(t){return Object(r.kb)(t)[r.ab.LocaleId]}(t);if(V[n]=V[n]||{},V[n][e])return V[n][e];let i="";switch(e){case"shortDate":i=j(t,k.Short);break;case"mediumDate":i=j(t,k.Medium);break;case"longDate":i=j(t,k.Long);break;case"fullDate":i=j(t,k.Full);break;case"shortTime":i=N(t,k.Short);break;case"mediumTime":i=N(t,k.Medium);break;case"longTime":i=N(t,k.Long);break;case"fullTime":i=N(t,k.Full);break;case"short":const e=G(t,"shortTime"),n=G(t,"shortDate");i=K(D(t,k.Short),[e,n]);break;case"medium":const r=G(t,"mediumTime"),s=G(t,"mediumDate");i=K(D(t,k.Medium),[r,s]);break;case"long":const o=G(t,"longTime"),a=G(t,"longDate");i=K(D(t,k.Long),[o,a]);break;case"full":const u=G(t,"fullTime"),c=G(t,"fullDate");i=K(D(t,k.Full),[u,c])}return i&&(V[n][e]=i),i}function K(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function Q(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function Y(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function(t,e){switch(t){case H.FullYear:return e.getFullYear();case H.Month:return e.getMonth();case H.Date:return e.getDate();case H.Hours:return e.getHours();case H.Minutes:return e.getMinutes();case H.Seconds:return e.getSeconds();case H.FractionalSeconds:return e.getMilliseconds();case H.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===H.Hours)0===a&&-12===n&&(a=12);else if(t===H.FractionalSeconds)return u=e,Q(a,3).substr(0,u);var u;const c=R(o,A.MinusSign);return Q(a,e,c,r,i)}}function X(t,e,n=C.Format,i=!1){return function(s,o){return function(t,e,n,i,s,o){switch(n){case z.Months:return function(t,e,n){const i=Object(r.kb)(t),s=F([i[r.ab.MonthsFormat],i[r.ab.MonthsStandalone]],e);return F(s,n)}(e,s,i)[t.getMonth()];case z.Days:return function(t,e,n){const i=Object(r.kb)(t),s=F([i[r.ab.DaysFormat],i[r.ab.DaysStandalone]],e);return F(s,n)}(e,s,i)[t.getDay()];case z.DayPeriods:const a=t.getHours(),u=t.getMinutes();if(o){const t=function(t){const e=Object(r.kb)(t);return L(e),(e[r.ab.ExtraData][2]||[]).map(t=>"string"==typeof t?M(t):[M(t[0]),M(t[1])])}(e),n=function(t,e,n){const i=Object(r.kb)(t);L(i);const s=F([i[r.ab.ExtraData][0],i[r.ab.ExtraData][1]],e)||[];return F(s,n)||[]}(e,s,i),o=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&u>=e.minutes,i=a<n.hours||a===n.hours&&u<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===u)return!0;return!1});if(-1!==o)return n[o]}return function(t,e,n){const i=Object(r.kb)(t),s=F([i[r.ab.DayPeriodsFormat],i[r.ab.DayPeriodsStandalone]],e);return F(s,n)}(e,s,i)[a<12?0:1];case z.Eras:return function(t,e){return F(Object(r.kb)(t)[r.ab.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(s,o,t,e,n,i)}}function Z(t){return function(e,n,r){const i=-1*r,s=R(n,A.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case B.Short:return(i>=0?"+":"")+Q(o,2,s)+Q(Math.abs(i%60),2,s);case B.ShortGMT:return"GMT"+(i>=0?"+":"")+Q(o,1,s);case B.Long:return"GMT"+(i>=0?"+":"")+Q(o,2,s)+":"+Q(Math.abs(i%60),2,s);case B.Extended:return 0===r?"Z":(i>=0?"+":"")+Q(o,2,s)+":"+Q(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function J(t){return $(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function tt(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=J(n),e=function(t){const e=$(t,0,1).getDay();return $(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}return Q(i,t,R(r,A.MinusSign))}}function et(t,e=!1){return function(n,r){return Q(J(n).getFullYear(),t,R(r,A.MinusSign),e)}}const nt={};function rt(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function it(t){return t instanceof Date&&!isNaN(t.valueOf())}class st{}let ot=(()=>{class t extends st{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(P(e||this.locale)(t)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.v))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function at(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let ut=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.qb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.wb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.t),r.Mb(r.u),r.Mb(r.l),r.Mb(r.E))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class ct{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lt=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ct(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new ht(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new ht(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.Q),r.Mb(r.L),r.Mb(r.t))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class ht{constructor(t,e){this.record=t,this.view=e}}let ft=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new dt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){pt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){pt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.Q),r.Mb(r.L))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class dt{constructor(){this.$implicit=null,this.ngIf=null}}function pt(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.wb)(e)}'.`)}let mt=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.Q))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.zb]}),t})();function gt(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.wb)(t)}'`)}class yt{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class vt{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const bt=new vt,wt=new yt;let _t=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.sb)(e))return bt;if(Object(r.tb)(e))return wt;throw gt(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Yb())},t.\u0275pipe=r.Lb({name:"async",type:t,pure:!1}),t})(),St=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",r,i){if(null==e||""===e||e!=e)return null;try{return W(e,n,i||this.locale,r)}catch(s){throw gt(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.v))},t.\u0275pipe=r.Lb({name:"date",type:t,pure:!0}),t})(),Et=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[{provide:st,useClass:ot}]}),t})();const Tt="browser";function Ot(t){return t===Tt}function It(t){return"server"===t}let Ct=(()=>{class t{}return t.\u0275prov=Object(r.Ib)({token:t,providedIn:"root",factory:()=>new xt(Object(r.Wb)(u),window)}),t})();class xt{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=kt(this.window.history)||kt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function kt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}},pLZG:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.predicate,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("z6cu");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return S}),n.d(e,"d",function(){return u}),n.d(e,"e",function(){return E}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return o}),n.d(e,"h",function(){return I}),n.d(e,"i",function(){return c}),n.d(e,"j",function(){return f}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return m}),n.d(e,"m",function(){return g}),n.d(e,"n",function(){return l}),n.d(e,"o",function(){return h}),n.d(e,"p",function(){return p}),n.d(e,"q",function(){return y});var r=n("mrSG"),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,o||(l=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==u)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function s(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function f(){return"object"==typeof self&&self.self===self}function d(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function m(){return c().indexOf("Electron/")>=0}function g(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return c().indexOf("MSAppHost/")>=0}var v=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,b.prototype.create),s}return Object(r.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?w(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new v(i,a,r);return u},t}();function w(t,e){return t.replace(_,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var _=/\{\$([^}]+)}/g;function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function E(t,e){var n=new T(t,e);return n.subscribe.bind(n)}var T=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function O(){}function I(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},sVev:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})()},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return I}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return T}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return S});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.r("angularfire2.app.options"),b=new u.r("angularfire2.app.nameOrConfig"),w=new u.P("6.1.5");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&E("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const S=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.V)()&&"undefined"!=typeof console&&console[t](...e)};function T(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const O={provide:class{},useFactory:_,deps:[v,u.A,[new u.B,b]]};let I=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Wb(u.C))},t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({providers:[O]}),t})()}).call(this,n("3UD+")(t))},tNVQ:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("fXoL"),i=n("+9sT"),s=n("jrsp");let o=(()=>{class t{constructor(t,e){this._authUserStateService=t,this._coreRouterService=e}canActivateChild(){return this._check()}canLoad(){return this._check()}canActivate(){return this._check()}_check(){const t=this._authUserStateService.getIsProfileCompleted();return t||this._coreRouterService.goToCompleteProfilePage(),t}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(i.a),r.Wb(s.b))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})()},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},tyNb:function(t,e,n){"use strict";n.d(e,"a",function(){return _n}),n.d(e,"b",function(){return Sn}),n.d(e,"c",function(){return Rn}),n.d(e,"d",function(){return Tn});var r=n("ofXK"),i=n("fXoL"),s=n("Cfvw"),o=n("LRne"),a=n("2Vo4"),u=n("z+Ro"),c=n("DH7j"),l=n("7o/Q");class h extends l.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class f extends l.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var d=n("SeVD"),p=n("HDdC");function m(t,e,n,r,i=new f(t,n,r)){if(!i.closed)return e instanceof p.a?e.subscribe(i):Object(d.a)(e)(i)}var g=n("yCtX");const y={};class v{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new b(t,this.resultSelector))}}class b extends h{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(y),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(m(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===y?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var w=n("sVev"),_=n("GyhO"),S=n("EY2u");function E(t){return new p.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(s.a)(n):Object(S.b)()).subscribe(e)})}var T=n("EQ5u"),O=n("XNiG"),I=n("lJxs"),C=n("eIep"),x=n("IzEk"),k=n("JX91"),A=n("Kqap"),j=n("pLZG"),N=n("JIr8"),D=n("bOdf"),R=n("4I5i");function P(t){return function(e){return 0===t?Object(S.b)():e.lift(new L(t))}}class L{constructor(t){if(this.total=t,this.total<0)throw new R.a}call(t,e){return e.subscribe(new F(t,this.total))}}class F extends l.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var M=n("XDbj"),U=n("xbPD"),V=n("SpAZ"),q=n("SxV6"),B=n("5+tZ"),H=n("vkgz"),z=n("x+ZX"),W=n("quSY");class ${constructor(t){this.callback=t}call(t,e){return e.subscribe(new G(t,this.callback))}}class G extends l.a{constructor(t,e){super(t),this.add(new W.a(e))}}var K=n("bHdf");class Q{constructor(t,e){this.id=t,this.url=e}}class Y extends Q{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class X extends Q{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Z extends Q{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class J extends Q{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tt extends Q{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class et extends Q{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nt extends Q{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rt extends Q{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class it extends Q{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class st{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ot{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class at{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ut{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ct{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lt{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ht{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ft="primary";class dt{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function pt(t){return new dt(t)}function mt(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function gt(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function yt(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!vt(t[i],e[i]))return!1;return!0}function vt(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function bt(t){return Array.prototype.concat.apply([],t)}function wt(t){return t.length>0?t[t.length-1]:null}function _t(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function St(t){return Object(i.rb)(t)?t:Object(i.sb)(t)?Object(s.a)(Promise.resolve(t)):Object(o.a)(t)}function Et(t,e,n){return n?function(t,e){return yt(t,e)}(t.queryParams,e.queryParams)&&Tt(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>vt(t[n],e[n]))}(t.queryParams,e.queryParams)&&Ot(t.root,e.root)}function Tt(t,e){if(!At(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Tt(t.children[n],e.children[n]))return!1}return!0}function Ot(t,e){return It(t,e,e.segments)}function It(t,e,n){if(t.segments.length>n.length)return!!At(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!At(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Ot(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!At(t.segments,r)&&!!t.children.primary&&It(t.children.primary,e,i)}}class Ct{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pt(this.queryParams)),this._queryParamMap}toString(){return Dt.serialize(this)}}class xt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,_t(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rt(this)}}class kt{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=pt(this.parameters)),this._parameterMap}toString(){return qt(this)}}function At(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class jt{}class Nt{parse(t){const e=new $t(t);return new Ct(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Pt(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Ft(e)}=${Ft(t)}`).join("&"):`${Ft(e)}=${Ft(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Dt=new Nt;function Rt(t){return t.segments.map(t=>qt(t)).join("/")}function Pt(t,e){if(!t.hasChildren())return Rt(t);if(e){const e=t.children.primary?Pt(t.children.primary,!1):"",n=[];return _t(t.children,(t,e)=>{e!==ft&&n.push(`${e}:${Pt(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return _t(t.children,(t,r)=>{r===ft&&(n=n.concat(e(t,r)))}),_t(t.children,(t,r)=>{r!==ft&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===ft?[Pt(t.children.primary,!1)]:[`${n}:${Pt(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Rt(t)}/${e[0]}`:`${Rt(t)}/(${e.join("//")})`}}function Lt(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ft(t){return Lt(t).replace(/%3B/gi,";")}function Mt(t){return Lt(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ut(t){return decodeURIComponent(t)}function Vt(t){return Ut(t.replace(/\+/g,"%20"))}function qt(t){return`${Mt(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Mt(t)}=${Mt(e[t])}`).join("")}`;var e}const Bt=/^[^\/()?;=#]+/;function Ht(t){const e=t.match(Bt);return e?e[0]:""}const zt=/^[^=?&#]+/,Wt=/^[^?&#]+/;class $t{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xt([],{}):new xt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new xt(t,e)),n}parseSegment(){const t=Ht(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new kt(Ut(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ht(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Ht(this.remaining);t&&(n=t,this.capture(n))}t[Ut(e)]=Ut(n)}parseQueryParam(t){const e=function(t){const e=t.match(zt);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Wt);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Vt(e),i=Vt(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ht(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=ft);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new xt([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Gt{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Kt(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Kt(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Qt(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Qt(t,this._root).map(t=>t.value)}}function Kt(t,e){if(t===e.value)return e;for(const n of e.children){const e=Kt(t,n);if(e)return e}return null}function Qt(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Qt(t,n);if(r.length)return r.unshift(e),r}return[]}class Yt{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Xt(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Zt extends Gt{constructor(t,e){super(t),this.snapshot=e,ie(this,t)}toString(){return this.snapshot.toString()}}function Jt(t,e){const n=function(t,e){const n=new ne([],{},{},"",{},ft,e,null,t.root,-1,{});return new re("",new Yt(n,[]))}(t,e),r=new a.a([new kt("",{})]),i=new a.a({}),s=new a.a({}),o=new a.a({}),u=new a.a(""),c=new te(r,i,o,u,s,ft,e,n.root);return c.snapshot=n.root,new Zt(new Yt(c,[]),n)}class te{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(I.a)(t=>pt(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(I.a)(t=>pt(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ee(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ne{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class re extends Gt{constructor(t,e){super(e),this.url=t,ie(this,e)}toString(){return se(this._root)}}function ie(t,e){e.value._routerState=t,e.children.forEach(e=>ie(t,e))}function se(t){const e=t.children.length>0?` { ${t.children.map(se).join(", ")} } `:"";return`${t.value}${e}`}function oe(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,yt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),yt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!yt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),yt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ae(t,e){var n,r;return yt(t.params,e.params)&&At(n=t.url,r=e.url)&&n.every((t,e)=>yt(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||ae(t.parent,e.parent))}function ue(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return ue(t,e,r);return ue(t,e)})}(t,e,n);return new Yt(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return ce(e,t),t}}const n=new te(new a.a((r=e.value).url),new a.a(r.params),new a.a(r.queryParams),new a.a(r.fragment),new a.a(r.data),r.outlet,r.component,r),i=e.children.map(e=>ue(t,e));return new Yt(n,i)}var r}function ce(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)ce(t.children[n],e.children[n])}function le(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function he(t){return"object"==typeof t&&null!=t&&t.outlets}function fe(t,e,n,r,i){let s={};return r&&_t(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Ct(n.root===t?e:de(n.root,t,e),s,i)}function de(t,e,n){const r={};return _t(t.children,(t,i)=>{r[i]=t===e?n:de(t,e,n)}),new xt(t.segments,r)}class pe{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&le(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(he);if(r&&r!==wt(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class me{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function ge(t,e,n){if(t||(t=new xt([],{})),0===t.segments.length&&t.hasChildren())return ye(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(he(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!_e(a,u,e))return s;r+=2}else{if(!_e(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new xt(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new xt(t.segments.slice(r.pathIndex),t.children),ye(e,0,i)}return r.match&&0===i.length?new xt(t.segments,{}):r.match&&!t.hasChildren()?ve(t,e,n):r.match?ye(t,0,i):ve(t,e,n)}function ye(t,e,n){if(0===n.length)return new xt(t.segments,{});{const r=function(t){return he(t[0])?t[0].outlets:{[ft]:t}}(n),i={};return _t(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=ge(t.children[r],e,n))}),_t(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new xt(t.segments,i)}}function ve(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(he(s)){const t=be(s.outlets);return new xt(r,t)}if(0===i&&le(n[0])){r.push(new kt(t.segments[e].path,we(n[0]))),i++;continue}const o=he(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&le(a)?(r.push(new kt(o,we(a))),i+=2):(r.push(new kt(o,{})),i++)}return new xt(r,{})}function be(t){const e={};return _t(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=ve(new xt([],{}),0,t))}),e}function we(t){const e={};return _t(t,(t,n)=>e[n]=`${t}`),e}function _e(t,e,n){return t==n.path&&yt(e,n.parameters)}class Se{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),oe(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Xt(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),_t(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Xt(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Xt(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new lt(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ut(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(oe(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Ee(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Ee(t){oe(t.value),t.children.forEach(Ee)}class Te{constructor(t,e){this.routes=t,this.module=e}}function Oe(t){return"function"==typeof t}function Ie(t){return t instanceof Ct}const Ce=Symbol("INITIAL_VALUE");function xe(){return Object(C.a)(t=>function(...t){let e,n;return Object(u.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(c.a)(t[0])&&(t=t[0]),Object(g.a)(t,n).lift(new v(e))}(t.map(t=>t.pipe(Object(x.a)(1),Object(k.a)(Ce)))).pipe(Object(A.a)((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Ce)return t;if(r===Ce&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Ie(r))return r}return t},t)},Ce),Object(j.a)(t=>t!==Ce),Object(I.a)(t=>Ie(t)?t:!0===t),Object(x.a)(1)))}let ke=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Gb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i.Nb(0,"router-outlet")},directives:function(){return[Tn]},encapsulation:2}),t})();function Ae(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];je(r,Ne(e,r))}}function je(t,e){t.children&&Ae(t.children,e)}function Ne(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function De(t){const e=t.children&&t.children.map(De),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ft&&(n.component=ke),n}function Re(t){return t.outlet||ft}function Pe(t,e){const n=t.filter(t=>Re(t)===e);return n.push(...t.filter(t=>Re(t)!==e)),n}const Le={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Fe(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Le):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||gt)(n,t,e);if(!i)return Object.assign({},Le);const s={};_t(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Me(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Ue(t,e,n)&&Re(n)!==ft)}(t,n,r)){const i=new xt(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Re(s)!==ft){const n=new xt([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Re(s)]=n}return i}(t,e,r,new xt(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Ue(t,e,n))}(t,n,r)){const s=new xt(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Ue(t,n,a)&&!i[Re(a)]){const n=new xt([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Re(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new xt(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Ue(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Ve(t,e,n,r){return!!(Re(t)===r||r!==ft&&Ue(e,n,t))&&("**"===t.path||Fe(e,t,n).matched)}function qe(t,e,n){return 0===e.length&&!t.children[n]}class Be{constructor(t){this.segmentGroup=t||null}}class He{constructor(t){this.urlTree=t}}function ze(t){return new p.a(e=>e.error(new Be(t)))}function We(t){return new p.a(e=>e.error(new He(t)))}function $e(t){return new p.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ge{constructor(t,e,n,r,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(i.y)}apply(){const t=Me(this.urlTree.root,[],[],this.config).segmentGroup,e=new xt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ft).pipe(Object(I.a)(t=>this.createUrlTree(Ke(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Object(N.a)(t=>{if(t instanceof He)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Be)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ft).pipe(Object(I.a)(e=>this.createUrlTree(Ke(e),t.queryParams,t.fragment))).pipe(Object(N.a)(t=>{if(t instanceof Be)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new xt([],{[ft]:t}):t;return new Ct(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(I.a)(t=>new xt([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(s.a)(r).pipe(Object(D.a)(r=>{const i=n.children[r],s=Pe(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object(I.a)(t=>({segment:t,outlet:r})))}),Object(A.a)((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Object(j.a)((e,n)=>t(e,n,r)):V.a,P(1),n?Object(U.a)(e):Object(M.a)(()=>new w.a))}())}expandSegment(t,e,n,r,i,a){return Object(s.a)(n).pipe(Object(D.a)(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,a).pipe(Object(N.a)(t=>{if(t instanceof Be)return Object(o.a)(null);throw t}))),Object(q.a)(t=>!!t),Object(N.a)((t,n)=>{if(t instanceof w.a||"EmptyError"===t.name){if(qe(e,r,i))return Object(o.a)(new xt([],{}));throw new Be(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Ve(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):ze(e):ze(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?We(i):this.lineralizeSegments(n,i).pipe(Object(B.a)(n=>{const i=new xt(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Fe(e,r,i);if(!o)return ze(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?We(l):this.lineralizeSegments(r,l).pipe(Object(B.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(o.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(I.a)(t=>(n._loadedConfig=t,new xt(r,{})))):Object(o.a)(new xt(r,{}));const{matched:s,consumedSegments:a,lastChild:u}=Fe(e,n,r);if(!s)return ze(e);const c=r.slice(u);return this.getChildConfig(t,n,r).pipe(Object(B.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:u,slicedSegments:l}=Me(e,a,c,s),h=new xt(u.segments,u.children);if(0===l.length&&h.hasChildren())return this.expandChildren(r,s,h).pipe(Object(I.a)(t=>new xt(a,t)));if(0===s.length&&0===l.length)return Object(o.a)(new xt(a,{}));const f=Re(n)===i;return this.expandSegment(r,h,s,l,f?ft:i,!0).pipe(Object(I.a)(t=>new xt(a.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(o.a)(new Te(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(o.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(B.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(I.a)(t=>(e._loadedConfig=t,t))):function(t){return new p.a(e=>e.error(mt(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(o.a)(new Te([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(o.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&Oe(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!Oe(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return St(s)});return Object(o.a)(i).pipe(xe(),Object(H.a)(t=>{if(!Ie(t))return;const e=mt(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(I.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(o.a)(n);if(r.numberOfChildren>1||!r.children.primary)return $e(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Ct(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return _t(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return _t(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new xt(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Ke(t){const e={};for(const n of Object.keys(t.children)){const r=Ke(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new xt(t.segments.concat(e.segments),e.children)}return t}(new xt(t.segments,e))}class Qe{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ye{constructor(t,e){this.component=t,this.route=e}}function Xe(t,e,n){const r=t._root;return Je(r,e?e._root:null,n,[r.value])}function Ze(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Je(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Xt(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!At(t.url,e.url);case"pathParamsOrQueryParamsChange":return!At(t.url,e.url)||!yt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ae(t,e)||!yt(t.queryParams,e.queryParams);case"paramsChange":default:return!ae(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Qe(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Je(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ye(a.outlet.component,o))}else o&&tn(e,a,i),i.canActivateChecks.push(new Qe(r)),Je(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),_t(s,(t,e)=>tn(t,n.getContext(e),i)),i}function tn(t,e,n){const r=Xt(t),i=t.value;_t(r,(t,r)=>{tn(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Ye(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class en{}function nn(t){return new p.a(e=>e.error(t))}class rn{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=Me(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ft);if(null===e)return null;const n=new ne([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ft,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Yt(n,e),i=new re(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=ee(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=Pe(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=on(n);return r.sort((t,e)=>t.value.outlet===ft?-1:e.value.outlet===ft?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return qe(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Ve(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?wt(n).parameters:{};i=new ne(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,cn(t),Re(t),t.component,t,an(e),un(e)+n.length,ln(t))}else{const r=Fe(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new ne(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,cn(t),Re(t),t.component,t,an(e),un(e)+s.length,ln(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Me(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Yt(i,t)]}if(0===a.length&&0===c.length)return[new Yt(i,[])];const l=Re(t)===r,h=this.processSegment(a,u,c,l?ft:r);return null===h?null:[new Yt(i,h)]}}function sn(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function on(t){const e=[],n=new Set;for(const r of t){if(!sn(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=on(r.children);e.push(new Yt(r.value,t))}return e.filter(t=>!n.has(t))}function an(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function un(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function cn(t){return t.data||{}}function ln(t){return t.resolve||{}}function hn(t){return Object(C.a)(e=>{const n=t(e);return n?Object(s.a)(n).pipe(Object(I.a)(()=>e)):Object(o.a)(e)})}class fn extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const dn=new i.r("ROUTES");class pn{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(I.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Te(bt(r.injector.get(dn,void 0,i.q.Self|i.q.Optional)).map(De),r)}),Object(N.a)(t=>{throw e._loader$=void 0,t}));return e._loader$=new T.a(n,()=>new O.a).pipe(Object(z.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(s.a)(this.loader.load(t)):St(t()).pipe(Object(B.a)(t=>t instanceof i.w?Object(o.a)(t):Object(s.a)(this.compiler.compileModuleAsync(t))))}}class mn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new gn,this.attachRef=null}}class gn{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new mn,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class yn{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function vn(t){throw t}function bn(t,e,n){return e.parse("/")}function wn(t,e){return Object(o.a)(null)}let _n=(()=>{class t{constructor(t,e,n,r,s,o,u,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new O.a,this.errorHandler=vn,this.malformedUriErrorHandler=bn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:wn,afterPreactivation:wn},this.urlHandlingStrategy=new yn,this.routeReuseStrategy=new fn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(i.y),this.console=s.get(i.Y);const l=s.get(i.A);this.isNgZoneEnabled=l instanceof i.A&&i.A.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new Ct(new xt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new pn(o,u,t=>this.triggerEvent(new st(t)),t=>this.triggerEvent(new ot(t))),this.routerState=Jt(this.currentUrlTree,this.rootComponentType),this.transitions=new a.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(j.a)(t=>0!==t.id),Object(I.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Object(C.a)(t=>{let n=!1,r=!1;return Object(o.a)(t).pipe(Object(H.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(C.a)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(o.a)(t).pipe(Object(C.a)(t=>{const n=this.transitions.getValue();return e.next(new Y(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?S.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,a=this.config,Object(C.a)(t=>function(t,e,n,r,i){return new Ge(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,a).pipe(Object(I.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(H.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(B.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const a=new rn(t,e,n,r,i,s).recognize();return null===a?nn(new en):Object(o.a)(a)}catch(a){return nn(a)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(I.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(H.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new tt(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,a;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:a}=t,u=new Y(n,this.serializeUrl(r),i,s);e.next(u);const c=Jt(r,this.rootComponentType).snapshot;return Object(o.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},a),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),S.a}),hn(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(H.a)(t=>{const e=new et(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(I.a)(t=>Object.assign(Object.assign({},t),{guards:Xe(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(B.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=n;return 0===u.length&&0===a.length?Object(o.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(s.a)(t).pipe(Object(B.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(o.a)(!0);const a=s.map(s=>{const o=Ze(s,e,i);let a;if(function(t){return t&&Oe(t.canDeactivate)}(o))a=St(o.canDeactivate(t,e,n,r));else{if(!Oe(o))throw new Error("Invalid CanDeactivate guard");a=St(o(t,e,n,r))}return a.pipe(Object(q.a)())});return Object(o.a)(a).pipe(xe())}(t.component,t.route,n,e,r)),Object(q.a)(t=>!0!==t,!0))}(u,r,i,t).pipe(Object(B.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(s.a)(e).pipe(Object(D.a)(e=>Object(_.a)(function(t,e){return null!==t&&e&&e(new at(t)),Object(o.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new ct(t)),Object(o.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>E(()=>{const i=e.guards.map(i=>{const s=Ze(i,e.node,n);let o;if(function(t){return t&&Oe(t.canActivateChild)}(s))o=St(s.canActivateChild(r,t));else{if(!Oe(s))throw new Error("Invalid CanActivateChild guard");o=St(s(r,t))}return o.pipe(Object(q.a)())});return Object(o.a)(i).pipe(xe())}));return Object(o.a)(i).pipe(xe())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(o.a)(!0);const i=r.map(r=>E(()=>{const i=Ze(r,e,n);let s;if(function(t){return t&&Oe(t.canActivate)}(i))s=St(i.canActivate(e,t));else{if(!Oe(i))throw new Error("Invalid CanActivate guard");s=St(i(e,t))}return s.pipe(Object(q.a)())}));return Object(o.a)(i).pipe(xe())}(t,e.route,n))),Object(q.a)(t=>!0!==t,!0))}(r,a,t,e):Object(o.a)(n)),Object(I.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(H.a)(t=>{if(Ie(t.guardsResult)){const e=mt(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new nt(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(j.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Z(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),hn(t=>{if(t.guards.canActivateChecks.length)return Object(o.a)(t).pipe(Object(H.a)(t=>{const e=new rt(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(C.a)(t=>{let n=!1;return Object(o.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(B.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(o.a)(t);let a=0;return Object(s.a)(n).pipe(Object(D.a)(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(o.a)({});const a={};return Object(s.a)(i).pipe(Object(B.a)(i=>function(t,e,n,r){const i=Ze(t,e,r);return St(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(H.a)(t=>{a[i]=t}))),P(1),Object(B.a)(()=>Object.keys(a).length===i.length?Object(o.a)(a):S.a))}(t._resolve,t,e,r).pipe(Object(I.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ee(t,n).resolve),null)))}(t.route,e,r,i)),Object(H.a)(()=>a++),P(1),Object(B.a)(e=>a===n.length?Object(o.a)(t):S.a))})),Object(H.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Z(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(H.a)(t=>{const e=new it(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),hn(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(I.a)(t=>{const e=function(t,e,n){const r=ue(t,e._root,n?n._root:void 0);return new Zt(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(H.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(a=this.rootContexts,u=this.routeReuseStrategy,c=t=>this.triggerEvent(t),Object(I.a)(t=>(new Se(u,t.targetRouterState,t.currentRouterState,c).activate(a),t))),Object(H.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Z(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new $(i))),Object(N.a)(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Ie(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Z(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new J(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var i;return S.a}));var i,a,u,c}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ae(t),this.config=t.map(De),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return fe(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new pe(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return _t(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new pe(n,e,r)}(n);if(s.toRoot())return fe(e.root,new xt([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new me(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new me(t,t===e.root,0)}const r=le(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new me(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?ye(o.segmentGroup,o.index,s.commands):ge(o.segmentGroup,o.index,s.commands);return fe(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Ie(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Ie(t))return Et(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Et(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new X(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(i.N),i.Wb(jt),i.Wb(gn),i.Wb(r.h),i.Wb(i.s),i.Wb(i.x),i.Wb(i.i),i.Wb(void 0))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),Sn=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new O.a,this.subscription=t.events.subscribe(t=>{t instanceof X&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:En(this.skipLocationChange),replaceUrl:En(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:En(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(_n),i.Mb(te),i.Mb(r.i))},t.\u0275dir=i.Hb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&i.Zb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(i.Vb("href",e.href,i.tc),i.Cb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.zb]}),t})();function En(t){return""===t||!!t}let Tn=(()=>{class t{constructor(t,e,n,r,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.n,this.deactivateEvents=new i.n,this.name=r||ft,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new On(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(gn),i.Mb(i.Q),i.Mb(i.j),i.Xb("name"),i.Mb(i.h))},t.\u0275dir=i.Hb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class On{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===te?this.route:t===gn?this.childContexts:this.parent.get(t,e)}}class In{}class Cn{preload(t,e){return Object(o.a)(null)}}let xn=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new pn(e,n,e=>t.triggerEvent(new st(e)),e=>t.triggerEvent(new ot(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(j.a)(t=>t instanceof X),Object(D.a)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(s.a)(n).pipe(Object(K.a)(),Object(I.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(o.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(B.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(_n),i.Wb(i.x),i.Wb(i.i),i.Wb(i.s),i.Wb(In))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),kn=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Y?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof X&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ht&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new ht(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(_n),i.Wb(r.p),i.Wb(void 0))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();const An=new i.r("ROUTER_CONFIGURATION"),jn=new i.r("ROUTER_FORROOT_GUARD"),Nn=[r.h,{provide:jt,useClass:Nt},{provide:_n,useFactory:function(t,e,n,i,s,o,a,u={},c,l){const h=new _n(null,t,e,n,i,s,o,bt(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=Object(r.u)();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[jt,gn,r.h,i.s,i.x,i.i,dn,An,[class{},new i.B],[class{},new i.B]]},gn,{provide:te,useFactory:function(t){return t.routerState.root},deps:[_n]},{provide:i.x,useClass:i.K},xn,Cn,class{preload(t,e){return e().pipe(Object(N.a)(()=>Object(o.a)(null)))}},{provide:An,useValue:{enableTracing:!1}}];function Dn(){return new i.z("Router",_n)}let Rn=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Nn,Mn(e),{provide:jn,useFactory:Fn,deps:[[_n,new i.B,new i.J]]},{provide:An,useValue:n||{}},{provide:r.i,useFactory:Ln,deps:[r.o,[new i.p(r.a),new i.B],An]},{provide:kn,useFactory:Pn,deps:[_n,r.p,An]},{provide:In,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Cn},{provide:i.z,multi:!0,useFactory:Dn},[Un,{provide:i.d,multi:!0,useFactory:Vn,deps:[Un]},{provide:Bn,useFactory:qn,deps:[Un]},{provide:i.b,multi:!0,useExisting:Bn}]]}}static forChild(e){return{ngModule:t,providers:[Mn(e)]}}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(jn,8),i.Wb(_n,8))},t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({}),t})();function Pn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new kn(t,e,n)}function Ln(t,e,n={}){return n.useHash?new r.f(t,e):new r.n(t,e)}function Fn(t){return"guarded"}function Mn(t){return[{provide:i.a,multi:!0,useValue:t},{provide:dn,multi:!0,useValue:t}]}let Un=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new O.a}appInitializer(){return this.injector.get(r.g,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(_n),r=this.injector.get(An);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(o.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(An),n=this.injector.get(xn),r=this.injector.get(kn),s=this.injector.get(_n),o=this.injector.get(i.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),r.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(i.s))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();function Vn(t){return t.appInitializer.bind(t)}function qn(t){return t.bootstrapListener.bind(t)}const Bn=new i.r("Router Initializer")},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},xbPD:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t=null){return e=>e.lift(new s(t))}class s{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new o(t,this.defaultValue))}}class o extends r.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),m=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=f);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}s(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.g)(u,s.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.g)(e,t)},createSubscribe:o.e,ErrorFactory:o.b,deepExtend:o.g}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.j)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.o)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.22",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("jhN1"),i=n("fXoL"),s=n("LRne"),o=n("HDdC"),a=n("bOdf"),u=n("pLZG"),c=n("lJxs"),l=n("ofXK");class h{}class f{}class d{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof d?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new d;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof d?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class p{encodeKey(t){return m(t)}encodeValue(t){return m(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function m(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class g{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new p,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new g({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function y(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function v(t){return"undefined"!=typeof Blob&&t instanceof Blob}function b(t){return"undefined"!=typeof FormData&&t instanceof FormData}class w{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new d),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new g,this.urlWithParams=e}serializeBody(){return null===this.body?null:y(this.body)||v(this.body)||b(this.body)||"string"==typeof this.body?this.body:this.body instanceof g?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||b(this.body)?null:v(this.body)?this.body.type||null:y(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof g?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new w(e,n,i,{params:u,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var _=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class S{constructor(t,e=200,n="OK"){this.headers=t.headers||new d,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class E extends S{constructor(t={}){super(t),this.type=_.ResponseHeader}clone(t={}){return new E({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class T extends S{constructor(t={}){super(t),this.type=_.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new T({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class O extends S{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function I(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let C=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof w)r=t;else{let i,s;i=n.headers instanceof d?n.headers:new d(n.headers),n.params&&(s=n.params instanceof g?n.params:new g({fromObject:n.params})),r=new w(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(s.a)(r).pipe(Object(a.a)(t=>this.handler.handle(t)));if(t instanceof w||"events"===n.observe)return i;const o=i.pipe(Object(u.a)(t=>t instanceof T));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(c.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(c.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(c.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(c.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new g).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,I(n,e))}post(t,e,n={}){return this.request("POST",t,I(n,e))}put(t,e,n={}){return this.request("PUT",t,I(n,e))}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(h))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();class x{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const k=new i.r("HTTP_INTERCEPTORS");let A=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();const j=/^\)\]\}',?\n/;class N{}let D=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),R=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new o.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new d(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new E({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(j,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new T({body:u,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new O({error:u,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new O({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(s()),u=!0);let i={type:_.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:_.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:_.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(N))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();const P=new i.r("XSRF_COOKIE_NAME"),L=new i.r("XSRF_HEADER_NAME");class F{}let M=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(l.v)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(l.d),i.Wb(i.C),i.Wb(P))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),U=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(F),i.Wb(L))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),V=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(k,[]);this.chain=t.reduceRight((t,e)=>new x(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(f),i.Wb(i.s))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),q=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:U,useClass:A}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:P,useValue:e.cookieName}:[],e.headerName?{provide:L,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({providers:[U,{provide:k,useExisting:U,multi:!0},{provide:F,useClass:M},{provide:P,useValue:"XSRF-TOKEN"},{provide:L,useValue:"X-XSRF-TOKEN"}]}),t})(),B=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({providers:[C,{provide:h,useClass:V},R,{provide:f,useExisting:R},D,{provide:N,useExisting:D}],imports:[[q.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var H=n("spgP"),z=n("tyNb"),W=n("R0Ic");function $(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function G(t){switch(t.length){case 0:return new W.d;case 1:return t[0];default:return new W.k(t)}}function K(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case W.l:a=i[n];break;case W.a:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Q(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Y(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Y(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Y(n,"destroy",t)))}}function Y(t,e,n){const r=n.totalTime,i=X(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function X(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Z(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function J(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let tt=(t,e)=>!1,et=(t,e)=>!1,nt=(t,e,n)=>[];const rt=$();(rt||"undefined"!=typeof Element)&&(tt=(t,e)=>t.contains(e),et=(()=>{if(rt||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):et}})(),nt=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let it=null,st=!1;function ot(t){it||(it=("undefined"!=typeof document?document.body:null)||{},st=!!it.style&&"WebkitAppearance"in it.style);let e=!0;return it.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in it.style,!e&&st)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in it.style),e}const at=et,ut=tt,ct=nt;function lt(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let ht=(()=>{class t{validateStyleProperty(t){return ot(t)}matchesElement(t,e){return at(t,e)}containsElement(t,e){return ut(t,e)}query(t,e,n){return ct(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new W.d(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),ft=(()=>{class t{}return t.NOOP=new ht,t})();const dt="ng-enter",pt="ng-leave",mt="ng-trigger",gt=".ng-trigger",yt="ng-animating",vt=".ng-animating";function bt(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:wt(parseFloat(e[1]),e[2])}function wt(t,e){switch(e){case"s":return 1e3*t;default:return t}}function _t(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=wt(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=wt(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function St(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Et(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else St(t,n);return n}function Tt(t,e,n){return n?e+":"+n+";":""}function Ot(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Tt(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Tt(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function It(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Rt(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),$()&&Ot(t))}function Ct(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Rt(e);t.style[n]=""}),$()&&Ot(t))}function xt(t){return Array.isArray(t)?1==t.length?t[0]:Object(W.f)(t):t}const kt=new RegExp("{{\\s*(.+?)\\s*}}","g");function At(t){let e=[];if("string"==typeof t){let n;for(;n=kt.exec(t);)e.push(n[1]);kt.lastIndex=0}return e}function jt(t,e,n){const r=t.toString(),i=r.replace(kt,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function Nt(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Dt=/-+([a-z0-9])/g;function Rt(t){return t.replace(Dt,(...t)=>t[1].toUpperCase())}function Pt(t,e){return 0===t||0===e}function Lt(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=Mt(t,e)})}}return e}function Ft(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Mt(t,e){return window.getComputedStyle(t)[e]}const Ut="*";function Vt(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(Ht(i,o)),"<"!=s[0]||i==Ut&&o==Ut||e.push(Ht(o,i))}(t,n,e)):n.push(t),n}const qt=new Set(["true","1"]),Bt=new Set(["false","0"]);function Ht(t,e){const n=qt.has(t)||Bt.has(t),r=qt.has(e)||Bt.has(e);return(i,s)=>{let o=t==Ut||t==i,a=e==Ut||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?qt.has(t):Bt.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?qt.has(e):Bt.has(e)),o&&a}}const zt=new RegExp("s*:selfs*,?","g");function Wt(t,e,n){return new $t(t).build(e,n)}class $t{constructor(t){this._driver=t}build(t,e){const n=new Gt(e);return this._resetContextStyleTimingState(n),Ft(this,xt(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(Kt(t)){const e=t;Object.keys(e).forEach(t=>{At(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Nt(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Ft(this,xt(t.animation),e);return{type:1,matchers:Vt(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Qt(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Ft(this,t,e)),options:Qt(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Ft(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Qt(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Yt(_t(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Yt(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||_t(r,e),Yt(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Object(W.h)({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Object(W.h)(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==W.a?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Kt(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=At(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Kt(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Kt(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Ft(this,xt(t.animation),e),options:Qt(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Qt(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Qt(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(zt,"")),[t=t.replace(/@\*/g,gt).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,vt),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Z(e.collectedStyles,e.currentQuerySelector,{});const o=Ft(this,xt(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:Qt(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:_t(t.timings,e.errors,!0);return{type:12,animation:Ft(this,xt(t.animation),e),timings:n,options:null}}}class Gt{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Kt(t){return!Array.isArray(t)&&"object"==typeof t}function Qt(t){var e;return t?(t=St(t)).params&&(t.params=(e=t.params)?St(e):null):t={},t}function Yt(t,e,n){return{duration:t,delay:e,easing:n}}function Xt(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Zt{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Jt=new RegExp(":enter","g"),te=new RegExp(":leave","g");function ee(t,e,n,r,i,s={},o={},a,u,c=[]){return(new ne).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class ne{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new Zt;const l=new ie(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),Ft(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Xt(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?bt(n.duration):null,s=null!=n.delay?bt(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Ft(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=re);const t=bt(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Ft(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?bt(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),Ft(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return _t(e.params?jt(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?bt(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=re);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),Ft(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;Ft(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const re={};class ie{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=re,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new se(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=bt(n.duration)),null!=n.delay&&(r.delay=bt(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=jt(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new ie(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=re,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new oe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(Jt,"."+this._enterClassName)).replace(te,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class se{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new se(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||W.a,this._currentKeyframe[t]=W.a}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=W.a})):Et(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=jt(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:W.a),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=Et(i,!0);Object.keys(o).forEach(n=>{const r=o[n];r==W.l?t.add(n):r==W.a&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?Nt(t.values()):[],s=e.size?Nt(e.values()):[];if(n){const t=r[0],e=St(t);t.offset=0,e.offset=1,r=[t,e]}return Xt(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class oe extends se{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=Et(t[0],!1);a.offset=0,i.push(a);const u=Et(t[0],!1);u.offset=ae(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=Et(t[r],!1);o.offset=ae((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return Xt(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function ae(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class ue{}class ce extends ue{normalizePropertyName(t,e){return Rt(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(le[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const le=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function he(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const fe={};class de{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||fe,f=this.buildStyles(n,o&&o.params||fe,l),d=a&&a.params||fe,p=this.buildStyles(r,d,l),m=new Set,g=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),d)},w=c?[]:ee(t,e,this.ast.animation,i,s,f,p,b,u,l);let _=0;if(w.forEach(t=>{_=Math.max(t.duration+t.delay,_)}),l.length)return he(e,this._triggerName,n,r,v,f,p,[],[],g,y,_,l);w.forEach(t=>{const n=t.element,r=Z(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Z(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const S=Nt(m.values());return he(e,this._triggerName,n,r,v,f,p,w,S,g,y,_)}}class pe{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=St(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=jt(s,r,e)),n[t]=s})}}),n}}class me{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new pe(t.style,t.options&&t.options.params||{})}),ge(this.states,"true","1"),ge(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new de(t,e,this.states))}),this.fallbackTransition=new de(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function ge(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const ye=new Zt;class ve{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Wt(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=K(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=ee(this._driver,e,i,dt,pt,{},{},n,ye,r),s.forEach(t=>{const e=Z(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,W.a)})});const a=G(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=X(e,"","","");return Q(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const be="ng-animate-queued",we="ng-animate-disabled",_e=".ng-animate-disabled",Se=[],Ee={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Te={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Oe{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=St(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Ie="void",Ce=new Oe(Ie);class xe{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Pe(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Z(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Z(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Pe(t,mt),Pe(t,"ng-trigger-"+e),a[e]=Ce),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new Ae(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Pe(t,mt),Pe(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new Oe(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=Ce),u.value!==Ie&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Ct(t,n),It(t,r)})}return}const c=Z(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(Pe(t,be),s.onStart(()=>{Le(t,be)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,gt,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Ie,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&G(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||Ce,a=new Oe(Ie),u=new Ae(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Ee||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Pe(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=X(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Q(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class ke{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new xe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(je(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!je(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Pe(t,we)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Le(t,we))}removeNode(t,e,n,r){if(je(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return je(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,gt,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,vt,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return G(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Ee,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,_e)&&this.markElementAsDisabled(t,!1),this.driver.query(t,_e,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Pe(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?G(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Zt,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=Re(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n=dt+p++;d.set(e,n),t.forEach(t=>Pe(t,n))});const m=[],g=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,b=Re(h,Array.from(g));b.forEach((t,e)=>{const n=pt+p++;v.set(e,n),t.forEach(t=>Pe(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>Le(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>Le(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const w=[],_=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(w.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)_.push(p);else{if(c)return e.onStart(()=>Ct(i,p.fromStyles)),e.onDestroy(()=>It(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>Ct(i,p.fromStyles)),e.onDestroy(()=>It(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Z(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(_.length){const t=[];_.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),w.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,E=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Z(S,e,[]).push(t),t.destroy()})});const T=m.filter(t=>Ue(t,a,u)),O=new Map;De(O,this.driver,y,u,W.a).forEach(t=>{Ue(t,a,u)&&T.push(t)});const I=new Map;f.forEach((t,e)=>{De(I,this.driver,new Set(t),a,W.l)}),T.forEach(t=>{const e=O.get(t),n=I.get(t);O.set(t,Object.assign(Object.assign({},e),n))});const C=[],x=[],k={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>It(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=k;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,S,i,I,O);if(s.setRealPlayer(n),t===k)C.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=G(e)),r.push(s)}}else Ct(e,o.fromStyles),s.onDestroy(()=>It(e,o.toStyles)),x.push(s),c.has(e)&&r.push(s)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=G(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(Le(t,pt),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,vt,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Fe(this,t,r):this.processLeaveNode(t)}return m.length=0,C.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),C}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==Ie;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=Z(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}Ct(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new W.d(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return Me(t,e),e}((n.get(h)||Se).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=K(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new Ae(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{Z(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>Pe(t,yt));const f=G(h);return f.onDestroy(()=>{c.forEach(t=>Le(t,yt)),It(a,e.toStyles)}),l.forEach(t=>{Z(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new W.d(t.duration,t.delay)}}class Ae{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new W.d,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Q(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Z(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function je(t){return t&&1===t.nodeType}function Ne(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function De(t,e,n,r,i){const s=[];n.forEach(t=>s.push(Ne(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Te,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>Ne(t,s[a++])),o}function Re(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function Pe(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Le(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Fe(t,e,n){G(n).onDone(()=>t.processLeaveNode(e))}function Me(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof W.k?Me(r.players,e):e.push(r)}}function Ue(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Ve{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new ke(t,e,n),this._timelineEngine=new ve(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=Wt(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new me(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=J(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=J(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function qe(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=He(e[0]),e.length>1&&(r=He(e[e.length-1]))):e&&(n=He(e)),n||r?new Be(t,n,r):null}let Be=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&It(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(It(this._element,this._initialStyles),this._endStyles&&(It(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Ct(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ct(this._element,this._endStyles),this._endStyles=null),It(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function He(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];ze(i)&&(e=e||{},e[i]=t[i])}return e}function ze(t){return"display"===t||"position"===t}const We="animation",$e="animationend";class Ge{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Je(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Ze(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Xe(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Ke(this._element,this._name,"paused")}resume(){Ke(this._element,this._name,"running")}setPosition(t){const e=Qe(this._element,this._name);this._position=t*this._duration,Ze(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Xe(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Je(t,"").split(","),r=Ye(n,e);r>=0&&(n.splice(r,1),Ze(t,"",n.join(",")))}(this._element,this._name))}}function Ke(t,e,n){Ze(t,"PlayState",n,Qe(t,e))}function Qe(t,e){const n=Je(t,"");return n.indexOf(",")>0?Ye(n.split(","),e):Ye([n],e)}function Ye(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Xe(t,e,n){n?t.removeEventListener($e,e):t.addEventListener($e,e)}function Ze(t,e,n,r){const i=We+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Je(t,e){return t.style[We+e]||""}class tn{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Ge(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Mt(this.element,n))})}this.currentSnapshot=t}}class en extends W.d{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=lt(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class nn{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return ot(t)}matchesElement(t,e){return at(t,e)}containsElement(t,e){return ut(t,e)}query(t,e,n){return ct(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>lt(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof tn),u={};Pt(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Lt(t,e,u));if(0==n)return new en(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=qe(t,e),d=new tn(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}}class rn{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Mt(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class sn{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(on().toString()),this._cssKeyframesDriver=new nn}validateStyleProperty(t){return ot(t)}matchesElement(t,e){return at(t,e)}containsElement(t,e){return ut(t,e)}query(t,e,n){return ct(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof rn);Pt(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=qe(t,e=Lt(t,e=e.map(t=>Et(t,!1)),u));return new rn(t,e,a,l)}}function on(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let an=(()=>{class t extends W.b{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:i.R.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Object(W.f)(t):t;return ln(this._renderer,null,e,"register",[n]),new un(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(i.F),i.Wb(l.d))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();class un extends W.c{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new cn(this._id,t,e||{},this._renderer)}}class cn{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return ln(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function ln(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const hn="@",fn="@.disabled";let dn=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new pn("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new mn(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(i.F),i.Wb(Ve),i.Wb(i.A))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();class pn{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==hn&&e==fn?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class mn extends pn{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==hn?"."==e.charAt(1)&&e==fn?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==hn){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=hn&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let gn=(()=>{class t extends Ve{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(l.d),i.Wb(ft),i.Wb(ue))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();const yn=[{provide:ft,useFactory:function(){return"function"==typeof on()?new sn:new nn}},{provide:new i.r("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:W.b,useClass:an},{provide:ue,useFactory:function(){return new ce}},{provide:Ve,useClass:gn},{provide:i.F,useFactory:function(t,e,n){return new dn(t,e,n)},deps:[r.d,Ve,i.A]}];let vn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({providers:yn,imports:[r.a]}),t})();var bn=n("5eHb");let wn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Gb({type:t,selectors:[["dax365-page-not-found"]],decls:2,vars:0,template:function(t,e){1&t&&(i.Sb(0,"p"),i.zc(1,"page-not-found!"),i.Rb())},styles:["[_nghost-%COMP%]{display:block;padding-top:100px}p[_ngcontent-%COMP%]{text-align:center}"]}),t})();var _n=n("+9sT"),Sn=n("jrsp");let En=(()=>{class t{constructor(t,e){this._authUserStateService=t,this._coreRouterService=e}canActivateChild(){return this._check()}canLoad(){return this._check()}canActivate(){return this._check()}_check(){const t=this._authUserStateService.getIsAuthenticated();return t||this._coreRouterService.goToLoginPage(),t}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(_n.a),i.Wb(Sn.b))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),Tn=(()=>{class t{constructor(t,e){this._authUserStateService=t,this._coreRouterService=e}canActivateChild(){return this._check()}canLoad(){return this._check()}canActivate(){return this._check()}_check(){const t=this._authUserStateService.getIsAuthenticated();return t&&this._coreRouterService.goToDefaultPage(),!t}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(_n.a),i.Wb(Sn.b))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();const On=[{path:"",redirectTo:Sn.c.HOME,pathMatch:"full"},{path:Sn.c.HOME,canLoad:[En],loadChildren:()=>Promise.all([n.e(2),n.e(7)]).then(n.bind(null,"iydT")).then(t=>t.HomeModule)},{path:Sn.c.GUEST,canLoad:[Tn],loadChildren:()=>Promise.all([n.e(3),n.e(8)]).then(n.bind(null,"DJza")).then(t=>t.GuestModule)},{path:"**",redirectTo:"/"+Sn.c.NOT_FOUND},{path:Sn.c.NOT_FOUND,component:wn}];let In=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({imports:[[z.c.forRoot(On)],z.c]}),t})(),Cn=(()=>{class t{constructor(t){this._authUserStateService=t}ngOnInit(){this.isAuthenticated$=this._authUserStateService.selectIsAuthenticated()}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(_n.a))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&i.Nb(0,"router-outlet")},directives:[z.d],styles:["[_nghost-%COMP%]{display:block;padding-bottom:30px}"]}),t})();n("2Vo4"),n("XNiG"),n("1G5W");let xn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({imports:[[l.c]]}),t})();var kn=n("PCNd"),An=n("tNVQ"),jn=n("Scbg"),Nn=n("G9qZ");let Dn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({providers:[En,Tn,An.a,jn.a,_n.a,Sn.b,Nn.a],imports:[[l.c,z.c,kn.a,xn]]}),t})();var Rn=n("UbJi"),Pn=n("D0XW"),Ln=n("Cfvw"),Fn=n("JX91"),Mn=n("7o/Q");function Un(){return t=>t.lift(new Vn)}class Vn{call(t,e){return e.subscribe(new qn(t))}}class qn extends Mn.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var Bn=n("Kqap");class Hn{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new zn(t,this.compare,this.keySelector))}}class zn extends Mn.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Wn=n("pxpQ"),$n=n("Jgta"),Gn=n("zIRd"),Kn=n("qOnz"),Qn=n("q/0M"),Yn=function(t,e){return(Yn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Xn(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Zn,Jn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},tr=tr||{},er=Jn||self;function nr(){}function rr(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ir(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var sr="closure_uid_"+(1e9*Math.random()>>>0),or=0;function ar(t,e,n){return t.call.apply(t.bind,arguments)}function ur(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function cr(t,e,n){return(cr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ar:ur).apply(null,arguments)}function lr(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function hr(){return Date.now()}function fr(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function dr(){this.j=this.j,this.i=this.i}dr.prototype.j=!1,dr.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,sr)&&t[sr]||(t[sr]=++or)}(this)},dr.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var pr=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},mr=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function gr(t){return Array.prototype.concat.apply([],arguments)}function yr(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function vr(t){return/^[\s\xa0]*$/.test(t)}var br,wr=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function _r(t,e){return-1!=t.indexOf(e)}function Sr(t,e){return t<e?-1:t>e?1:0}t:{var Er=er.navigator;if(Er){var Tr=Er.userAgent;if(Tr){br=Tr;break t}}br=""}function Or(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ir(t){var e={};for(var n in t)e[n]=t[n];return e}var Cr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xr(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Cr.length;s++)n=Cr[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function kr(t){return kr[" "](t),t}kr[" "]=nr;var Ar,jr,Nr=_r(br,"Opera"),Dr=_r(br,"Trident")||_r(br,"MSIE"),Rr=_r(br,"Edge"),Pr=Rr||Dr,Lr=_r(br,"Gecko")&&!(_r(br.toLowerCase(),"webkit")&&!_r(br,"Edge"))&&!(_r(br,"Trident")||_r(br,"MSIE"))&&!_r(br,"Edge"),Fr=_r(br.toLowerCase(),"webkit")&&!_r(br,"Edge");function Mr(){var t=er.document;return t?t.documentMode:void 0}t:{var Ur="",Vr=(jr=br,Lr?/rv:([^\);]+)(\)|;)/.exec(jr):Rr?/Edge\/([\d\.]+)/.exec(jr):Dr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(jr):Fr?/WebKit\/(\S+)/.exec(jr):Nr?/(?:Version)[ \/]?(\S+)/.exec(jr):void 0);if(Vr&&(Ur=Vr?Vr[1]:""),Dr){var qr=Mr();if(null!=qr&&qr>parseFloat(Ur)){Ar=String(qr);break t}}Ar=Ur}var Br={};function Hr(t){return function(t,e){var n=Br;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=wr(String(Ar)).split("."),r=wr(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Sr(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Sr(0==o[2].length,0==a[2].length)||Sr(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var zr=er.document&&Dr&&(Mr()||parseInt(Ar,10))||void 0,Wr=!Dr||9<=Number(zr),$r=Dr&&!Hr("9"),Gr=function(){if(!er.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{er.addEventListener("test",nr,e),er.removeEventListener("test",nr,e)}catch(n){}return t}();function Kr(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Qr(t,e){if(Kr.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Lr){t:{try{kr(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Yr[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Kr.prototype.b=function(){this.defaultPrevented=!0},fr(Qr,Kr);var Yr={2:"touch",3:"pen",4:"mouse"};Qr.prototype.b=function(){Qr.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$r)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Xr="closure_listenable_"+(1e6*Math.random()|0),Zr=0;function Jr(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Zr,this.Y=this.Z=!1}function ti(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ei(t){this.src=t,this.a={},this.b=0}function ni(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=pr(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ti(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ri(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}ei.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=ri(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new Jr(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var ii="closure_lm_"+(1e6*Math.random()|0),si={};function oi(t,e,n,r,i){if(r&&r.once)return ui(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)oi(t,e[s],n,r,i);return null}return n=gi(n),t&&t[Xr]?t.va(e,n,ir(r)?!!r.capture:!!r,i):ai(t,e,n,!1,r,i)}function ai(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ir(i)?!!i.capture:!!i;if(o&&!Wr)return null;var a=pi(t);if(a||(t[ii]=a=new ei(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=di,e=Wr?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Gr||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(hi(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ui(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ui(t,e[s],n,r,i);return null}return n=gi(n),t&&t[Xr]?t.wa(e,n,ir(r)?!!r.capture:!!r,i):ai(t,e,n,!0,r,i)}function ci(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)ci(t,e[s],n,r,i);else r=ir(r)?!!r.capture:!!r,n=gi(n),t&&t[Xr]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=ri(s=t.a[e],n,r,i))&&(ti(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=pi(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ri(e,n,r,i)),(n=-1<t?e[t]:null)&&li(n))}function li(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Xr])ni(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hi(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=pi(e))?(ni(n,t),0==n.b&&(n.src=null,e[ii]=null)):ti(t)}}}function hi(t){return t in si?si[t]:si[t]="on"+t}function fi(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&li(t),n.call(r,e)}function di(t,e){if(t.Y)return!0;if(!Wr){if(!e)t:{e=["window","event"];for(var n=er,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return fi(t,e=new Qr(e,this))}return fi(t,new Qr(e,this))}function pi(t){return(t=t[ii])instanceof ei?t:null}var mi="__closure_events_fn_"+(1e9*Math.random()>>>0);function gi(t){return"function"==typeof t?t:(t[mi]||(t[mi]=function(e){return t.handleEvent(e)}),t[mi])}function yi(){dr.call(this),this.c=new ei(this),this.J=this,this.C=null}function vi(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Kr(e,t);else if(e instanceof Kr)e.target=e.target||t;else{var i=e;xr(e=new Kr(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=bi(o,r,!0,e)&&i}if(i=bi(o=e.a=t,r,!0,e)&&i,i=bi(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=bi(o=e.a=n[s],r,!1,e)&&i}function bi(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&ni(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}fr(yi,dr),yi.prototype[Xr]=!0,(Zn=yi.prototype).addEventListener=function(t,e,n,r){oi(this,t,e,n,r)},Zn.removeEventListener=function(t,e,n,r){ci(this,t,e,n,r)},Zn.G=function(){if(yi.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ti(n[r]);delete e.a[t],e.b--}}this.C=null},Zn.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Zn.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var wi=er.JSON.stringify;function _i(){this.b=this.a=null}var Si,Ei=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Oi},function(t){t.reset()});function Ti(){var t=ki,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Oi(){this.next=this.b=this.a=null}function Ii(t){er.setTimeout(function(){throw t},0)}function Ci(t,e){Si||function(){var t=er.Promise.resolve(void 0);Si=function(){t.then(Ai)}}(),xi||(Si(),xi=!0),ki.add(t,e)}_i.prototype.add=function(t,e){var n=Ei.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Oi.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Oi.prototype.reset=function(){this.next=this.b=this.a=null};var xi=!1,ki=new _i;function Ai(){for(var t;t=Ti();){try{t.a.call(t.b)}catch(n){Ii(n)}var e=Ei;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}xi=!1}function ji(t,e){yi.call(this),this.b=t||1,this.a=e||er,this.f=cr(this.Za,this),this.g=hr()}function Ni(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Di(t,e,n){if("function"==typeof t)n&&(t=cr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=cr(t.handleEvent,t)}return 2147483647<Number(e)?-1:er.setTimeout(t,e||0)}function Ri(t){t.a=Di(function(){t.a=null,t.c&&(t.c=!1,Ri(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}fr(ji,yi),(Zn=ji.prototype).aa=!1,Zn.M=null,Zn.Za=function(){if(this.aa){var t=hr()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),vi(this,"tick"),this.aa&&(Ni(this),this.start()))}},Zn.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=hr())},Zn.G=function(){ji.X.G.call(this),Ni(this),delete this.a};var Pi=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Yn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ri(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(er.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(dr);function Li(t){dr.call(this),this.b=t,this.a={}}fr(Li,dr);var Fi=[];function Mi(t,e,n,r){Array.isArray(n)||(n&&(Fi[0]=n.toString()),n=Fi);for(var i=0;i<n.length;i++){var s=oi(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Ui(t){Or(t.a,function(t,e){this.a.hasOwnProperty(e)&&li(t)},t),t.a={}}function Vi(){this.a=!0}function qi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return wi(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Li.prototype.G=function(){Li.X.G.call(this),Ui(this)},Li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vi.prototype.info=function(){};var Bi={},Hi=null;function zi(){return Hi=Hi||new yi}function Wi(t){Kr.call(this,Bi.Fa,t)}function $i(t){var e=zi();vi(e,new Wi(e,t))}function Gi(t,e){Kr.call(this,Bi.STAT_EVENT,t),this.stat=e}function Ki(t){var e=zi();vi(e,new Gi(e,t))}function Qi(t){Kr.call(this,Bi.Ga,t)}function Yi(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return er.setTimeout(function(){t()},e)}Bi.Fa="serverreachability",fr(Wi,Kr),Bi.STAT_EVENT="statevent",fr(Gi,Kr),Bi.Ga="timingevent",fr(Qi,Kr);var Xi={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Zi={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Ji(){}function ts(){}Ji.prototype.a=null;var es,ns={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function rs(){Kr.call(this,"d")}function is(){Kr.call(this,"c")}function ss(){}function os(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Li(this),this.P=as,this.R=new ji(t=Pr?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}fr(rs,Kr),fr(is,Kr),fr(ss,Ji),es=new ss;var as=45e3,us={},cs={};function ls(t,e,n){t.H=1,t.i=Ns(Is(e)),t.j=n,t.I=!0,hs(t,null)}function hs(t,e){t.u=hr(),ps(t),t.l=Is(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ws(n.b,"t",r),t.D=0,t.a=Vo(t.g,t.g.C?e:null),0<t.O&&(t.F=new Pi(cr(t.Ca,t,t.a),t.O)),Mi(t.J,t.a,"readystatechange",t.Xa),e=t.B?Ir(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),$i(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function fs(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ds(t,n);if(i==cs){4==e&&(t.h=4,Ki(14),r=!1),qi(t.c,t.f,null,"[Incomplete Response]");break}if(i==us){t.h=4,Ki(15),qi(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}qi(t.c,t.f,i,null),bs(t,i)}4==e&&0==n.length&&(t.h=1,Ki(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),No(e),e.F=!0,Ki(11))):(qi(t.c,t.f,n,"[Invalid Chunked Response]"),vs(t),ys(t))}function ds(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?cs:(n=Number(e.substring(n,r)),isNaN(n)?us:(r+=1)+n>e.length?cs:(e=e.substr(r,n),t.D=r+n,e))}function ps(t){t.T=hr()+t.P,ms(t,t.P)}function ms(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Yi(cr(t.Va,t),e)}function gs(t){t.o&&(er.clearTimeout(t.o),t.o=null)}function ys(t){0==t.g.v||t.A||Po(t.g,t)}function vs(t){gs(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ni(t.R),Ui(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function bs(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Zs(n.b,t)))if(n.I=t.N,!t.C&&Zs(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Sg){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Ro(n),Eo(n)}jo(n),Ki(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Yi(cr(n.Sa,n),6e3));if(1>=Xs(n.b)&&n.ea){try{n.ea()}catch(Sg){}n.ea=void 0}}else Fo(n,11)}else if((t.C||n.a==t)&&Ro(n),!vr(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(_r(l,"spdy")||_r(l,"quic")||_r(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Js(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,js(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=hr()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Uo(u,u.C?u.ga:null,u.fa),d.C){to(u.b,d);var p=d,m=u.D;m&&p.setTimeout(m),p.o&&(gs(p),ps(p)),u.a=d}else Ao(u);0<n.g.length&&Io(n)}else"stop"!=i[0]&&"close"!=i[0]||Fo(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Fo(n,7):So(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);$i(4)}catch(Sg){}}function ws(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(rr(t)||"string"==typeof t)mr(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(rr(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(rr(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function _s(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof _s)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ss(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Es(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Es(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Es(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Zn=os.prototype).setTimeout=function(t){this.P=t},Zn.Xa=function(t){t=t.target;var e=this.F;e&&3==vo(t)?e.f():this.Ca(t)},Zn.Ca=function(t){try{if(t==this.a)t:{var e=vo(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Pr&&!this.a.$())){this.A||4!=e||7==n||$i(8==n||0>=r?3:2),gs(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vr(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,Ki(12),vs(this),ys(this);break t}qi(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,bs(this,u)}this.I?(fs(this,e,s),Pr&&this.b&&3==e&&(Mi(this.J,this.R,"tick",this.Wa),this.R.start())):(qi(this.c,this.f,s,null),bs(this,s)),4==e&&vs(this),this.b&&!this.A&&(4==e?Po(this.g,this):(this.b=!1,ps(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,Ki(12)):(this.h=0,Ki(13)),vs(this),ys(this)}}}catch(c){}},Zn.Wa=function(){if(this.a){var t=vo(this.a),e=this.a.$();this.D<e.length&&(gs(this),fs(this,t,e),this.b&&4!=t&&ps(this))}},Zn.cancel=function(){this.A=!0,vs(this)},Zn.Va=function(){this.o=null;var t=hr();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&($i(3),Ki(17)),vs(this),this.h=2,ys(this)):ms(this,this.T-t)},(Zn=_s.prototype).K=function(){Ss(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Zn.L=function(){return Ss(this),this.a.concat()},Zn.get=function(t,e){return Es(this.b,t)?this.b[t]:e},Zn.set=function(t,e){Es(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Zn.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Ts=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Os(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Os){this.a=void 0!==e?e:t.a,Cs(this,t.f),this.j=t.j,xs(this,t.c),ks(this,t.h),this.g=t.g,e=t.b;var n=new qs;n.c=e.c,e.a&&(n.a=new _s(e.a),n.b=e.b),As(this,n),this.i=t.i}else t&&(n=String(t).match(Ts))?(this.a=!!e,Cs(this,n[1]||"",!0),this.j=Ds(n[2]||""),xs(this,n[3]||"",!0),ks(this,n[4]),this.g=Ds(n[5]||"",!0),As(this,n[6]||"",!0),this.i=Ds(n[7]||"")):(this.a=!!e,this.b=new qs(null,this.a))}function Is(t){return new Os(t)}function Cs(t,e,n){t.f=n?Ds(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function xs(t,e,n){t.c=n?Ds(e,!0):e}function ks(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function As(t,e,n){e instanceof qs?(t.b=e,function(t,e){e&&!t.f&&(Bs(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Hs(this,e),Ws(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Rs(e,Us)),t.b=new qs(e,t.a))}function js(t,e,n){t.b.set(e,n)}function Ns(t){return js(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^hr()).toString(36)),t}function Ds(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Rs(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ps),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ps(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Os.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Rs(e,Ls,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Rs(e,Ls,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Rs(n,"/"==n.charAt(0)?Ms:Fs,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Rs(n,Vs)),t.join("")};var Ls=/[#\/\?@]/g,Fs=/[#\?:]/g,Ms=/[#\?]/g,Us=/[#\?@]/g,Vs=/#/g;function qs(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Bs(t){t.a||(t.a=new _s,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Hs(t,e){Bs(t),e=$s(t,e),Es(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Es((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ss(t)))}function zs(t,e){return Bs(t),e=$s(t,e),Es(t.a.b,e)}function Ws(t,e,n){Hs(t,e),0<n.length&&(t.c=null,t.a.set($s(t,e),yr(n)),t.b+=n.length)}function $s(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Zn=qs.prototype).add=function(t,e){Bs(this),this.c=null,t=$s(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Zn.forEach=function(t,e){Bs(this),this.a.forEach(function(n,r){mr(n,function(n){t.call(e,n,r,this)},this)},this)},Zn.L=function(){Bs(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Zn.K=function(t){Bs(this);var e=[];if("string"==typeof t)zs(this,t)&&(e=gr(e,this.a.get($s(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=gr(e,t[n])}return e},Zn.set=function(t,e){return Bs(this),this.c=null,zs(this,t=$s(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Zn.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Zn.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var Gs=function(){return function(t,e){this.b=t,this.a=e}}();function Ks(t){this.g=t||Qs,t=er.PerformanceNavigationTiming?0<(t=er.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(er.ia&&er.ia.ya&&er.ia.ya()&&er.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Qs=10;function Ys(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Xs(t){return t.b?1:t.a?t.a.size:0}function Zs(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Js(t,e){t.a?t.a.add(e):t.b=e}function to(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function eo(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Xn(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return yr(t.c)}function no(){}function ro(){this.a=new no}function io(t,e,n){var r=n||"";try{ws(t,function(t,n){var i=t;ir(t)&&(i=wi(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(oy){throw e.push(r+"type="+encodeURIComponent("_badmap")),oy}}function so(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Ks.prototype.cancel=function(){var t,e;if(this.c=eo(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Xn(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},no.prototype.stringify=function(t){return er.JSON.stringify(t,void 0)},no.prototype.parse=function(t){return er.JSON.parse(t,void 0)};var oo=er.JSON.parse;function ao(t){yi.call(this),this.headers=new _s,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=uo,this.D=this.F=!1}fr(ao,yi);var uo="",co=/^https?$/i,lo=["POST","PUT"];function ho(t){return"content-type"==t.toLowerCase()}function fo(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,po(t),go(t)}function po(t){t.u||(t.u=!0,vi(t,"complete"),vi(t,"error"))}function mo(t){if(t.b&&void 0!==tr&&(!t.s[1]||4!=vo(t)||2!=t.W()))if(t.l&&4==vo(t))Di(t.za,0,t);else if(vi(t,"readystatechange"),4==vo(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Ts)[1]||null;if(!s&&er.self&&er.self.location){var o=er.self.location.protocol;s=o.substr(0,o.length-1)}i=!co.test(s?s.toLowerCase():"")}e=i}if(e)vi(t,"complete"),vi(t,"success");else{t.h=6;try{var a=2<vo(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",po(t)}}finally{go(t)}}}function go(t,e){if(t.a){yo(t);var n=t.a,r=t.s[0]?nr:null;t.a=null,t.s=null,e||vi(t,"ready");try{n.onreadystatechange=r}catch(oy){}}}function yo(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(er.clearTimeout(t.m),t.m=null)}function vo(t){return t.a?t.a.readyState:0}function bo(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Or(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):js(t,e,n))}function wo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function _o(t){this.pa=0,this.g=[],this.c=new Vi,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=wo("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=wo("baseRetryDelayMs",5e3,t),this.Ra=wo("retryDelaySeedMs",1e4,t),this.Ma=wo("forwardChannelMaxRetries",2,t),this.ma=wo("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Ks(t&&t.concurrentRequestLimit),this.ka=new ro,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function So(t){if(To(t),3==t.v){var e=t.R++,n=Is(t.B);js(n,"SID",t.J),js(n,"RID",e),js(n,"TYPE","terminate"),xo(t,n),(e=new os(t,t.c,e,void 0)).H=2,e.i=Ns(Is(n)),n=!1,er.navigator&&er.navigator.sendBeacon&&(n=er.navigator.sendBeacon(e.i.toString(),"")),!n&&er.Image&&((new Image).src=e.i,n=!0),n||(e.a=Vo(e.g,null),e.a.ba(e.i)),e.u=hr(),ps(e)}Mo(t)}function Eo(t){t.a&&(No(t),t.a.cancel(),t.a=null)}function To(t){Eo(t),t.j&&(er.clearTimeout(t.j),t.j=null),Ro(t),t.b.cancel(),t.h&&("number"==typeof t.h&&er.clearTimeout(t.h),t.h=null)}function Oo(t,e){t.g.push(new Gs(t.Oa++,e)),3==t.v&&Io(t)}function Io(t){Ys(t.b)||t.h||(t.h=!0,Ci(t.Ba,t),t.u=0)}function Co(t,e){var n;n=e?e.f:t.R++;var r=Is(t.B);js(r,"SID",t.J),js(r,"RID",n),js(r,"AID",t.P),xo(t,r),t.i&&t.l&&bo(r,t.i,t.l),n=new os(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=ko(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Js(t.b,n),ls(n,r,e)}function xo(t,e){t.f&&ws({},function(t,n){js(e,n,t)})}function ko(t,e,n){n=Math.min(t.g.length,n);var r=t.f?cr(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{io(l,o,"req"+c+"_")}catch(ya){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Ao(t){t.a||t.j||(t.T=1,Ci(t.Aa,t),t.o=0)}function jo(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Yi(cr(t.Aa,t),Lo(t,t.o)),t.o++,0))}function No(t){null!=t.s&&(er.clearTimeout(t.s),t.s=null)}function Do(t){t.a=new os(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Is(t.la);js(e,"RID","rpc"),js(e,"SID",t.J),js(e,"CI",t.H?"0":"1"),js(e,"AID",t.P),xo(t,e),js(e,"TYPE","xmlhttp"),t.i&&t.l&&bo(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ns(Is(e)),n.j=null,n.I=!0,hs(n,t)}function Ro(t){null!=t.m&&(er.clearTimeout(t.m),t.m=null)}function Po(t,e){var n=null;if(t.a==e){Ro(t),No(t),t.a=null;var r=2}else{if(!Zs(t.b,e))return;n=e.s,to(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=hr()-e.u;var i=t.u;vi(r=zi(),new Qi(r,n,e,i)),Io(t)}else Ao(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Xs(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Yi(cr(t.Ba,t,e),Lo(t,t.u)),t.u++,0)))}(t,e)||2==r&&jo(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Fo(t,5);break;case 4:Fo(t,10);break;case 3:Fo(t,6);break;default:Fo(t,2)}}function Lo(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Fo(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=cr(t.Ya,t);n||(n=new Os("//www.google.com/images/cleardot.gif"),er.location&&"http"==er.location.protocol||Cs(n,"https"),Ns(n)),function(t,e){var n=new Vi;if(er.Image){var r=new Image;r.onload=lr(so,n,r,"TestLoadImage: loaded",!0,e),r.onerror=lr(so,n,r,"TestLoadImage: error",!1,e),r.onabort=lr(so,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=lr(so,n,r,"TestLoadImage: timeout",!1,e),er.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ki(2);t.v=0,t.f&&t.f.ra(e),Mo(t),To(t)}function Mo(t){t.v=0,t.I=-1,t.f&&(0==eo(t.b).length&&0==t.g.length||(t.b.c.length=0,yr(t.g),t.g.length=0),t.f.qa())}function Uo(t,e,n){var r=function(t){return t instanceof Os?Is(t):new Os(t,void 0)}(n);if(""!=r.c)e&&xs(r,e+"."+r.c),ks(r,r.h);else{var i=er.location;r=function(t,e,n,r){var i=new Os(null,void 0);return t&&Cs(i,t),e&&xs(i,e),n&&ks(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Or(t.V,function(t,e){js(r,e,t)}),n=t.na,(e=t.A)&&n&&js(r,e,n),js(r,"VER",t.ha),xo(t,r),r}function Vo(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ao(t.Na)).F=t.C,e}function qo(){}function Bo(){if(Dr&&!(10<=Number(zr)))throw Error("Environmental error: no available transport.")}function Ho(t,e){yi.call(this),this.a=new _o(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!vr(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!vr(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new $o(this)}function zo(t){rs.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Wo(){is.call(this),this.status=1}function $o(t){this.a=t}(Zn=ao.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:es),this.a.onreadystatechange=cr(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void fo(this,s)}t=n||"";var i=new _s(this.headers);r&&ws(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=ho,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=er.FormData&&t instanceof er.FormData,!(0<=pr(lo,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{yo(this),0<this.o&&((this.D=function(t){return Dr&&Hr(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=cr(this.xa,this)):this.m=Di(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){fo(this,s)}},Zn.xa=function(){void 0!==tr&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,vi(this,"timeout"),this.abort(8))},Zn.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,vi(this,"complete"),vi(this,"abort"),go(this))},Zn.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),go(this,!0)),ao.X.G.call(this)},Zn.za=function(){this.j||(this.A||this.l||this.g?mo(this):this.Ua())},Zn.Ua=function(){mo(this)},Zn.W=function(){try{return 2<vo(this)?this.a.status:-1}catch(jr){return-1}},Zn.$=function(){try{return this.a?this.a.responseText:""}catch(jr){return""}},Zn.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),oo(e)}},Zn.ua=function(){return this.h},Zn.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Zn=_o.prototype).ha=8,Zn.v=1,Zn.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new os(this,this.c,t,void 0),r=this.l;if(this.O&&(r?xr(r=Ir(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=ko(this,n,e),js(i=Is(this.B),"RID",t),js(i,"CVER",22),this.A&&js(i,"X-HTTP-Session-Id",this.A),xo(this,i),this.i&&r&&bo(i,this.i,r),Js(this.b,n),this.Ia&&js(i,"TYPE","init"),this.da?(js(i,"$req",e),js(i,"SID","null"),n.U=!0,ls(n,i,null)):ls(n,i,e),this.v=2}}else 3==this.v&&(t?Co(this,t):0==this.g.length||Ys(this.b)||Co(this))},Zn.Aa=function(){if(this.j=null,Do(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Yi(cr(this.Ta,this),t)}},Zn.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ki(10),Eo(this),Do(this))},Zn.Sa=function(){null!=this.m&&(this.m=null,Eo(this),jo(this),Ki(19))},Zn.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Ki(2)):(this.c.info("Failed to ping google.com"),Ki(1))},(Zn=qo.prototype).ta=function(){},Zn.sa=function(){},Zn.ra=function(){},Zn.qa=function(){},Zn.Ja=function(){},Bo.prototype.a=function(t,e){return new Ho(t,e)},fr(Ho,yi),Ho.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Ki(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Uo(t,null,t.fa),Io(t)},Ho.prototype.close=function(){So(this.a)},Ho.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Oo(this.a,e)}else this.l?((e={}).__data__=wi(t),Oo(this.a,e)):Oo(this.a,t)},Ho.prototype.G=function(){this.a.f=null,delete this.f,So(this.a),delete this.a,Ho.X.G.call(this)},fr(zo,rs),fr(Wo,is),fr($o,qo),$o.prototype.ta=function(){vi(this.a,"a")},$o.prototype.sa=function(t){vi(this.a,new zo(t))},$o.prototype.ra=function(t){vi(this.a,new Wo(t))},$o.prototype.qa=function(){vi(this.a,"b")},Bo.prototype.createWebChannel=Bo.prototype.a,Ho.prototype.send=Ho.prototype.h,Ho.prototype.open=Ho.prototype.g,Ho.prototype.close=Ho.prototype.close,Xi.NO_ERROR=0,Xi.TIMEOUT=8,Xi.HTTP_ERROR=6,Zi.COMPLETE="complete",ts.EventType=ns,ns.OPEN="a",ns.CLOSE="b",ns.ERROR="c",ns.MESSAGE="d",yi.prototype.listen=yi.prototype.va,ao.prototype.listenOnce=ao.prototype.wa,ao.prototype.getLastError=ao.prototype.Qa,ao.prototype.getLastErrorCode=ao.prototype.ua,ao.prototype.getStatus=ao.prototype.W,ao.prototype.getResponseJson=ao.prototype.Pa,ao.prototype.getResponseText=ao.prototype.$,ao.prototype.send=ao.prototype.ba;var Go=Xi,Ko=Zi,Qo=Bi,Yo=ts,Xo=ao,Zo=n("mrSG"),Jo=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Jo.o=-1;var ta={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ea=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Zo.c)(e,t),e}(Error),na=new Qn.b("@firebase/firestore");function ra(){return na.logLevel}function ia(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(na.logLevel<=Qn.a.DEBUG){var r=e.map(aa);na.debug.apply(na,Object(Zo.f)(["Firestore (8.6.3): "+t],r))}}function sa(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(na.logLevel<=Qn.a.ERROR){var r=e.map(aa);na.error.apply(na,Object(Zo.f)(["Firestore (8.6.3): "+t],r))}}function oa(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(na.logLevel<=Qn.a.WARN){var r=e.map(aa);na.warn.apply(na,Object(Zo.f)(["Firestore (8.6.3): "+t],r))}}function aa(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(oy){return t}}function ua(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.3) INTERNAL ASSERTION FAILED: "+t;throw sa(e),new Error(e)}function ca(t,e){t||ua()}function la(t,e){return t}function ha(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var fa=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=ha(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function da(t,e){return t<e?-1:t>e?1:0}function pa(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function ma(t){return t+"\0"}var ga=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ea(ta.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ea(ta.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ea(ta.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ea(ta.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?da(this.nanoseconds,t.nanoseconds):da(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ya=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new ga(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function va(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ba(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wa(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var _a=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&ua(),void 0===n?n=t.length-e:n>t.length-e&&ua(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Sa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zo.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new ea(ta.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(_a),Ea=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ta=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zo.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Ea.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new ea(ta.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new ea(ta.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ea(ta.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ea(ta.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(_a),Oa=function(){function t(t){this.fields=t,t.sort(Ta.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return pa(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Ia=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return da(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Ia.EMPTY_BYTE_STRING=new Ia("");var Ca=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xa(t){if(ca(!!t),"string"==typeof t){var e=0,n=Ca.exec(t);if(ca(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ka(t.seconds),nanos:ka(t.nanos)}}function ka(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Aa(t){return"string"==typeof t?Ia.fromBase64String(t):Ia.fromUint8Array(t)}function ja(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Na(t){var e=t.mapValue.fields.__previous_value__;return ja(e)?Na(e):e}function Da(t){var e=xa(t.mapValue.fields.__local_write_time__.timestampValue);return new ga(e.seconds,e.nanos)}function Ra(t){return null==t}function Pa(t){return 0===t&&1/t==-1/0}function La(t){return"number"==typeof t&&Number.isInteger(t)&&!Pa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Fa=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Sa.fromString(e))},t.fromName=function(e){return new t(Sa.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Sa.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Sa.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Sa(e.slice()))},t}();function Ma(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ja(t)?4:10:ua()}function Ua(t,e){var n=Ma(t);if(n!==Ma(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Da(t).isEqual(Da(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=xa(t.timestampValue),r=xa(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Aa(t.bytesValue).isEqual(Aa(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ka(t.geoPointValue.latitude)===ka(e.geoPointValue.latitude)&&ka(t.geoPointValue.longitude)===ka(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ka(t.integerValue)===ka(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ka(t.doubleValue),r=ka(e.doubleValue);return n===r?Pa(n)===Pa(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return pa(t.arrayValue.values||[],e.arrayValue.values||[],Ua);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(va(n)!==va(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ua(n[i],r[i])))return!1;return!0}(t,e);default:return ua()}}function Va(t,e){return void 0!==(t.values||[]).find(function(t){return Ua(t,e)})}function qa(t,e){var n=Ma(t),r=Ma(e);if(n!==r)return da(n,r);switch(n){case 0:return 0;case 1:return da(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ka(t.integerValue||t.doubleValue),r=ka(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ba(t.timestampValue,e.timestampValue);case 4:return Ba(Da(t),Da(e));case 5:return da(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Aa(t),r=Aa(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=da(n[i],r[i]);if(0!==s)return s}return da(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=da(ka(t.latitude),ka(e.latitude));return 0!==n?n:da(ka(t.longitude),ka(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=qa(n[i],r[i]);if(s)return s}return da(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=da(r[o],s[o]);if(0!==a)return a;var u=qa(n[r[o]],i[s[o]]);if(0!==u)return u}return da(r.length,s.length)}(t.mapValue,e.mapValue);default:throw ua()}}function Ba(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return da(t,e);var n=xa(t),r=xa(e),i=da(n.seconds,r.seconds);return 0!==i?i:da(n.nanos,r.nanos)}function Ha(t){return za(t)}function za(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=xa(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Aa(t.bytesValue).toBase64():"referenceValue"in t?Fa.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=za(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+za(t.fields[s])}return e+"}"}(t.mapValue):ua();var e}function Wa(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function $a(t){return!!t&&"integerValue"in t}function Ga(t){return!!t&&"arrayValue"in t}function Ka(t){return!!t&&"nullValue"in t}function Qa(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ya(t){return!!t&&"mapValue"in t}function Xa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},xa(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return ba(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=Xa(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Xa(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Za=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Ya(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Xa(e)},t.prototype.setAll=function(t){var e=this,n=Ta.emptyPath(),r={},i=[];t.forEach(function(t,s){if(!n.isImmediateParentOf(s)){var o=e.getFieldsMap(n);e.applyChanges(o,r,i),r={},i=[],n=s.popLast()}t?r[s.lastSegment()]=Xa(t):i.push(s.lastSegment())});var s=this.getFieldsMap(n);this.applyChanges(s,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Ya(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Ua(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Ya(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){ba(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(Xa(this.value))},t}();function Ja(t){var e=[];return ba(t.fields,function(t,n){var r=new Ta([t]);if(Ya(n)){var i=Ja(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new Oa(e)}var tu=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,ya.min(),Za.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Za.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Za.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Za.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Za.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),eu=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function nu(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new eu(t,e,n,r,i,s,o)}function ru(t){var e=la(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Ha(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Ra(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=gu(e.startAt)),e.endAt&&(n+="|ub:",n+=gu(e.endAt)),e.h=n}return e.h}function iu(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!vu(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Ua(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wu(t.startAt,e.startAt)&&wu(t.endAt,e.endAt)}function su(t){return Fa.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ou=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Zo.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new au(t,n,r):"array-contains"===n?new hu(t,r):"in"===n?new fu(t,r):"not-in"===n?new du(t,r):"array-contains-any"===n?new pu(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new uu(t,n):new cu(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(qa(e,this.value)):null!==e&&Ma(this.value)===Ma(e)&&this.m(qa(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ua()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),au=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Fa.fromName(r.referenceValue),i}return Object(Zo.c)(e,t),e.prototype.matches=function(t){var e=Fa.comparator(t.key,this.key);return this.m(e)},e}(ou),uu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=lu(0,n),r}return Object(Zo.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(ou),cu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=lu(0,n),r}return Object(Zo.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(ou);function lu(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Fa.fromName(t.referenceValue)})}var hu=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Zo.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Ga(e)&&Va(e.arrayValue,this.value)},e}(ou),fu=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Zo.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Va(this.value.arrayValue,e)},e}(ou),du=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Zo.c)(e,t),e.prototype.matches=function(t){if(Va(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Va(this.value.arrayValue,e)},e}(ou),pu=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Zo.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Ga(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Va(e.value.arrayValue,t)})},e}(ou),mu=function(t,e){this.position=t,this.before=e};function gu(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Ha(t)}).join(",")}var yu=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function vu(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function bu(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?Fa.comparator(Fa.fromName(o.referenceValue),n.key):qa(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function wu(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ua(t.position[n],e.position[n]))return!1;return!0}var _u=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function Su(t,e,n,r,i,s,o,a){return new _u(t,e,n,r,i,s,o,a)}function Eu(t){return new _u(t)}function Tu(t){return!Ra(t.limit)&&"F"===t.limitType}function Ou(t){return!Ra(t.limit)&&"L"===t.limitType}function Iu(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Cu(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function xu(t){return null!==t.collectionGroup}function ku(t){var e=la(t);if(null===e.p){e.p=[];var n=Cu(e),r=Iu(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new yu(n)),e.p.push(new yu(Ta.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new yu(Ta.keyField(),u))}}}return e.p}function Au(t){var e=la(t);if(!e.T)if("F"===e.limitType)e.T=nu(e.path,e.collectionGroup,ku(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=ku(e);r<i.length;r++){var s=i[r];n.push(new yu(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new mu(e.endAt.position,!e.endAt.before):null,a=e.startAt?new mu(e.startAt.position,!e.startAt.before):null;e.T=nu(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function ju(t,e,n){return new _u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nu(t,e){return iu(Au(t),Au(e))&&t.limitType===e.limitType}function Du(t){return ru(Au(t))+"|lt:"+t.limitType}function Ru(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Ha(e.value);var e}).join(", ")+"]"),Ra(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+gu(t.startAt)),t.endAt&&(e+=", endAt: "+gu(t.endAt)),"Target("+e+")"}(Au(t))+"; limitType="+t.limitType+")"}function Pu(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Fa.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!bu(t.startAt,ku(t),e)||t.endAt&&bu(t.endAt,ku(t),e))}(t,e)}function Lu(t){return function(e,n){for(var r=!1,i=0,s=ku(t);i<s.length;i++){var o=s[i],a=Fu(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function Fu(t,e,n){var r=t.field.isKeyField()?Fa.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?qa(r,i):ua()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ua()}}function Mu(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pa(e)?"-0":e}}function Uu(t){return{integerValue:""+t}}function Vu(t,e){return La(e)?Uu(e):Mu(t,e)}var qu=function(){this._=void 0};function Bu(t,e,n){return t instanceof Wu?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof $u?Gu(t,e):t instanceof Ku?Qu(t,e):function(t,e){var n=zu(t,e),r=Xu(n)+Xu(t.A);return $a(n)&&$a(t.A)?Uu(r):Mu(t.R,r)}(t,e)}function Hu(t,e,n){return t instanceof $u?Gu(t,e):t instanceof Ku?Qu(t,e):n}function zu(t,e){return t instanceof Yu?$a(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Wu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zo.c)(e,t),e}(qu),$u=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Zo.c)(e,t),e}(qu);function Gu(t,e){for(var n=Zu(e),r=function(t){n.some(function(e){return Ua(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Ku=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Zo.c)(e,t),e}(qu);function Qu(t,e){for(var n=Zu(e),r=function(t){n=n.filter(function(e){return!Ua(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Yu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(Zo.c)(e,t),e}(qu);function Xu(t){return ka(t.integerValue||t.doubleValue)}function Zu(t){return Ga(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ju=function(t,e){this.field=t,this.transform=e},tc=function(t,e){this.version=t,this.transformResults=e},ec=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function nc(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var rc=function(){};function ic(t,e,n){t instanceof cc?function(t,e,n){var r=t.value.clone(),i=fc(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof lc?function(t,e,n){if(nc(t.precondition,e)){var r=fc(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(hc(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function sc(t,e,n){t instanceof cc?function(t,e,n){if(nc(t.precondition,e)){var r=t.value.clone(),i=dc(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(uc(e),r).setHasLocalMutations()}}(t,e,n):t instanceof lc?function(t,e,n){if(nc(t.precondition,e)){var r=dc(t.fieldTransforms,n,e),i=e.data;i.setAll(hc(t)),i.setAll(r),e.convertToFoundDocument(uc(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){nc(t.precondition,e)&&e.convertToNoDocument(ya.min())}(t,e)}function oc(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e.data.field(s.field),a=zu(s.transform,o||null);null!=a&&(null==n&&(n=Za.empty()),n.set(s.field,a))}return n||null}function ac(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&pa(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof $u&&e instanceof $u||t instanceof Ku&&e instanceof Ku?pa(t.elements,e.elements,Ua):t instanceof Yu&&e instanceof Yu?Ua(t.A,e.A):t instanceof Wu&&e instanceof Wu}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function uc(t){return t.isFoundDocument()?t.version:ya.min()}var cc=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return Object(Zo.c)(e,t),e}(rc),lc=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return Object(Zo.c)(e,t),e}(rc);function hc(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function fc(t,e,n){var r=new Map;ca(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Hu(o,a,n[i]))}return r}function dc(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,u=n.data.field(o.field);r.set(o.field,Bu(a,u,e))}return r}var pc,mc,gc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Zo.c)(e,t),e}(rc),yc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Zo.c)(e,t),e}(rc),vc=function(t){this.count=t};function bc(t){switch(t){case ta.OK:return ua();case ta.CANCELLED:case ta.UNKNOWN:case ta.DEADLINE_EXCEEDED:case ta.RESOURCE_EXHAUSTED:case ta.INTERNAL:case ta.UNAVAILABLE:case ta.UNAUTHENTICATED:return!1;case ta.INVALID_ARGUMENT:case ta.NOT_FOUND:case ta.ALREADY_EXISTS:case ta.PERMISSION_DENIED:case ta.FAILED_PRECONDITION:case ta.ABORTED:case ta.OUT_OF_RANGE:case ta.UNIMPLEMENTED:case ta.DATA_LOSS:return!0;default:return ua()}}function wc(t){if(void 0===t)return sa("GRPC error has no .code"),ta.UNKNOWN;switch(t){case pc.OK:return ta.OK;case pc.CANCELLED:return ta.CANCELLED;case pc.UNKNOWN:return ta.UNKNOWN;case pc.DEADLINE_EXCEEDED:return ta.DEADLINE_EXCEEDED;case pc.RESOURCE_EXHAUSTED:return ta.RESOURCE_EXHAUSTED;case pc.INTERNAL:return ta.INTERNAL;case pc.UNAVAILABLE:return ta.UNAVAILABLE;case pc.UNAUTHENTICATED:return ta.UNAUTHENTICATED;case pc.INVALID_ARGUMENT:return ta.INVALID_ARGUMENT;case pc.NOT_FOUND:return ta.NOT_FOUND;case pc.ALREADY_EXISTS:return ta.ALREADY_EXISTS;case pc.PERMISSION_DENIED:return ta.PERMISSION_DENIED;case pc.FAILED_PRECONDITION:return ta.FAILED_PRECONDITION;case pc.ABORTED:return ta.ABORTED;case pc.OUT_OF_RANGE:return ta.OUT_OF_RANGE;case pc.UNIMPLEMENTED:return ta.UNIMPLEMENTED;case pc.DATA_LOSS:return ta.DATA_LOSS;default:return ua()}}(mc=pc||(pc={}))[mc.OK=0]="OK",mc[mc.CANCELLED=1]="CANCELLED",mc[mc.UNKNOWN=2]="UNKNOWN",mc[mc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mc[mc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mc[mc.NOT_FOUND=5]="NOT_FOUND",mc[mc.ALREADY_EXISTS=6]="ALREADY_EXISTS",mc[mc.PERMISSION_DENIED=7]="PERMISSION_DENIED",mc[mc.UNAUTHENTICATED=16]="UNAUTHENTICATED",mc[mc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mc[mc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mc[mc.ABORTED=10]="ABORTED",mc[mc.OUT_OF_RANGE=11]="OUT_OF_RANGE",mc[mc.UNIMPLEMENTED=12]="UNIMPLEMENTED",mc[mc.INTERNAL=13]="INTERNAL",mc[mc.UNAVAILABLE=14]="UNAVAILABLE",mc[mc.DATA_LOSS=15]="DATA_LOSS";var _c=function(){function t(t,e){this.comparator=t,this.root=e||Ec.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ec.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ec.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Sc(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Sc(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Sc(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Sc(this.root,t,this.comparator,!0)},t}(),Sc=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Ec=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw ua();if(this.right.isRed())throw ua();var t=this.left.check();if(t!==this.right.check())throw ua();return t+(this.isRed()?0:1)},t}();Ec.EMPTY=null,Ec.RED=!0,Ec.BLACK=!1,Ec.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ua()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ua()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ua()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ua()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ua()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ec(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Tc=function(){function t(t){this.comparator=t,this.data=new _c(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Oc(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Oc(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Oc=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Ic=new _c(Fa.comparator);function Cc(){return Ic}var xc=new _c(Fa.comparator);function kc(){return xc}var Ac=new _c(Fa.comparator);function jc(){return Ac}var Nc=new Tc(Fa.comparator);function Dc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Nc,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Rc=new Tc(da);function Pc(){return Rc}var Lc=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Fc.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(ya.min(),r,Pc(),Cc(),Dc())},t}(),Fc=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Ia.EMPTY_BYTE_STRING,n,Dc(),Dc(),Dc())},t}(),Mc=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Uc=function(t,e){this.targetId=t,this.V=e},Vc=function(t,e,n,r){void 0===n&&(n=Ia.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},qc=function(){function t(){this.S=0,this.D=zc(),this.C=Ia.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Dc(),e=Dc(),n=Dc();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ua()}}),new Fc(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=zc()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Bc=function(){function t(t){this.W=t,this.G=new Map,this.H=Cc(),this.J=Hc(),this.Y=new Tc(da)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.tt(r=s[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:ua()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(su(i))if(0===n){var s=new Fa(i.path);this.tt(e,s,tu.newNoDocument(s,ya.min()))}else ca(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var s=e.ot(i);if(s){if(r.current&&su(s.target)){var o=new Fa(s.target.path);null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,tu.newNoDocument(o,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=Dc();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Lc(t,n,this.Y,this.H,r);return this.H=Cc(),this.J=Hc(),this.Y=new Tc(da),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new qc,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Tc(da),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||ia("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new qc),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Hc(){return new _c(Fa.comparator)}function zc(){return new _c(Fa.comparator)}var Wc={asc:"ASCENDING",desc:"DESCENDING"},$c={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gc=function(t,e){this.databaseId=t,this.I=e};function Kc(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qc(t,e){return t.I?e.toBase64():e.toUint8Array()}function Yc(t,e){return Kc(t,e.toTimestamp())}function Xc(t){return ca(!!t),ya.fromTimestamp(function(t){var e=xa(t);return new ga(e.seconds,e.nanos)}(t))}function Zc(t,e){return function(t){return new Sa(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Jc(t){var e=Sa.fromString(t);return ca(El(e)),e}function tl(t,e){return Zc(t.databaseId,e.path)}function el(t,e){var n=Jc(e);if(n.get(1)!==t.databaseId.projectId)throw new ea(ta.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ea(ta.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Fa(sl(n))}function nl(t,e){return Zc(t.databaseId,e)}function rl(t){var e=Jc(t);return 4===e.length?Sa.emptyPath():sl(e)}function il(t){return new Sa(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sl(t){return ca(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function ol(t,e,n){return{name:tl(t,e),fields:n.value.mapValue.fields}}function al(t,e,n){var r=el(t,e.name),i=Xc(e.updateTime),s=new Za({mapValue:{fields:e.fields}}),o=tu.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function ul(t,e){var n;if(e instanceof cc)n={update:ol(t,e.key,e.value)};else if(e instanceof gc)n={delete:tl(t,e.key)};else if(e instanceof lc)n={update:ol(t,e.key,e.data),updateMask:Sl(e.fieldMask)};else{if(!(e instanceof yc))return ua();n={verify:tl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Wu)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof $u)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ku)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Yu)return{fieldPath:e.field.canonicalString(),increment:n.A};throw ua()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Yc(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ua()}(t,e.precondition)),n}function cl(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?ec.updateTime(Xc(t.updateTime)):void 0!==t.exists?ec.exists(t.exists):ec.none()}(e.currentDocument):ec.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(ca("REQUEST_TIME"===e.setToServerValue),n=new Wu):"appendMissingElements"in e?n=new $u(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Ku(e.removeAllFromArray.values||[]):"increment"in e?n=new Yu(t,e.increment):ua();var r=Ta.fromServerFormat(e.fieldPath);return new Ju(r,n)}(t,e)}):[];if(e.update){var i=el(t,e.update.name),s=new Za({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Oa((t.fieldPaths||[]).map(function(t){return Ta.fromServerFormat(t)}))}(e.updateMask);return new lc(i,s,o,n,r)}return new cc(i,s,n,r)}if(e.delete){var a=el(t,e.delete);return new gc(a,n)}if(e.verify){var u=el(t,e.verify);return new yc(u,n)}return ua()}function ll(t,e){return{documents:[nl(t,e.path)]}}function hl(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=nl(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=nl(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Qa(t.value))return{unaryFilter:{field:vl(t.field),op:"IS_NAN"}};if(Ka(t.value))return{unaryFilter:{field:vl(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Qa(t.value))return{unaryFilter:{field:vl(t.field),op:"IS_NOT_NAN"}};if(Ka(t.value))return{unaryFilter:{field:vl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vl(t.field),op:yl(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:vl(t.field),direction:gl(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||Ra(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=pl(e.startAt)),e.endAt&&(n.structuredQuery.endAt=pl(e.endAt)),n}function fl(t){var e=rl(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ca(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=dl(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new yu(bl(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Ra(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=ml(n.startAt));var l=null;return n.endAt&&(l=ml(n.endAt)),Su(e,i,a,o,u,"F",c,l)}function dl(t){return t?void 0!==t.unaryFilter?[_l(t)]:void 0!==t.fieldFilter?[wl(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return dl(t)}).reduce(function(t,e){return t.concat(e)}):ua():[]}function pl(t){return{before:t.before,values:t.position}}function ml(t){return new mu(t.values||[],!!t.before)}function gl(t){return Wc[t]}function yl(t){return $c[t]}function vl(t){return{fieldPath:t.canonicalString()}}function bl(t){return Ta.fromServerFormat(t.fieldPath)}function wl(t){return ou.create(bl(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ua()}}(t.fieldFilter.op),t.fieldFilter.value)}function _l(t){switch(t.unaryFilter.op){case"IS_NAN":var e=bl(t.unaryFilter.field);return ou.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=bl(t.unaryFilter.field);return ou.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=bl(t.unaryFilter.field);return ou.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=bl(t.unaryFilter.field);return ou.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ua()}}function Sl(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function El(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Tl(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Il(e)),e=Ol(t.get(n),e);return Il(e)}function Ol(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Il(t){return t+"\x01\x01"}function Cl(t){var e=t.length;if(ca(e>=2),2===e)return ca("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Sa.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&ua(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:ua()}s=o+2}return new Sa(r)}var xl=function(t,e){this.seconds=t,this.nanoseconds=e},kl=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};kl.store="owner",kl.key="owner";var Al=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Al.store="mutationQueues",Al.keyPath="userId";var jl=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};jl.store="mutations",jl.keyPath="batchId",jl.userMutationsIndex="userMutationsIndex",jl.userMutationsKeyPath=["userId","batchId"];var Nl=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Tl(e)]},t.key=function(t,e,n){return[t,Tl(e),n]},t}();Nl.store="documentMutations",Nl.PLACEHOLDER=new Nl;var Dl=function(t,e){this.path=t,this.readTime=e},Rl=function(t,e){this.path=t,this.version=e},Pl=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Pl.store="remoteDocuments",Pl.readTimeIndex="readTimeIndex",Pl.readTimeIndexPath="readTime",Pl.collectionReadTimeIndex="collectionReadTimeIndex",Pl.collectionReadTimeIndexPath=["parentPath","readTime"];var Ll=function(t){this.byteSize=t};Ll.store="remoteDocumentGlobal",Ll.key="remoteDocumentGlobalKey";var Fl=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Fl.store="targets",Fl.keyPath="targetId",Fl.queryTargetsIndexName="queryTargetsIndex",Fl.queryTargetsKeyPath=["canonicalId","targetId"];var Ml=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ml.store="targetDocuments",Ml.keyPath=["targetId","path"],Ml.documentTargetsIndex="documentTargetsIndex",Ml.documentTargetsKeyPath=["path","targetId"];var Ul=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Ul.key="targetGlobalKey",Ul.store="targetGlobal";var Vl=function(t,e){this.collectionId=t,this.parent=e};Vl.store="collectionParents",Vl.keyPath=["collectionId","parent"];var ql=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ql.store="clientMetadata",ql.keyPath="clientId";var Bl=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Bl.store="bundles",Bl.keyPath="bundleId";var Hl=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Hl.store="namedQueries",Hl.keyPath="name";var zl=Object(Zo.f)(Object(Zo.f)([],Object(Zo.f)(Object(Zo.f)([],Object(Zo.f)(Object(Zo.f)([],Object(Zo.f)(Object(Zo.f)([],[Al.store,jl.store,Nl.store,Pl.store,Fl.store,kl.store,Ul.store,Ml.store]),[ql.store])),[Ll.store])),[Vl.store])),[Bl.store,Hl.store]),Wl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$l=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Gl=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Kl=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&ua(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Ql=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Gl,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Zl(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=rh(e.target.error);n.ft.reject(new Zl(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Zl(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ia("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new th(e)},t}(),Yl=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(Kn.i)())&&sa("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return ia("SimpleDb","Removing database:",t),eh(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(Kn.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(Zo.b)(this,void 0,void 0,function(){var e,n=this;return Object(Zo.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(ia("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Zl(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new ea(ta.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Zl(t,n))},i.onupgradeneeded=function(t){ia("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){ia("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Zo.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(Zo.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(Zo.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Ql.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),Kl.reject(t)}).toPromise(),u={},o.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return ia("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Xl=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return eh(this.Pt.delete())},t}(),Zl=function(t){function e(e,n){var r=this;return(r=t.call(this,ta.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Zo.c)(e,t),e}(ea);function Jl(t){return"IndexedDbTransactionError"===t.name}var th=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ia("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ia("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),eh(n)},t.prototype.add=function(t){return ia("SimpleDb","ADD",this.store.name,t,t),eh(this.store.add(t))},t.prototype.get=function(t){var e=this;return eh(this.store.get(t)).next(function(n){return void 0===n&&(n=null),ia("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return ia("SimpleDb","DELETE",this.store.name,t),eh(this.store.delete(t))},t.prototype.count=function(){return ia("SimpleDb","COUNT",this.store.name),eh(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){ia("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Kl(function(n,r){e.onerror=function(t){var e=rh(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Kl(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Xl(i),o=e(i.primaryKey,i.value,s);if(o instanceof Kl){var a=o.catch(function(t){return s.done(),Kl.reject(t)});n.push(a)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}else r()}}).next(function(){return Kl.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function eh(t){return new Kl(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=rh(t.target.error);n(e)}})}var nh=!1;function rh(t){var e=Yl._t(Object(Kn.i)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new ea("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return nh||(nh=!0,setTimeout(function(){throw r},0)),r}}return t}var ih=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(Zo.c)(e,t),e}($l);function sh(t,e){var n=la(t);return Yl.It(n.Mt,e)}var oh=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&ic(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&sc(s,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var s;(s=i[r]).key.isEqual(t.key)&&sc(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ya.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Dc())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&pa(this.mutations,t.mutations,function(t,e){return ac(t,e)})&&pa(this.baseMutations,t.baseMutations,function(t,e){return ac(t,e)})},t}(),ah=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){ca(e.mutations.length===r.length);for(var i=jc(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),uh=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=ya.min()),void 0===s&&(s=ya.min()),void 0===o&&(o=Ia.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),ch=function(t){this.Lt=t};function lh(t,e){if(e.document)return al(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Fa.fromSegments(e.noDocument.path),r=mh(e.noDocument.readTime),i=tu.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=Fa.fromSegments(e.unknownDocument.path);return r=mh(e.unknownDocument.version),tu.newUnknownDocument(s,r)}return ua()}function hh(t,e,n){var r=fh(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:tl(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Kc(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new Pl(null,null,s,o,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=ph(e.version);return o=e.hasCommittedMutations,new Pl(null,new Dl(a,u),null,o,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=ph(e.version);return new Pl(new Rl(c,l),null,null,!0,r,i)}return ua()}function fh(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function dh(t){var e=new ga(t[0],t[1]);return ya.fromTimestamp(e)}function ph(t){var e=t.toTimestamp();return new xl(e.seconds,e.nanoseconds)}function mh(t){var e=new ga(t.seconds,t.nanoseconds);return ya.fromTimestamp(e)}function gh(t,e){for(var n=(e.baseMutations||[]).map(function(e){return cl(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return cl(t.Lt,e)}),s=ga.fromMillis(e.localWriteTimeMs);return new oh(e.batchId,s,n,i)}function yh(t){var e,n,r=mh(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?mh(t.lastLimboFreeSnapshotVersion):ya.min();return void 0!==t.query.documents?(ca(1===(n=t.query).documents.length),e=Au(Eu(rl(n.documents[0])))):e=function(t){return Au(fl(t))}(t.query),new uh(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Ia.fromBase64String(t.resumeToken))}function vh(t,e){var n,r=ph(e.snapshotVersion),i=ph(e.lastLimboFreeSnapshotVersion);n=su(e.target)?ll(t.Lt,e.target):hl(t.Lt,e.target);var s=e.resumeToken.toBase64();return new Fl(e.targetId,ru(e.target),r,s,e.sequenceNumber,i,n)}function bh(t){var e=fl({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ju(e,e.limit,"L"):e}var wh=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return _h(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:mh(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return _h(t).put({bundleId:(n=e).id,createTime:ph(Xc(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Sh(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:bh(e.bundledQuery),readTime:mh(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Sh(t).put(function(t){return{name:t.name,readTime:ph(Xc(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function _h(t){return sh(t,Bl.store)}function Sh(t){return sh(t,Hl.store)}var Eh=function(){function t(){this.Bt=new Th}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Kl.resolve()},t.prototype.getCollectionParents=function(t,e){return Kl.resolve(this.Bt.getEntries(e))},t}(),Th=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Tc(Sa.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Tc(Sa.comparator)).toArray()},t}(),Oh=function(){function t(){this.qt=new Th}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var s={collectionId:r,parent:Tl(i)};return Ih(t).put(s)}return Kl.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ma(e),""],!1,!0);return Ih(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Cl(s.parent))}return n})},t}();function Ih(t){return sh(t,Vl.store)}var Ch={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xh=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function kh(t,e,n){var r=t.store(jl.store),i=t.store(Nl.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){ca(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Nl.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return Kl.waitFor(s).next(function(){return c})}function Ah(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ua();e=t.noDocument}return JSON.stringify(e).length}xh.DEFAULT_COLLECTION_PERCENTILE=10,xh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xh.DEFAULT=new xh(41943040,xh.DEFAULT_COLLECTION_PERCENTILE,xh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xh.DISABLED=new xh(-1,0,0);var jh=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return ca(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Dh(t).$t({index:jl.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=Rh(t),o=Dh(t);return o.add({}).next(function(a){ca("number"==typeof a);for(var u=new oh(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return ul(t.Lt,e)}),i=n.mutations.map(function(e){return ul(t.Lt,e)});return new jl(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Tc(function(t,e){return da(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],m=Nl.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(o.put(c)),l.push(s.put(m,Nl.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),Kl.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Dh(t).get(e).next(function(t){return t?(ca(t.userId===n.userId),gh(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Kl.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Dh(t).$t({index:jl.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(ca(e.batchId>=r),s=gh(n.R,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Dh(t).$t({index:jl.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Dh(t).Nt(jl.userMutationsIndex,n).next(function(t){return t.map(function(t){return gh(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Nl.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Rh(t).$t({range:i},function(r,i,o){var a=r[0],u=r[2],c=Cl(r[1]);if(a===n.userId&&e.path.isEqual(c))return Dh(t).get(u).next(function(t){if(!t)throw ua();ca(t.userId===n.userId),s.push(gh(n.R,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Tc(da),i=[];return e.forEach(function(e){var s=Nl.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Rh(t).$t({range:o},function(t,i,s){var o=t[0],a=t[2],u=Cl(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),Kl.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=Nl.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Tc(da);return Rh(t).$t({range:o},function(t,e,s){var o=t[0],u=t[2],c=Cl(t[1]);o===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Dh(t).get(e).next(function(t){if(null===t)throw ua();ca(t.userId===n.userId),r.push(gh(n.R,t))}))}),Kl.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return kh(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Kl.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Kl.resolve();var r=IDBKeyRange.lowerBound(Nl.prefixForUser(e.userId)),i=[];return Rh(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var s=Cl(t[1]);i.push(s)}else r.done()}).next(function(){ca(0===i.length)})})},t.prototype.containsKey=function(t,e){return Nh(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Ph(t).get(this.userId).next(function(t){return t||new Al(e.userId,-1,"")})},t}();function Nh(t,e,n){var r=Nl.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Rh(t).$t({range:s,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function Dh(t){return sh(t,jl.store)}function Rh(t){return sh(t,Nl.store)}function Ph(t){return sh(t,Al.store)}var Lh=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Fh=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Lh(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return ya.fromTimestamp(new ga(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Mh(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return ca(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return Mh(t).$t(function(o,a){var u=yh(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.removeTargetData(t,u)))}).next(function(){return Kl.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Mh(t).$t(function(t,n){var r=yh(n);e(r)})},t.prototype.Xt=function(t){return Uh(t).get(Ul.key).next(function(t){return ca(null!==t),t})},t.prototype.Zt=function(t,e){return Uh(t).put(Ul.key,e)},t.prototype.te=function(t,e){return Mh(t).put(vh(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=ru(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Mh(t).$t({range:r,index:Fl.queryTargetsIndexName},function(t,n,r){var s=yh(n);iu(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=Vh(t);return e.forEach(function(e){var o=Tl(e.path);i.push(s.put(new Ml(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),Kl.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Vh(t);return Kl.forEach(e,function(e){var s=Tl(e.path);return Kl.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Vh(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Vh(t),i=Dc();return r.$t({range:n,kt:!0},function(t,e,n){var r=Cl(t[1]),s=new Fa(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Tl(e.path),r=IDBKeyRange.bound([n],[ma(n)],!1,!0),i=0;return Vh(t).$t({index:Ml.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return Mh(t).get(e).next(function(t){return t?yh(t):null})},t}();function Mh(t){return sh(t,Fl.store)}function Uh(t){return sh(t,Ul.store)}function Vh(t){return sh(t,Ml.store)}function qh(t){return Object(Zo.b)(this,void 0,void 0,function(){return Object(Zo.d)(this,function(e){if(t.code!==ta.FAILED_PRECONDITION||t.message!==Wl)throw t;return ia("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Bh(t,e){var n=t[1],r=e[1],i=da(t[0],e[0]);return 0===i?da(n,r):i}var Hh=function(){function t(t){this.ne=t,this.buffer=new Tc(Bh),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Bh(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),zh=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;ia("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Zo.b)(e,void 0,void 0,function(){var e;return Object(Zo.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Jl(e=n.sent())?(ia("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,qh(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Wh=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Kl.resolve(Jo.o);var r=new Hh(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ia("LruGarbageCollector","Garbage collection skipped; disabled"),Kl.resolve(Ch)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(ia("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Ch):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(ia("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),ra()<=Qn.a.DEBUG&&ia("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Kl.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),$h=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Wh(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Gh(t,n)},t.prototype.removeReference=function(t,e,n){return Gh(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Gh(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Ph(t).Ot(function(r){return Nh(t,r,e).next(function(t){return t&&(n=!0),Kl.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.we(t,function(o,a){if(a<=e){var u=n._e(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),Vh(t).delete([0,Tl(o.path)])})});i.push(u)}}).next(function(){return Kl.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Gh(t,e)},t.prototype.we=function(t,e){var n,r=Vh(t),i=Jo.o;return r.$t({index:Ml.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Jo.o&&e(new Fa(Cl(n)),i),i=o,n=s):i=Jo.o}).next(function(){i!==Jo.o&&e(new Fa(Cl(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Gh(t,e){return Vh(t).put(function(t,e){return new Ml(0,Tl(t.path),e)}(e,t.currentSequenceNumber))}var Kh=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){ba(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return wa(this.inner)},t}(),Qh=function(){function t(){this.changes=new Kh(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:ya.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:tu.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Kl.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Yh=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Jh(t).put(tf(e),n)},t.prototype.removeEntry=function(t,e){var n=Jh(t),r=tf(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Jh(t).get(tf(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Jh(t).get(tf(e)).next(function(t){return{document:n.ye(e,t),size:Ah(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Cc();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Cc(),i=new _c(Fa.comparator);return this.pe(t,e,function(t,e){var s=n.ye(t,e);r=r.insert(t,s),i=i.insert(t,Ah(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Kl.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return Jh(t).$t({range:r},function(t,e,r){for(var o=Fa.fromSegments(t);s&&Fa.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Cc(),s=e.path.length+1,o={};if(n.isEqual(ya.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=fh(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=Pl.collectionReadTimeIndex}return Jh(t).$t(o,function(t,n,o){if(t.length===s){var a=lh(r.R,n);e.path.isPrefixOf(a.key.path)?Pu(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Xh(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Zh(t).get(Ll.key).next(function(t){return ca(!!t),t})},t.prototype.me=function(t,e){return Zh(t).put(Ll.key,e)},t.prototype.ye=function(t,e){if(e){var n=lh(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(ya.min()))return n}return tu.newInvalidDocument(t)},t}(),Xh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Kh(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Zo.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Tc(function(t,e){return da(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var u=hh(e.Ie.R,o.document,e.getReadTime(s));i=i.add(s.path.popLast());var c=Ah(u);r+=c-a,n.push(e.Ie.addEntry(t,s,u))}else if(r-=a,e.trackRemovals){var l=hh(e.Ie.R,tu.newNoDocument(s,ya.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,l))}else n.push(e.Ie.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Kl.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Qh);function Zh(t){return sh(t,Ll.store)}function Jh(t){return sh(t,Pl.store)}function tf(t){return t.path.toArray()}var ef=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;ca(n<r&&n>=0&&r<=11);var s=new Ql("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(kl.store)}(t),function(t){t.createObjectStore(Al.store,{keyPath:Al.keyPath}),t.createObjectStore(jl.store,{keyPath:jl.keyPath,autoIncrement:!0}).createIndex(jl.userMutationsIndex,jl.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Nl.store)}(t),nf(t),function(t){t.createObjectStore(Pl.store)}(t));var o=Kl.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ml.store),t.deleteObjectStore(Fl.store),t.deleteObjectStore(Ul.store)}(t),nf(t)),o=o.next(function(){return function(t){var e=t.store(Ul.store),n=new Ul(0,0,ya.min().toTimestamp(),0);return e.put(Ul.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(jl.store).Nt().next(function(n){t.deleteObjectStore(jl.store),t.createObjectStore(jl.store,{keyPath:jl.keyPath,autoIncrement:!0}).createIndex(jl.userMutationsIndex,jl.userMutationsKeyPath,{unique:!0});var r=e.store(jl.store),i=n.map(function(t){return r.put(t)});return Kl.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(ql.store,{keyPath:ql.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Re(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(Ll.store)}(t),i.be(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ve(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Pe(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Pl.store);e.createIndex(Pl.readTimeIndex,Pl.readTimeIndexPath,{unique:!1}),e.createIndex(Pl.collectionReadTimeIndex,Pl.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ve(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(Bl.store,{keyPath:Bl.keyPath})}(t),function(t){t.createObjectStore(Hl.store,{keyPath:Hl.keyPath})}(t)})),o},t.prototype.be=function(t){var e=0;return t.store(Pl.store).$t(function(t,n){e+=Ah(n)}).next(function(){var n=new Ll(e);return t.store(Ll.store).put(Ll.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Al.store),r=t.store(jl.store);return n.Nt().next(function(n){return Kl.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(jl.userMutationsIndex,i).next(function(r){return Kl.forEach(r,function(r){ca(r.userId===n.userId);var i=gh(e.R,r);return kh(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(Ml.store),n=t.store(Pl.store);return t.store(Ul.store).get(Ul.key).next(function(t){var r=[];return n.$t(function(n,i){var s=new Sa(n),o=function(t){return[0,Tl(t)]}(s);r.push(e.get(o).next(function(n){return n?Kl.resolve():function(n){return e.put(new Ml(0,Tl(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return Kl.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Vl.store,{keyPath:Vl.keyPath});var n=e.store(Vl.store),r=new Th,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Tl(i)})}};return e.store(Pl.store).$t({kt:!0},function(t,e){var n=new Sa(t);return i(n.popLast())}).next(function(){return e.store(Nl.store).$t({kt:!0},function(t,e){var n=Cl(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Fl.store);return n.$t(function(t,r){var i=yh(r),s=vh(e.R,i);return n.put(s)})},t}();function nf(t){t.createObjectStore(Ml.store,{keyPath:Ml.keyPath}).createIndex(Ml.documentTargetsIndex,Ml.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Fl.store,{keyPath:Fl.keyPath}).createIndex(Fl.queryTargetsIndexName,Fl.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ul.store)}var rf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",sf=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=o,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new ea(ta.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $h(this,i),this.Le=n+"main",this.R=new ch(u),this.Be=new Yl(this.Le,11,new ef(this.R)),this.qe=new Fh(this.referenceDelegate,this.R),this.Ut=new Oh,this.Ue=function(t,e){return new Yh(t,e)}(this.R,this.Ut),this.Qe=new wh,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&sa("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ea(ta.FAILED_PRECONDITION,rf);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Jo(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(Zo.b)(e,void 0,void 0,function(){return Object(Zo.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(Zo.b)(e,void 0,void 0,function(){return Object(Zo.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(Zo.b)(e,void 0,void 0,function(){return Object(Zo.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return af(e).put(new ql(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Jl(e))return ia("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ia("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return of(t).get(kl.key).next(function(t){return Kl.resolve(e.tn(t))})},t.prototype.en=function(t){return af(t).delete(this.clientId)},t.prototype.nn=function(){return Object(Zo.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Zo.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=sh(t,ql.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Kl.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Kl.resolve(!0):of(t).get(kl.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new ea(ta.FAILED_PRECONDITION,rf);return!1}}return!(!e.networkEnabled||!e.inForeground)||af(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&ia("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(Zo.b)(this,void 0,void 0,function(){var t=this;return Object(Zo.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[kl.store,ql.store],function(e){var n=new ih(e,Jo.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return af(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return jh.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return ia("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",zl,function(s){return r=new ih(s,i.Ne?i.Ne.next():Jo.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw sa("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new ea(ta.FAILED_PRECONDITION,Wl);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return of(t).get(kl.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new ea(ta.FAILED_PRECONDITION,rf)})},t.prototype.Ze=function(t){var e=new kl(this.clientId,this.allowTabSynchronization,Date.now());return of(t).put(kl.key,e)},t.yt=function(){return Yl.yt()},t.prototype.Xe=function(t){var e=this,n=of(t);return n.get(kl.key).next(function(t){return e.tn(t)?(ia("IndexedDbPersistence","Releasing primary lease."),n.delete(kl.key)):Kl.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(sa("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return ia("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return sa("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){sa("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function of(t){return sh(t,kl.store)}function af(t){return sh(t,ql.store)}function uf(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var cf=function(t,e){this.progress=t,this.wn=e},lf=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Fa.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):xu(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Fa(e)).next(function(t){var e=kc();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,s=kc();return this.Ut.getCollectionParents(t,i).next(function(o){return Kl.forEach(o,function(o){var a=function(t,e){return new _u(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.An=function(t,e,n){var r,i,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c);null==l&&(l=tu.newInvalidDocument(c),r=r.insert(c,l)),sc(u,l,s.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Pu(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Dc(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof lc&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),hf=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Dc(),i=Dc(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),ff=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(ya.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(s){var o=i.Cn(e,s);return(Tu(e)||Ou(e))&&i.Nn(e.limitType,o,r,n)?i.Dn(t,e):(ra()<=Qn.a.DEBUG&&ia("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ru(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Tc(Lu(t));return e.forEach(function(e,r){Pu(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return ra()<=Qn.a.DEBUG&&ia("QueryEngine","Using full collection scan to execute query:",Ru(e)),this.Sn.getDocumentsMatchingQuery(t,e,ya.min())},t}(),df=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new _c(da),this.kn=new Kh(function(t){return ru(t)},iu),this.$n=ya.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new lf(this.On,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function pf(t,e,n,r){return new df(t,e,n,r)}function mf(t,e){return Object(Zo.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Zo.d)(this,function(o){switch(o.label){case 0:return n=la(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n._n.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new lf(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=Dc(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.pn(t,o).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function gf(t,e){var n=la(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Kl.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=n.docVersions.get(t);ca(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function yf(t){var e=la(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function vf(t,e){var n=la(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,c),function(t,e,n){return ca(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&o.push(n.qe.updateTargetData(t,c))}}});var a=Cc();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(bf(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(ya.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(u)}return Kl.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function bf(t,e,n,r,i){var s=Dc();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=Cc();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(ya.min())?(e.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,u),s=s.insert(n,o)):ia("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function wf(t,e){var n=la(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function _f(t,e){var n=la(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Kl.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new uh(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function Sf(t,e,n){return Object(Zo.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Zo.d)(this,function(a){switch(a.label){case 0:r=la(t),i=r.Fn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Jl(o=a.sent()))throw o;return ia("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function Ef(t,e,n){var r=la(t),i=ya.min(),s=Dc();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=la(t),i=r.kn.get(n);return void 0!==i?Kl.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Au(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:ya.min(),n?s:Dc())}).next(function(t){return{documents:t,Bn:s}})})}function Tf(t,e){var n=la(t),r=la(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Of(t){var e=la(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=la(t),i=Cc(),s=fh(n),o=Jh(e),a=IDBKeyRange.lowerBound(s,!0);return o.$t({index:Pl.readTimeIndex,range:a},function(t,e){var n=lh(r.R,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{wn:i,readTime:dh(s)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function If(t){return Object(Zo.b)(this,void 0,void 0,function(){var e;return Object(Zo.d)(this,function(n){return[2,(e=la(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Jh(t),n=ya.min();return e.$t({index:Pl.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=dh(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function Cf(t,e,n,r){return Object(Zo.b)(this,void 0,void 0,function(){var i,s,o,a,u,c,l,h,f,d;return Object(Zo.d)(this,function(p){switch(p.label){case 0:for(i=la(t),s=Dc(),o=Cc(),a=jc(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,_f(i,function(t){return Au(Eu(Sa.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return bf(t,f,o,ya.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,s,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function xf(t,e,n){return void 0===n&&(n=Dc()),Object(Zo.b)(this,void 0,void 0,function(){var r,i;return Object(Zo.d)(this,function(s){switch(s.label){case 0:return[4,_f(t,Au(bh(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=la(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=Xc(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Qe.saveNamedQuery(t,e);var o=r.withResumeToken(Ia.EMPTY_BYTE_STRING,s);return i.Fn=i.Fn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var kf=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Kl.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Xc(n.createTime)}),Kl.resolve()},t.prototype.getNamedQuery=function(t,e){return Kl.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:bh(t.bundledQuery),readTime:Xc(t.readTime)}}(e)),Kl.resolve()},t}(),Af=function(){function t(){this.Wn=new Tc(jf.Gn),this.zn=new Tc(jf.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new jf(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new jf(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Fa(new Sa([])),r=new jf(n,t),i=new jf(n,t+1),s=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),s.push(t.key)}),s},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Fa(new Sa([])),n=new jf(e,t),r=new jf(e,t+1),i=Dc();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new jf(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),jf=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Fa.comparator(t.key,e.key)||da(t.ns,e.ns)},t.Hn=function(t,e){return da(t.ns,e.ns)||Fa.comparator(t.key,e.key)},t}(),Nf=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Tc(jf.Gn)}return t.prototype.checkEmpty=function(t){return Kl.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var s=new oh(i,e,n,r);this._n.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.rs=this.rs.add(new jf(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Kl.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return Kl.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Kl.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Kl.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Kl.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new jf(e,0),i=new jf(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);s.push(e)}),Kl.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Tc(da);return e.forEach(function(t){var e=new jf(t,0),i=new jf(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Kl.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Fa.isDocumentKey(i)||(i=i.child(""));var s=new jf(new Fa(i),0),o=new Tc(da);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ns)),!0)},s),Kl.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;ca(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Kl.forEach(e.mutations,function(i){var s=new jf(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new jf(e,0),r=this.rs.firstAfterOrEqual(n);return Kl.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Kl.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Df=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new _c(Fa.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Kl.resolve(n?n.document.clone():tu.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Cc();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():tu.newInvalidDocument(t))}),Kl.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Cc(),i=new Fa(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;c.compareTo(n)<=0||Pu(e,u)&&(r=r.insert(u.key,u.clone()))}return Kl.resolve(r)},t.prototype.fs=function(t,e){return Kl.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Rf(this)},t.prototype.getSize=function(t){return Kl.resolve(this.size)},t}(),Rf=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(Zo.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Kl.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Qh),Pf=function(){function t(t){this.persistence=t,this.ds=new Kh(function(t){return ru(t)},iu),this.lastRemoteSnapshotVersion=ya.min(),this.highestTargetId=0,this.ws=0,this._s=new Af,this.targetCount=0,this.ys=Lh.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Kl.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Kl.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Kl.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Kl.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Kl.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Lh(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Kl.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Kl.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Kl.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.ds.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Kl.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return Kl.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Kl.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Kl.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Kl.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Kl.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Kl.resolve(n)},t.prototype.containsKey=function(t,e){return Kl.resolve(this._s.containsKey(e))},t}(),Lf=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Jo(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Pf(this),this.Ut=new Eh,this.Ue=function(t,e){return new Df(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new ch(e),this.Qe=new kf(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Nf(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;ia("MemoryPersistence","Starting transaction:",t);var i=new Ff(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Kl.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Ff=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Zo.c)(e,t),e}($l),Mf=function(){function t(t){this.persistence=t,this.As=new Af,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ua()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Kl.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Kl.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Kl.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Kl.forEach(this.vs,function(r){var i=Fa.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Kl.or([function(){return Kl.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Uf=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Vf(t,e){return"firestore_clients_"+t+"_"+e}function qf(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Bf(t,e){return"firestore_targets_"+t+"_"+e}Uf.UNAUTHENTICATED=new Uf(null),Uf.GOOGLE_CREDENTIALS=new Uf("google-credentials-uid"),Uf.FIRST_PARTY=new Uf("first-party-uid");var Hf=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new ea(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(sa("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),zf=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ea(i.error.code,i.error.message)),s?new t(e,i.state,r):(sa("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Wf=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Pc(),o=0;i&&o<r.activeTargetIds.length;++o)i=La(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(sa("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),$f=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(sa("SharedClientState","Failed to parse online state: "+e),null)},t}(),Gf=function(){function t(){this.activeTargetIds=Pc()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Kf=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new _c(da),this.started=!1,this.$s=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Vf(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Gf),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Zo.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(Zo.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Vf(this.persistenceKey,r)))&&(s=Wf.Vs(r,i))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Ks(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Bf(this.persistenceKey,t));if(n){var r=zf.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Bf(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ia("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ia("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ia("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(ia("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void sa("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(Zo.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(Zo.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=Jo.o;if(null!=t)try{var n=JSON.parse(t);ca("number"==typeof n),e=n}catch(t){sa("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Jo.o&&this.sequenceNumberHandler(o);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Hf(this.currentUser,t,e,n),i=qf(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=qf(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Bf(this.persistenceKey,t),i=new zf(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Wf.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Hf.Vs(new Uf(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return zf.Vs(r,e)},t.prototype.js=function(t){return $f.Vs(t)},t.prototype.ii=function(t){return Object(Zo.b)(this,void 0,void 0,function(){return Object(Zo.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ia("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),s=this.Gs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.hi(o,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Pc();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Qf=function(){function t(){this.li=new Gf,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Gf,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Yf=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Xf=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){ia("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){ia("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Zf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Jf=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),td=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(Zo.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,s){var o=new Xo;o.listenOnce(Ko.COMPLETE,function(){try{switch(o.getLastErrorCode()){case Go.NO_ERROR:var e=o.getResponseJson();ia("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Go.TIMEOUT:ia("Connection",'RPC "'+t+'" timed out'),s(new ea(ta.DEADLINE_EXCEEDED,"Request time out"));break;case Go.HTTP_ERROR:var n=o.getStatus();if(ia("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(ta).indexOf(e)>=0?e:ta.UNKNOWN}(r.status);s(new ea(a,r.message))}else s(new ea(ta.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new ea(ta.UNAVAILABLE,"Connection failed."));break;default:ua()}}finally{ia("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Bo,i=zi(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,e),Object(Kn.n)()||Object(Kn.p)()||Object(Kn.l)()||Object(Kn.m)()||Object(Kn.q)()||Object(Kn.k)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");ia("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new Jf({Ei:function(t){c?ia("Connection","Not sending because WebChannel is closed:",t):(u||(ia("Connection","Opening WebChannel transport."),a.open(),u=!0),ia("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Yo.EventType.OPEN,function(){c||ia("Connection","WebChannel transport opened.")}),h(a,Yo.EventType.CLOSE,function(){c||(c=!0,ia("Connection","WebChannel transport closed"),l.Vi())}),h(a,Yo.EventType.ERROR,function(t){c||(c=!0,oa("Connection","WebChannel transport errored:",t),l.Vi(new ea(ta.UNAVAILABLE,"The operation could not be completed")))}),h(a,Yo.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];ca(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){ia("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=pc[t];if(void 0!==e)return wc(e)}(i),o=r.message;void 0===s&&(s=ta.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new ea(s,o)),a.close()}else ia("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Qo.STAT_EVENT,function(t){10===t.stat?ia("Connection","Detected buffering proxy"):11===t.stat&&ia("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);ia("RestConnection","Sending: ",i,n);var s={};return this.Fi(s,r),this.ki(t,i,s,n).then(function(t){return ia("RestConnection","Received: ",t),t},function(e){throw oa("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.3",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Zf[t]},t}());function ed(){return"undefined"!=typeof window?window:null}function nd(){return"undefined"!=typeof document?document:null}function rd(t){return new Gc(t,!0)}var id=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&ia("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),sd=function(){function t(t,e,n,r,i,s){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new id(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(Zo.b)(this,void 0,void 0,function(){return Object(Zo.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(Zo.b)(this,void 0,void 0,function(){return Object(Zo.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(Zo.b)(this,void 0,void 0,function(){return Object(Zo.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===ta.RESOURCE_EXHAUSTED?(sa(e.toString()),sa("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===ta.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new ea(ta.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(Zo.b)(t,void 0,void 0,function(){return Object(Zo.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return ia("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(ia("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),od=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).R=i,o}return Object(Zo.c)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ua()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.I?(ca(void 0===e||"string"==typeof e),Ia.fromBase64String(e||"")):(ca(void 0===e||e instanceof Uint8Array),Ia.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?ta.UNKNOWN:wc(t.code);return new ea(e,t.message||"")}(a);n=new Vc(r,i,s,o||null)}else if("documentChange"in e){i=el(t,(r=e.documentChange).document.name),s=Xc(r.document.updateTime);var a=new Za({mapValue:{fields:r.document.fields}}),u=(o=tu.newFoundDocument(i,s,a),r.targetIds||[]);n=new Mc(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=el(t,(r=e.documentDelete).document),s=r.readTime?Xc(r.readTime):ya.min(),a=tu.newNoDocument(i,s),n=new Mc([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=el(t,(r=e.documentRemove).document),n=new Mc([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return ua();var c=e.filter;i=new vc(r=c.count||0),n=new Uc(s=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return ya.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ya.min():e.readTime?Xc(e.readTime):ya.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=il(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=su(r)?{documents:ll(t,r)}:{query:hl(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Qc(t,e.resumeToken):e.snapshotVersion.compareTo(ya.min())>0&&(n.readTime=Kc(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ua()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=il(this.R),e.removeTarget=t,this.cr(e)},e}(sd),ad=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).R=i,o.gr=!1,o}return Object(Zo.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(ca(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(ca(void 0!==e),t.map(function(t){return function(t,e){var n=Xc(t.updateTime?t.updateTime:e);return n.isEqual(ya.min())&&(n=Xc(e)),new tc(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Xc(t.commitTime);return this.listener.Tr(n,e)}return ca(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=il(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return ul(e.R,t)})};this.cr(n)},e}(sd),ud=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(Zo.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new ea(ta.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===ta.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new ea(ta.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===ta.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new ea(ta.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),cd=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(sa(e),this.Vr=!1):ia("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),ld=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(Zo.b)(s,void 0,void 0,function(){return Object(Zo.d)(this,function(t){switch(t.label){case 0:return bd(this)?(ia("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Zo.b)(this,void 0,void 0,function(){var e;return Object(Zo.d)(this,function(n){switch(n.label){case 0:return(e=la(t)).Or.add(4),[4,fd(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,hd(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new cd(n,r)};function hd(t){return Object(Zo.b)(this,void 0,void 0,function(){var e,n;return Object(Zo.d)(this,function(r){switch(r.label){case 0:if(!bd(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function fd(t){return Object(Zo.b)(this,void 0,void 0,function(){var e,n;return Object(Zo.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function dd(t,e){var n=la(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),vd(n)?yd(n):Rd(n).er()&&md(n,e))}function pd(t,e){var n=la(t),r=Rd(n);n.$r.delete(e),r.er()&&gd(n,e),0===n.$r.size&&(r.er()?r.ir():bd(n)&&n.Br.set("Unknown"))}function md(t,e){t.qr.U(e.targetId),Rd(t).mr(e)}function gd(t,e){t.qr.U(e),Rd(t).yr(e)}function yd(t){t.qr=new Bc({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Rd(t).start(),t.Br.Sr()}function vd(t){return bd(t)&&!Rd(t).tr()&&t.$r.size>0}function bd(t){return 0===la(t).Or.size}function wd(t){t.qr=void 0}function _d(t){return Object(Zo.b)(this,void 0,void 0,function(){return Object(Zo.d)(this,function(e){return t.$r.forEach(function(e,n){md(t,e)}),[2]})})}function Sd(t,e){return Object(Zo.b)(this,void 0,void 0,function(){return Object(Zo.d)(this,function(n){return wd(t),vd(t)?(t.Br.Nr(e),yd(t)):t.Br.set("Unknown"),[2]})})}function Ed(t,e,n){return Object(Zo.b)(this,void 0,void 0,function(){var r,i,s;return Object(Zo.d)(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof Vc&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Zo.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Zo.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.$r.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.$r.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),ia("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Td(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Mc?t.qr.X(e):e instanceof Uc?t.qr.rt(e):t.qr.et(e),n.isEqual(ya.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,yf(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Ia.EMPTY_BYTE_STRING,n.snapshotVersion)),gd(t,e);var r=new uh(n.target,e,1,n.sequenceNumber);md(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return ia("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Td(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function Td(t,e,n){return Object(Zo.b)(this,void 0,void 0,function(){var r=this;return Object(Zo.d)(this,function(i){switch(i.label){case 0:if(!Jl(e))throw e;return t.Or.add(1),[4,fd(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return yf(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(Zo.b)(r,void 0,void 0,function(){return Object(Zo.d)(this,function(e){switch(e.label){case 0:return ia("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,hd(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Od(t,e){return e().catch(function(n){return Td(t,n,e)})}function Id(t){return Object(Zo.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(Zo.d)(this,function(o){switch(o.label){case 0:e=la(t),n=Pd(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return bd(t)&&t.kr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,wf(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Pd(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Td(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Cd(e)&&xd(e),[2]}})})}function Cd(t){return bd(t)&&!Pd(t).tr()&&t.kr.length>0}function xd(t){Pd(t).start()}function kd(t){return Object(Zo.b)(this,void 0,void 0,function(){return Object(Zo.d)(this,function(e){return Pd(t).Ar(),[2]})})}function Ad(t){return Object(Zo.b)(this,void 0,void 0,function(){var e,n,r;return Object(Zo.d)(this,function(i){for(e=Pd(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function jd(t,e,n){return Object(Zo.b)(this,void 0,void 0,function(){var r,i;return Object(Zo.d)(this,function(s){switch(s.label){case 0:return r=t.kr.shift(),i=ah.from(r,e,n),[4,Od(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,Id(t)];case 2:return s.sent(),[2]}})})}function Nd(t,e){return Object(Zo.b)(this,void 0,void 0,function(){return Object(Zo.d)(this,function(n){switch(n.label){case 0:return e&&Pd(t).pr?[4,function(t,e){return Object(Zo.b)(this,void 0,void 0,function(){var n,r;return Object(Zo.d)(this,function(i){switch(i.label){case 0:return bc(r=e.code)&&r!==ta.ABORTED?(n=t.kr.shift(),Pd(t).sr(),[4,Od(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Id(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Cd(t)&&xd(t),[2]}})})}function Dd(t,e){return Object(Zo.b)(this,void 0,void 0,function(){var n;return Object(Zo.d)(this,function(r){switch(r.label){case 0:return n=la(t),e?(n.Or.delete(2),[4,hd(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,fd(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Rd(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=la(t);return r.br(),new od(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:_d.bind(null,t),Ri:Sd.bind(null,t),_r:Ed.bind(null,t)}),t.Mr.push(function(n){return Object(Zo.b)(e,void 0,void 0,function(){return Object(Zo.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),vd(t)?yd(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),wd(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Pd(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=la(t);return r.br(),new ad(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:kd.bind(null,t),Ri:Nd.bind(null,t),Ir:Ad.bind(null,t),Tr:jd.bind(null,t)}),t.Mr.push(function(n){return Object(Zo.b)(e,void 0,void 0,function(){return Object(Zo.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,Id(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(ia("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var Ld=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Gl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ea(ta.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Fd(t,e){if(sa("AsyncQueue",e+": "+t),Jl(t))return new ea(ta.UNAVAILABLE,e+": "+t);throw t}var Md=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Fa.comparator(e.key,n.key)}:function(t,e){return Fa.comparator(t.key,e.key)},this.keyedMap=kc(),this.sortedSet=new _c(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Ud=function(){function t(){this.Kr=new _c(Fa.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):ua():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Vd=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,Md.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Nu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),qd=function(){this.Wr=void 0,this.listeners=[]},Bd=function(){this.queries=new Kh(function(t){return Du(t)},Nu),this.onlineState="Unknown",this.Gr=new Set};function Hd(t,e){return Object(Zo.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(Zo.d)(this,function(c){switch(c.label){case 0:if(n=la(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new qd),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Fd(a,"Initialization of query '"+Ru(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&Gd(n),[2]}})})}function zd(t,e){return Object(Zo.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Zo.d)(this,function(a){return n=la(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Wd(t,e){for(var n=la(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(o)&&(r=!0);a.Wr=o}}r&&Gd(n)}function $d(t,e,n){var r=la(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Gd(t){t.Gr.forEach(function(t){t.next()})}var Kd=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Vd(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Vd.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Qd=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Yd=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return el(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?al(this.R,t.document,!1):tu.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return Xc(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Yd(this.R),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Dc()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Zo.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Zo.d)(this,function(s){switch(s.label){case 0:return[4,Cf(this.localStore,new Yd(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,xf(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new cf(Object.assign({},this.progress),t))]}})})}}();var Xd=function(t){this.key=t},Zd=function(t){this.key=t},Jd=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Dc(),this.mutatedKeys=Dc(),this.lo=Lu(t),this.fo=new Md(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Ud,i=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=Tu(this.query)&&i.size===this.query.limit?i.last():null,c=Ou(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Pu(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),Tu(this.query)||Ou(this.query))for(;o.size>this.query.limit;){var l=Tu(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{fo:o,mo:r,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ua()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==s.length||u?{snapshot:new Vd(this.query,t.fo,i,s,t.mutatedKeys,0===a,u,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Ud,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Dc(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Zd(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Xd(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Dc();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Vd.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),tp=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ep=function(t){this.key=t,this.bo=!1},np=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new Kh(function(t){return Du(t)},Nu),this.Vo=new Map,this.So=new Set,this.Do=new _c(Fa.comparator),this.Co=new Map,this.No=new Af,this.xo={},this.Fo=new Map,this.ko=Lh.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function rp(t,e){return Object(Zo.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Zo.d)(this,function(a){switch(a.label){case 0:return n=Np(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,_f(n.localStore,Au(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,ip(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&dd(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function ip(t,e,n,r){return Object(Zo.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object(Zo.d)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(Zo.b)(this,void 0,void 0,function(){var i,s,o;return Object(Zo.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Ef(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(yp(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,Ef(t.localStore,e,!0)];case 1:return i=l.sent(),s=new Jd(e,i.Bn),o=s._o(i.documents),a=Fc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a),yp(t,n,u.To),c=new tp(e,n,s),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function sp(t,e){return Object(Zo.b)(this,void 0,void 0,function(){var n,r,i;return Object(Zo.d)(this,function(s){switch(s.label){case 0:return n=la(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Nu(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Sf(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),pd(n.remoteStore,r.targetId),mp(n,r.targetId)}).catch(qh)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return mp(n,r.targetId),[4,Sf(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function op(t,e,n){return Object(Zo.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Zo.d)(this,function(a){switch(a.label){case 0:r=Dp(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=la(t),i=ga.now(),s=e.reduce(function(t,e){return t.add(e.key)},Dc());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=oc(c,n.get(c.key));null!=l&&o.push(new lc(c.key,l,Ja(l.value.mapValue),ec.exists(!0)))}return r._n.addMutationBatch(t,i,o,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new _c(da)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,wp(r,i.changes)];case 3:return a.sent(),[4,Id(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=Fd(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function ap(t,e){return Object(Zo.b)(this,void 0,void 0,function(){var n,r;return Object(Zo.d)(this,function(i){switch(i.label){case 0:n=la(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,vf(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(ca(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?ca(r.bo):t.removedDocuments.size>0&&(ca(r.bo),r.bo=!1))}),[4,wp(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,qh(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function up(t,e,n){var r=la(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=la(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zr(e)&&(r=!0)}),r&&Gd(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function cp(t,e,n){return Object(Zo.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(Zo.d)(this,function(c){switch(c.label){case 0:return(r=la(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(o=(o=new _c(Fa.comparator)).insert(s,tu.newNoDocument(s,ya.min())),a=Dc().add(s),u=new Lc(ya.min(),new Map,new Tc(da),o,a),[4,ap(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),bp(r),[3,4];case 2:return[4,Sf(r.localStore,e,!1).then(function(){return mp(r,e,n)}).catch(qh)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function lp(t,e){return Object(Zo.b)(this,void 0,void 0,function(){var n,r,i;return Object(Zo.d)(this,function(s){switch(s.label){case 0:n=la(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,gf(n.localStore,e)];case 2:return i=s.sent(),pp(n,r,null),dp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,wp(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,qh(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function hp(t,e,n){return Object(Zo.b)(this,void 0,void 0,function(){var r,i;return Object(Zo.d)(this,function(s){switch(s.label){case 0:r=la(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=la(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return ca(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),pp(r,e,n),dp(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,wp(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,qh(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function fp(t,e){return Object(Zo.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Zo.d)(this,function(a){switch(a.label){case 0:bd((n=la(t)).remoteStore)||ia("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=la(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return s=a.sent(),o=Fd(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function dp(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function pp(t,e,n){var r=la(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function mp(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||gp(t,e)})}function gp(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(pd(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),bp(t))}function yp(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Xd?(t.No.addReference(s.key,e),vp(t,s)):s instanceof Zd?(ia("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||gp(t,s.key)):ua()}}function vp(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(ia("SyncEngine","New document in limbo: "+n),t.So.add(r),bp(t))}function bp(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Fa(Sa.fromString(e)),r=t.ko.next();t.Co.set(r,new ep(n)),t.Do=t.Do.insert(n,r),dd(t.remoteStore,new uh(Au(Eu(n.path)),r,2,Jo.o))}}function wp(t,e,n){return Object(Zo.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Zo.d)(this,function(a){switch(a.label){case 0:return r=la(t),i=[],s=[],o=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){o.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=hf.Pn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(Zo.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object(Zo.d)(this,function(l){switch(l.label){case 0:n=la(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Kl.forEach(e,function(e){return Kl.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Kl.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Jl(r=l.sent()))throw r;return ia("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function _p(t,e){return Object(Zo.b)(this,void 0,void 0,function(){var n,r;return Object(Zo.d)(this,function(i){switch(i.label){case 0:return(n=la(t)).currentUser.isEqual(e)?[3,3]:(ia("SyncEngine","User change. New user:",e.toKey()),[4,mf(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new ea(ta.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,wp(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Sp(t,e){var n=la(t),r=n.Co.get(e);if(r&&r.bo)return Dc().add(r.key);var i=Dc(),s=n.Vo.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Po.get(a[o]);i=i.unionWith(u.view.wo)}return i}function Ep(t,e){return Object(Zo.b)(this,void 0,void 0,function(){var n,r,i;return Object(Zo.d)(this,function(s){switch(s.label){case 0:return[4,Ef((n=la(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&yp(n,e.targetId,i.To),i)]}})})}function Tp(t){return Object(Zo.b)(this,void 0,void 0,function(){var e;return Object(Zo.d)(this,function(n){return[2,Of((e=la(t)).localStore).then(function(t){return wp(e,t)})]})})}function Op(t,e,n,r){return Object(Zo.b)(this,void 0,void 0,function(){var i,s;return Object(Zo.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=la(t),r=la(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Kl.resolve(null)})})}((i=la(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Id(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(pp(i,e,r||null),dp(i,e),function(t,e){la(la(t)._n).Gt(e)}(i.localStore,e)):ua(),o.label=4;case 4:return[4,wp(i,s)];case 5:return o.sent(),[3,7];case 6:ia("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function Ip(t,e){return Object(Zo.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(Zo.d)(this,function(c){switch(c.label){case 0:return Np(n=la(t)),Dp(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Cp(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,Dd(n.remoteStore,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)dd(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return mp(n,e),Sf(n.localStore,e,!0)}),pd(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Cp(n,a)];case 5:return c.sent(),function(t){var e=la(t);e.Co.forEach(function(t,n){pd(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new _c(Fa.comparator)}(n),n.$o=!1,[4,Dd(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Cp(t,e,n){return Object(Zo.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,f,d,p;return Object(Zo.d)(this,function(m){switch(m.label){case 0:n=la(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(u=void 0,(c=n.Vo.get(a=o[s]))&&0!==c.length?[4,_f(n.localStore,Au(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,Ep(n,f)]):[3,6];case 4:(d=m.sent()).snapshot&&i.push(d.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Tf(n.localStore,a)];case 8:return p=m.sent(),[4,_f(n.localStore,p)];case 9:return u=m.sent(),[4,ip(n,xp(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function xp(t){return Su(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function kp(t){var e=la(t);return la(la(e.localStore).persistence).fn()}function Ap(t,e,n,r){return Object(Zo.b)(this,void 0,void 0,function(){var i,s,o;return Object(Zo.d)(this,function(a){switch(a.label){case 0:return(i=la(t)).$o?(ia("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Of(i.localStore)];case 3:return s=a.sent(),o=Lc.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,wp(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,Sf(i.localStore,e,!0)];case 6:return a.sent(),mp(i,e,r),[3,8];case 7:ua(),a.label=8;case 8:return[2]}})})}function jp(t,e,n){return Object(Zo.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object(Zo.d)(this,function(f){switch(f.label){case 0:if(!(r=Np(t)).$o)return[3,10];i=0,s=e,f.label=1;case 1:return i<s.length?r.Vo.has(o=s[i])?(ia("SyncEngine","Adding an already active target "+o),[3,5]):[4,Tf(r.localStore,o)]:[3,6];case 2:return a=f.sent(),[4,_f(r.localStore,a)];case 3:return u=f.sent(),[4,ip(r,xp(a),u.targetId,!1)];case 4:f.sent(),dd(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Zo.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Sf(r.localStore,t,!1).then(function(){pd(r.remoteStore,t),mp(r,t)}).catch(qh)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Np(t){var e=la(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ap.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sp.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cp.bind(null,e),e.vo._r=Wd.bind(null,e.eventManager),e.vo.Mo=$d.bind(null,e.eventManager),e}function Dp(t){var e=la(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hp.bind(null,e),e}var Rp=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Zo.b)(this,void 0,void 0,function(){return Object(Zo.d)(this,function(e){switch(e.label){case 0:return this.R=rd(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return pf(this.persistence,new ff,t.initialUser,this.R)},t.prototype.qo=function(t){return new Lf(Mf.bs,this.R)},t.prototype.Bo=function(t){return new Qf},t.prototype.terminate=function(){return Object(Zo.b)(this,void 0,void 0,function(){return Object(Zo.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Pp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Zo.c)(e,t),e.prototype.initialize=function(e){return Object(Zo.b)(this,void 0,void 0,function(){return Object(Zo.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,If(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Dp(this.Ko.syncEngine)];case 4:return n.sent(),[4,Id(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return pf(this.persistence,new ff,t.initialUser,this.R)},e.prototype.Uo=function(t){return new zh(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=uf(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?xh.withCacheSize(this.cacheSizeBytes):xh.DEFAULT;return new sf(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,ed(),nd(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Qf},e}(Rp),Lp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Zo.c)(e,t),e.prototype.initialize=function(e){return Object(Zo.b)(this,void 0,void 0,function(){var n,r=this;return Object(Zo.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Kf?(this.sharedClientState.syncEngine={ui:Op.bind(null,n),ai:Ap.bind(null,n),hi:jp.bind(null,n),fn:kp.bind(null,n),ci:Tp.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(Zo.b)(r,void 0,void 0,function(){return Object(Zo.d)(this,function(e){switch(e.label){case 0:return[4,Ip(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=ed();if(!Kf.yt(e))throw new ea(ta.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=uf(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Kf(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Pp),Fp=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Zo.b)(this,void 0,void 0,function(){var n=this;return Object(Zo.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return up(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=_p.bind(null,this.syncEngine),[4,Dd(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Bd},t.prototype.createDatastore=function(t){var e=rd(t.databaseInfo.databaseId),n=new td(t.databaseInfo);return function(t,e,n){return new ud(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return up(o.syncEngine,t,0)},s=Xf.yt()?new Xf:new Yf,new ld(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new np(t,e,n,r,i,s);return o&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Zo.b)(this,void 0,void 0,function(){var e;return Object(Zo.d)(this,function(n){switch(n.label){case 0:return e=la(t),ia("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,fd(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Mp=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Up=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Gl,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(Zo.b)(this,void 0,void 0,function(){return Object(Zo.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(Zo.b)(this,void 0,void 0,function(){return Object(Zo.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(Zo.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Zo.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Qd(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(Zo.b)(this,void 0,void 0,function(){var t,e;return Object(Zo.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(Zo.b)(this,void 0,void 0,function(){var e;return Object(Zo.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(Zo.b)(this,void 0,void 0,function(){var t,e;return Object(Zo.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Zo.b)(this,void 0,void 0,function(){var e,n=this;return Object(Zo.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ea(ta.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Zo.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(Zo.d)(this,function(u){switch(u.label){case 0:return n=la(t),r=il(n.R)+"/documents",i={documents:e.map(function(t){return tl(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){ca(!!e.found);var n=el(t,e.found.name),r=Xc(e.found.updateTime),i=new Za({mapValue:{fields:e.found.fields}});return tu.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){ca(!!e.missing),ca(!!e.readTime);var n=el(t,e.missing),r=Xc(e.readTime);return tu.newNoDocument(n,r)}(t,e):ua()}(n.R,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());ca(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new gc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Zo.b)(this,void 0,void 0,function(){var t,e=this;return Object(Zo.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Fa.fromPath(n);e.mutations.push(new yc(r,e.precondition(r)))}),[4,function(t,e){return Object(Zo.b)(this,void 0,void 0,function(){var n,r,i;return Object(Zo.d)(this,function(s){switch(s.label){case 0:return n=la(t),r=il(n.R)+"/documents",i={writes:e.map(function(t){return ul(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ua();e=ya.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new ea(ta.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?ec.updateTime(e):ec.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(ya.min()))throw new ea(ta.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ec.updateTime(e)}return ec.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Vp=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new id(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(Zo.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Zo.d)(this,function(r){return t=new Up(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Ra(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!bc(e)}return!1},t}(),qp=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Uf.UNAUTHENTICATED,this.clientId=fa.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Object(Zo.b)(r,void 0,void 0,function(){return Object(Zo.d)(this,function(e){switch(e.label){case 0:return ia("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return Object(Zo.b)(this,void 0,void 0,function(){return Object(Zo.d)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ea(ta.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Gl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Zo.b)(t,void 0,void 0,function(){var t,n;return Object(Zo.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Fd(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Bp(t,e){return Object(Zo.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Zo.d)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),ia("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return Object(Zo.b)(i,void 0,void 0,function(){return Object(Zo.d)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,mf(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Hp(t,e){return Object(Zo.b)(this,void 0,void 0,function(){var n,r;return Object(Zo.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,zp(t)];case 1:return n=i.sent(),ia("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Object(Zo.b)(this,void 0,void 0,function(){var n,r;return Object(Zo.d)(this,function(i){switch(i.label){case 0:return(n=la(t)).asyncQueue.verifyOperationInProgress(),ia("RemoteStore","RemoteStore received new credentials"),r=bd(n),n.Or.add(3),[4,fd(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,hd(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function zp(t){return Object(Zo.b)(this,void 0,void 0,function(){return Object(Zo.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(ia("FirestoreClient","Using default OfflineComponentProvider"),[4,Bp(t,new Rp)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Wp(t){return Object(Zo.b)(this,void 0,void 0,function(){return Object(Zo.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(ia("FirestoreClient","Using default OnlineComponentProvider"),[4,Hp(t,new Fp)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function $p(t){return zp(t).then(function(t){return t.persistence})}function Gp(t){return zp(t).then(function(t){return t.localStore})}function Kp(t){return Wp(t).then(function(t){return t.remoteStore})}function Qp(t){return Wp(t).then(function(t){return t.syncEngine})}function Yp(t){return Object(Zo.b)(this,void 0,void 0,function(){var e,n;return Object(Zo.d)(this,function(r){switch(r.label){case 0:return[4,Wp(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=rp.bind(null,e.syncEngine),n.onUnlisten=sp.bind(null,e.syncEngine),n)]}})})}function Xp(t,e,n){var r=this;void 0===n&&(n={});var i=new Gl;return t.asyncQueue.enqueueAndForget(function(){return Object(Zo.b)(r,void 0,void 0,function(){var r;return Object(Zo.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Mp({next:function(s){e.enqueueAndForget(function(){return zd(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new ea(ta.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new ea(ta.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Kd(Eu(n.path),s,{includeMetadataChanges:!0,so:!0});return Hd(t,o)},[4,Yp(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Zp(t,e,n){var r=this;void 0===n&&(n={});var i=new Gl;return t.asyncQueue.enqueueAndForget(function(){return Object(Zo.b)(r,void 0,void 0,function(){var r;return Object(Zo.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Mp({next:function(n){e.enqueueAndForget(function(){return zd(t,o)}),n.fromCache&&"server"===r.source?i.reject(new ea(ta.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Kd(n,s,{includeMetadataChanges:!0,so:!0});return Hd(t,o)},[4,Yp(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Jp=function(t,e,n,r,i,s,o){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o},tm=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),em=new Map,nm=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},rm=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Uf.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),im=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),sm=function(){function t(t){var e=this;this.currentUser=Uf.UNAUTHENTICATED,this.oc=new Gl,this.cc=0,this.changeListener=function(){return Promise.resolve()},this.uc=!1,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.ac=function(){e.cc++,e.currentUser=e.hc(),e.oc.resolve(),e.uc&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){ia("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.lc(),e.auth.addAuthTokenListener(e.ac)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):e.uc&&(ia("FirebaseCredentialsProvider","Auth not yet detected"),e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)}))}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(ia("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(ca("string"==typeof n.accessToken),new nm(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){this.uc=!0,this.asyncQueue=t,this.changeListener=e},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.ac),this.changeListener=function(){return Promise.resolve()}},t.prototype.hc=function(){var t=this.auth&&this.auth.getUid();return ca(null===t||"string"==typeof t),new Uf(t)},t.prototype.lc=function(){var t=this;this.uc&&(this.uc=!1,this.asyncQueue.enqueueRetryable(function(){return Object(Zo.b)(t,void 0,void 0,function(){return Object(Zo.d)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,this.changeListener(this.currentUser)];case 2:return t.sent(),this.uc=!0,[2]}})})}))},t}(),om=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n,this.type="FirstParty",this.user=Uf.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.dc},e=this.fc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.wc&&(t["X-Goog-Iam-Authorization-Token"]=this.wc),t},enumerable:!1,configurable:!0}),t}(),am=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n}return t.prototype.getToken=function(){return Promise.resolve(new om(this.fc,this.dc,this.wc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Uf.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function um(t,e,n){if(!n)throw new ea(ta.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function cm(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ea(ta.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function lm(t,e,n,r){if(!0===e&&!0===r)throw new ea(ta.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function hm(t){if(!Fa.isDocumentKey(t))throw new ea(ta.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function fm(t){if(Fa.isDocumentKey(t))throw new ea(ta.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function dm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":ua()}function pm(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ea(ta.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=dm(t);throw new ea(ta.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function mm(t,e){if(e<=0)throw new ea(ta.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var gm=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ea(ta.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ea(ta.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,lm("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),ym=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gm({}),this._settingsFrozen=!1,t instanceof tm?(this._databaseId=t,this._credentials=new rm):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ea(ta.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tm(t.options.projectId)}(t),this._credentials=new sm(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new ea(ta.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new ea(ta.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gm(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new rm;switch(t.type){case"gapi":var e=t.client;return ca(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new am(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new ea(ta.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=em.get(this))&&(ia("ComponentProvider","Removing Datastore"),em.delete(this),t.terminate()),Promise.resolve();var t},t}(),vm=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new wm(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),bm=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),wm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Eu(r))||this)._path=r,i.type="collection",i}return Object(Zo.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new vm(this.firestore,null,new Fa(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(bm);function _m(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Kn.h)(t),um("collection","path",e),t instanceof ym)return fm(n=Sa.fromString.apply(Sa,Object(Zo.f)([e],r))),new wm(t,null,n);if(!(t instanceof vm||t instanceof wm))throw new ea(ta.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return fm(n=Sa.fromString.apply(Sa,Object(Zo.f)([t.path],r)).child(Sa.fromString(e))),new wm(t.firestore,null,n)}function Sm(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Kn.h)(t),1===arguments.length&&(e=fa.u()),um("doc","path",e),t instanceof ym)return hm(n=Sa.fromString.apply(Sa,Object(Zo.f)([e],r))),new vm(t,null,new Fa(n));if(!(t instanceof vm||t instanceof wm))throw new ea(ta.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return hm(n=t._path.child(Sa.fromString.apply(Sa,Object(Zo.f)([e],r)))),new vm(t.firestore,t instanceof wm?t.converter:null,new Fa(n))}function Em(t,e){return t=Object(Kn.h)(t),e=Object(Kn.h)(e),(t instanceof vm||t instanceof wm)&&(e instanceof vm||e instanceof wm)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Tm(t,e){return t=Object(Kn.h)(t),e=Object(Kn.h)(e),t instanceof bm&&e instanceof bm&&t.firestore===e.firestore&&Nu(t._query,e._query)&&t.converter===e.converter}var Om=function(){function t(){var t=this;this._c=Promise.resolve(),this.mc=[],this.yc=!1,this.gc=[],this.Ec=null,this.Tc=!1,this.Ic=[],this.Zi=new id(this,"async_queue_retry"),this.Ac=function(){var e=nd();e&&ia("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=nd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ac)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.yc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Rc(),this.bc(t)},t.prototype.enterRestrictedMode=function(){if(!this.yc){this.yc=!0;var t=nd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ac)}},t.prototype.enqueue=function(t){return this.Rc(),this.yc?new Promise(function(t){}):this.bc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.mc.push(t),e.vc()})},t.prototype.vc=function(){return Object(Zo.b)(this,void 0,void 0,function(){var t,e=this;return Object(Zo.d)(this,function(n){switch(n.label){case 0:if(0===this.mc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.mc[0]()];case 2:return n.sent(),this.mc.shift(),this.Zi.reset(),[3,4];case 3:if(!Jl(t=n.sent()))throw t;return ia("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.mc.length>0&&this.Zi.ji(function(){return e.vc()}),n.label=5;case 5:return[2]}})})},t.prototype.bc=function(t){var e=this,n=this._c.then(function(){return e.Tc=!0,t().catch(function(t){throw e.Ec=t,e.Tc=!1,sa("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Tc=!1,t})});return this._c=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Rc(),this.Ic.indexOf(t)>-1&&(e=0);var i=Ld.createAndSchedule(this,t,e,n,function(t){return r.Pc(t)});return this.gc.push(i),i},t.prototype.Rc=function(){this.Ec&&ua()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Vc=function(){return Object(Zo.b)(this,void 0,void 0,function(){var t;return Object(Zo.d)(this,function(e){switch(e.label){case 0:return[4,t=this._c];case 1:e.sent(),e.label=2;case 2:if(t!==this._c)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Sc=function(t){for(var e=0,n=this.gc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Dc=function(t){var e=this;return this.Vc().then(function(){e.gc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.gc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Vc()})},t.prototype.Cc=function(t){this.Ic.push(t)},t.prototype.Pc=function(t){var e=this.gc.indexOf(t);this.gc.splice(e,1)},t}();function Im(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Gl,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Cm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Om,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Zo.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||km(this),this._firestoreClient.terminate()},e}(ym);function xm(t){return t._firestoreClient||km(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function km(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Jp(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new qp(t._credentials,t._queue,r)}function Am(t,e,n){var r=this,i=new Gl;return t.asyncQueue.enqueue(function(){return Object(Zo.b)(r,void 0,void 0,function(){var r;return Object(Zo.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Bp(t,n)];case 1:return s.sent(),[4,Hp(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===ta.FAILED_PRECONDITION||t.code===ta.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function jm(t){if(t._initialized||t._terminated)throw new ea(ta.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Nm=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new ea(ta.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ta(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Dm=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Ia.fromBase64String(e))}catch(e){throw new ea(ta.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Ia.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Rm=function(t){this._methodName=t},Pm=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new ea(ta.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ea(ta.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return da(this._lat,t._lat)||da(this._long,t._long)},t}(),Lm=/^__.*__$/,Fm=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new lc(t,this.data,this.fieldMask,e,this.fieldTransforms):new cc(t,this.data,e,this.fieldTransforms)},t}(),Mm=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new lc(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Um(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ua()}}var Vm=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Nc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xc",{get:function(){return this.settings.xc},enumerable:!1,configurable:!0}),t.prototype.Fc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,$c:!1});return r.Oc(t),r},t.prototype.Mc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,$c:!1});return r.Nc(),r},t.prototype.Lc=function(t){return this.Fc({path:void 0,$c:!0})},t.prototype.Bc=function(t){return og(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Uc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Nc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Oc(this.path.get(t))},t.prototype.Oc=function(t){if(0===t.length)throw this.Bc("Document fields must not be empty");if(Um(this.xc)&&Lm.test(t))throw this.Bc('Document fields cannot begin and end with "__"')},t}(),qm=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||rd(t)}return t.prototype.Qc=function(t,e,n,r){return void 0===r&&(r=!1),new Vm({xc:t,methodName:e,Uc:n,path:Ta.emptyPath(),$c:!1,qc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Bm(t){var e=t._freezeSettings(),n=rd(t._databaseId);return new qm(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Hm(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Qc(s.merge||s.mergeFields?2:0,e,n,i);ng("Data must be an object, but it was:",o,r);var a,u,c=tg(r,o);if(s.merge)a=new Oa(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=rg(e,f[h],n);if(!o.contains(d))throw new ea(ta.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");ag(l,d)||l.push(d)}a=new Oa(l),u=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=o.fieldTransforms;return new Fm(new Za(c),a,u)}var zm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zo.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.xc)throw t.Bc(1===t.xc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Rm);function Wm(t,e,n){return new Vm({xc:3,Uc:e.settings.Uc,methodName:t._methodName,$c:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var $m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zo.c)(e,t),e.prototype._toFieldTransform=function(t){return new Ju(t.path,new Wu)},e.prototype.isEqual=function(t){return t instanceof e},e}(Rm),Gm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(Zo.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Wm(this,t,!0),n=this.Kc.map(function(t){return Jm(t,e)}),r=new $u(n);return new Ju(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Rm),Km=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(Zo.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Wm(this,t,!0),n=this.Kc.map(function(t){return Jm(t,e)}),r=new Ku(n);return new Ju(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Rm),Qm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(Zo.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Yu(t.R,Vu(t.R,this.jc));return new Ju(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Rm);function Ym(t,e,n,r){var i=t.Qc(1,e,n);ng("Data must be an object, but it was:",i,r);var s=[],o=Za.empty();ba(r,function(t,r){var a=sg(e,t,n);r=Object(Kn.h)(r);var u=i.Mc(a);if(r instanceof zm)s.push(a);else{var c=Jm(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new Oa(s);return new Mm(o,a,i.fieldTransforms)}function Xm(t,e,n,r,i,s){var o=t.Qc(1,e,n),a=[rg(e,r,n)],u=[i];if(s.length%2!=0)throw new ea(ta.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(rg(e,s[c])),u.push(s[c+1]);for(var l=[],h=Za.empty(),f=a.length-1;f>=0;--f)if(!ag(l,a[f])){var d=a[f],p=u[f];p=Object(Kn.h)(p);var m=o.Mc(d);if(p instanceof zm)l.push(d);else{var g=Jm(p,m);null!=g&&(l.push(d),h.set(d,g))}}var y=new Oa(l);return new Mm(h,y,o.fieldTransforms)}function Zm(t,e,n,r){return void 0===r&&(r=!1),Jm(n,t.Qc(r?4:3,e))}function Jm(t,e){if(eg(t=Object(Kn.h)(t)))return ng("Unsupported field value:",e,t),tg(t,e);if(t instanceof Rm)return function(t,e){if(!Um(e.xc))throw e.Bc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Bc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.$c&&4!==e.xc)throw e.Bc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=Jm(s[i],e.Lc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(Kn.h)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Vu(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ga.fromDate(t);return{timestampValue:Kc(e.R,n)}}if(t instanceof ga)return n=new ga(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Kc(e.R,n)};if(t instanceof Pm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Dm)return{bytesValue:Qc(e.R,t._byteString)};if(t instanceof vm){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Bc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Zc(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Bc("Unsupported field value: "+dm(t))}(t,e)}function tg(t,e){var n={};return wa(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ba(t,function(t,r){var i=Jm(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function eg(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ga||t instanceof Pm||t instanceof Dm||t instanceof vm||t instanceof Rm)}function ng(t,e,n){if(!eg(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=dm(n);throw e.Bc("an object"===r?t+" a custom object":t+" "+r)}}function rg(t,e,n){if((e=Object(Kn.h)(e))instanceof Nm)return e._internalPath;if("string"==typeof e)return sg(t,e);throw og("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var ig=new RegExp("[~\\*/\\[\\]]");function sg(t,e,n){if(e.search(ig)>=0)throw og("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Nm.bind.apply(Nm,Object(Zo.f)([void 0],e.split(".")))))._internalPath}catch(r){throw og("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function og(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new ea(ta.INVALID_ARGUMENT,(a+=". ")+t+u)}function ag(t,e){return t.some(function(t){return t.isEqual(e)})}var ug=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new vm(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new cg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(lg("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),cg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zo.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(ug);function lg(t,e){return"string"==typeof e?sg(t,e):e instanceof Nm?e._internalPath:e._delegate._internalPath}var hg=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),fg=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(Zo.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new dg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(lg("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(ug),dg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zo.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(fg),pg=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new hg(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new dg(n._firestore,n._userDataWriter,r.key,r,new hg(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ea(ta.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new dg(t._firestore,t._userDataWriter,e.doc.key,e.doc,new hg(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new dg(t._firestore,t._userDataWriter,e.doc.key,e.doc,new hg(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:mg(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function mg(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ua()}}function gg(t,e){return t instanceof fg&&e instanceof fg?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof pg&&e instanceof pg&&t._firestore===e._firestore&&Tm(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function yg(t){if(Ou(t)&&0===t.explicitOrderBy.length)throw new ea(ta.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var vg=function(){};function bg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var wg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Wc=e,i.Gc=n,i.zc=r,i.type="where",i}return Object(Zo.c)(e,t),e.prototype._apply=function(t){var e=Bm(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new ea(ta.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){Cg(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(Ig(r,t,l[c]));a={arrayValue:{values:u}}}else a=Ig(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Cg(o,s),a=Zm(n,"where",o,"in"===s||"not-in"===s);var h=ou.create(i,s,a);return function(t,e){if(e.g()){var n=Cu(t);if(null!==n&&!n.isEqual(e.field))throw new ea(ta.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Iu(t);null!==r&&xg(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new ea(ta.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Wc,this.Gc,this.zc);return new bm(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new _u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(vg),_g=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Wc=e,r.Hc=n,r.type="orderBy",r}return Object(Zo.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new ea(ta.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new ea(ta.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new yu(e,n);return function(t,e){if(null===Iu(t)){var n=Cu(t);null!==n&&xg(0,n,e.field)}}(t,r),r}(t._query,this.Wc,this.Hc);return new bm(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new _u(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(vg),Sg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(Zo.c)(e,t),e.prototype._apply=function(t){return new bm(t.firestore,t.converter,ju(t._query,this.Jc,this.Yc))},e}(vg),Eg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(Zo.c)(e,t),e.prototype._apply=function(t){var e=Og(t,this.type,this.Xc,this.Zc);return new bm(t.firestore,t.converter,function(t,e){return new _u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(vg),Tg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(Zo.c)(e,t),e.prototype._apply=function(t){var e=Og(t,this.type,this.Xc,this.Zc);return new bm(t.firestore,t.converter,function(t,e){return new _u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(vg);function Og(t,e,n,r){if(n[0]=Object(Kn.h)(n[0]),n[0]instanceof ug)return function(t,e,n,r,i){if(!r)throw new ea(ta.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=ku(t);o<a.length;o++){var u=a[o];if(u.field.isKeyField())s.push(Wa(e,r.key));else{var c=r.data.field(u.field);if(ja(c))throw new ea(ta.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new ea(ta.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new mu(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Bm(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new ea(ta.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new ea(ta.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!xu(t)&&-1!==c.indexOf("/"))throw new ea(ta.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Sa.fromString(c));if(!Fa.isDocumentKey(l))throw new ea(ta.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Fa(l);a.push(Wa(e,h))}else{var f=Zm(n,r,c);a.push(f)}}return new mu(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function Ig(t,e,n){if("string"==typeof(n=Object(Kn.h)(n))){if(""===n)throw new ea(ta.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!xu(e)&&-1!==n.indexOf("/"))throw new ea(ta.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Sa.fromString(n));if(!Fa.isDocumentKey(r))throw new ea(ta.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Wa(t,new Fa(r))}if(n instanceof vm)return Wa(t,n._key);throw new ea(ta.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+dm(n)+".")}function Cg(t,e){if(!Array.isArray(t)||0===t.length)throw new ea(ta.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ea(ta.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function xg(t,e,n){if(!n.isEqual(e))throw new ea(ta.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var kg=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Ma(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ka(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Aa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ua()}},t.prototype.convertObject=function(t,e){var n=this,r={};return ba(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Pm(ka(t.latitude),ka(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Na(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Da(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=xa(t);return new ga(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Sa.fromString(t);ca(El(n));var r=new tm(n.get(1),n.get(3)),i=new Fa(n.popFirst(5));return r.isEqual(e)||sa("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Ag(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var jg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Zo.c)(e,t),e.prototype.convertBytes=function(t){return new Dm(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new vm(this.firestore,null,e)},e}(kg),Ng=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Bm(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Dg(t,this._firestore),i=Ag(r.converter,e,n),s=Hm(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,ec.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=Dg(t,this._firestore);return s="string"==typeof(e=Object(Kn.h)(e))||e instanceof Nm?Xm(this._dataReader,"WriteBatch.update",o._key,e,n,r):Ym(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,ec.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Dg(t,this._firestore);return this._mutations=this._mutations.concat(new gc(e._key,ec.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new ea(ta.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Dg(t,e){if((t=Object(Kn.h)(t)).firestore!==e)throw new ea(ta.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Rg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Zo.c)(e,t),e.prototype.convertBytes=function(t){return new Dm(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new vm(this.firestore,null,e)},e}(kg);function Pg(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=pm(t,vm);var s=pm(t.firestore,Cm),o=Bm(s);return Fg(s,[("string"==typeof(e=Object(Kn.h)(e))||e instanceof Nm?Xm(o,"updateDoc",t._key,e,n,r):Ym(o,"updateDoc",t._key,e)).toMutation(t._key,ec.exists(!0))])}function Lg(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=Object(Kn.h)(t);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Im(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(Im(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof vm)c=pm(t.firestore,Cm),l=Eu(t._key.path),u={next:function(e){i[a]&&i[a](Mg(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=pm(t,bm);c=pm(d.firestore,Cm),l=d._query;var p=new Rg(c);u={next:function(t){i[a]&&i[a](new pg(c,p,d,t))},error:i[a+1],complete:i[a+2]},yg(t._query)}return function(t,e,n,r){var i=this,s=new Mp(r),o=new Kd(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return Object(Zo.b)(i,void 0,void 0,function(){var e;return Object(Zo.d)(this,function(n){switch(n.label){case 0:return e=Hd,[4,Yp(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Zo.b)(i,void 0,void 0,function(){var e;return Object(Zo.d)(this,function(n){switch(n.label){case 0:return e=zd,[4,Yp(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(xm(c),l,h,u)}function Fg(t,e){return function(t,e){var n=this,r=new Gl;return t.asyncQueue.enqueueAndForget(function(){return Object(Zo.b)(n,void 0,void 0,function(){var n;return Object(Zo.d)(this,function(i){switch(i.label){case 0:return n=op,[4,Qp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(xm(t),e)}function Mg(t,e,n){var r=n.docs.get(e._key),i=new Rg(t);return new fg(t,i,e._key,r,new hg(n.hasPendingWrites,n.fromCache),e.converter)}var Ug=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Zo.c)(e,t),e.prototype.get=function(e){var n=this,r=Dg(e,this._firestore),i=new Rg(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new fg(n._firestore,i,r._key,t._document,new hg(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Bm(t)}return t.prototype.get=function(t){var e=this,n=Dg(t,this._firestore),r=new jg(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return ua();var i=t[0];if(i.isFoundDocument())return new ug(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new ug(e._firestore,r,n._key,null,n.converter);throw ua()})},t.prototype.set=function(t,e,n){var r=Dg(t,this._firestore),i=Ag(r.converter,e,n),s=Hm(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=Dg(t,this._firestore);return s="string"==typeof(e=Object(Kn.h)(e))||e instanceof Nm?Xm(this._dataReader,"Transaction.update",o._key,e,n,r):Ym(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=Dg(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Vg(){if("undefined"==typeof Uint8Array)throw new ea(ta.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function qg(){if("undefined"==typeof atob)throw new ea(ta.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Bg=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return qg(),new t(Dm.fromBase64String(e))},t.fromUint8Array=function(e){return Vg(),new t(Dm.fromUint8Array(e))},t.prototype.toBase64=function(){return qg(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Vg(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Hg=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){jm(t=pm(t,Cm));var n=xm(t),r=t._freezeSettings(),i=new Fp;return Am(n,i,new Pp(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){jm(t=pm(t,Cm));var e=xm(t),n=t._freezeSettings(),r=new Fp;return Am(e,r,new Lp(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new ea(ta.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Gl;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Zo.b)(e,void 0,void 0,function(){var e;return Object(Zo.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Zo.b)(this,void 0,void 0,function(){return Object(Zo.d)(this,function(e){switch(e.label){case 0:return Yl.yt()?[4,Yl.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(uf(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),zg=function(){function t(t,e,n){var r=this;this._delegate=e,this.tu=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof tm||(this.eu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||oa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=pm(t,ym))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&oa("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s=Object(Kn.d)(r.mockUserToken),o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new ea(ta.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new im(new nm(s,new Uf(o)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Zo.b)(e,void 0,void 0,function(){var e,n;return Object(Zo.d)(this,function(r){switch(r.label){case 0:return[4,$p(t)];case 1:return e=r.sent(),[4,Kp(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=la(t);return e.Or.delete(0),hd(e)}(n))]}})})})}(xm(pm(this._delegate,Cm)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Zo.b)(e,void 0,void 0,function(){var e,n;return Object(Zo.d)(this,function(r){switch(r.label){case 0:return[4,$p(t)];case 1:return e=r.sent(),[4,Kp(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Zo.b)(this,void 0,void 0,function(){var e;return Object(Zo.d)(this,function(n){switch(n.label){case 0:return(e=la(t)).Or.add(0),[4,fd(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(xm(pm(this._delegate,Cm)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&lm("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.tu.enableMultiTabIndexedDbPersistence(this):this.tu.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.tu.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.eu&&(this.eu._removeServiceInstance("firestore"),this.eu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Gl;return t.asyncQueue.enqueueAndForget(function(){return Object(Zo.b)(e,void 0,void 0,function(){var e;return Object(Zo.d)(this,function(r){switch(r.label){case 0:return e=fp,[4,Qp(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(xm(pm(this._delegate,Cm)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Mp(e);return t.asyncQueue.enqueueAndForget(function(){return Object(Zo.b)(n,void 0,void 0,function(){var e;return Object(Zo.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){la(t).Gr.add(e),e.next()},[4,Yp(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Zo.b)(n,void 0,void 0,function(){var e;return Object(Zo.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){la(t).Gr.delete(e)},[4,Yp(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(xm(t=pm(t,Cm)),Im(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.eu)throw new ea(ta.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.eu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new iy(this,_m(this._delegate,t))}catch(t){throw Yg(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Qg(this,Sm(this._delegate,t))}catch(t){throw Yg(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new ey(this,function(t,e){if(t=pm(t,ym),um("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ea(ta.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new bm(t,null,function(t){return new _u(Sa.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Yg(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Gl;return t.asyncQueue.enqueueAndForget(function(){return Object(Zo.b)(n,void 0,void 0,function(){var n;return Object(Zo.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Wp(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Vp(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(xm(t),function(n){return e(new Ug(t,n))})}(this._delegate,function(n){return t(new $g(e,n))})},t.prototype.batch=function(){var t=this;return xm(this._delegate),new Gg(new Ng(this._delegate,function(e){return Fg(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new ea(ta.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new ea(ta.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Wg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Zo.c)(e,t),e.prototype.convertBytes=function(t){return new Bg(new Dm(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Qg.nu(e,this.firestore,null)},e}(kg),$g=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Wg(t)}return t.prototype.get=function(t){var e=this,n=sy(t);return this._delegate.get(n).then(function(t){return new Jg(e._firestore,new fg(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=sy(t);return n?(cm("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=sy(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(Zo.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=sy(t);return this._delegate.delete(e),this},t}(),Gg=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=sy(t);return n?(cm("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=sy(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(Zo.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=sy(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Kg=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new dg(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ty(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.su=function(e,n){var r=t.iu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new Wg(e),n),i.set(n,s)),s},t}();Kg.iu=new WeakMap;var Qg=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Wg(t)}return t.ru=function(e,n,r){if(e.length%2!=0)throw new ea(ta.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new vm(n._delegate,r,new Fa(e)))},t.nu=function(e,n,r){return new t(n,new vm(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new iy(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new iy(this.firestore,_m(this._delegate,t))}catch(t){throw Yg(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(Kn.h)(t))instanceof vm&&Em(this._delegate,t)},t.prototype.set=function(t,e){e=cm("DocumentReference.set",e);try{return function(t,e,n){t=pm(t,vm);var r=pm(t.firestore,Cm),i=Ag(t.converter,e,n);return Fg(r,[Hm(Bm(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,ec.none())])}(this._delegate,t,e)}catch(t){throw Yg(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Pg(this._delegate,t):Pg.apply(void 0,Object(Zo.f)([this._delegate,t,e],n))}catch(t){throw Yg(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Fg(pm((t=this._delegate).firestore,Cm),[new gc(t._key,ec.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Xg(e),i=Zg(e,function(e){return new Jg(t.firestore,new fg(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return Lg(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=pm(t,vm);var e=pm(t.firestore,Cm),n=xm(e),r=new Rg(e);return function(t,e){var n=this,r=new Gl;return t.asyncQueue.enqueueAndForget(function(){return Object(Zo.b)(n,void 0,void 0,function(){var n;return Object(Zo.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Zo.b)(this,void 0,void 0,function(){var r,i;return Object(Zo.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=la(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=s.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new ea(ta.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=Fd(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Gp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new fg(e,r,t._key,n,new hg(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=pm(t,vm);var e=pm(t.firestore,Cm);return Xp(xm(e),t._key,{source:"server"}).then(function(n){return Mg(e,t,n)})}(this._delegate):function(t){t=pm(t,vm);var e=pm(t.firestore,Cm);return Xp(xm(e),t._key).then(function(n){return Mg(e,t,n)})}(this._delegate)).then(function(t){return new Jg(e.firestore,new fg(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Kg.su(this.firestore,e):null))},t}();function Yg(t,e,n){return t.message=t.message.replace(e,n),t}function Xg(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Im(r))return r}return{}}function Zg(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Im(t[0])?t[0]:Im(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Jg=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Qg(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return gg(this._delegate,t._delegate)},t}(),ty=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zo.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Jg),ey=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Wg(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,bg(this._delegate,function(t,e,n){var r=e,i=lg("where",t);return new wg(i,r,n)}(e,n,r)))}catch(e){throw Yg(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,bg(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=lg("orderBy",t);return new _g(r,n)}(e,n)))}catch(e){throw Yg(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,bg(this._delegate,function(t){return mm("limit",t),new Sg("limit",t,"F")}(e)))}catch(e){throw Yg(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,bg(this._delegate,function(t){return mm("limitToLast",t),new Sg("limitToLast",t,"L")}(e)))}catch(e){throw Yg(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,bg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Eg("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw Yg(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,bg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Eg("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw Yg(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,bg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Tg("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw Yg(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,bg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Tg("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw Yg(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Tm(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=pm(t,bm);var e=pm(t.firestore,Cm),n=xm(e),r=new Rg(e);return function(t,e){var n=this,r=new Gl;return t.asyncQueue.enqueueAndForget(function(){return Object(Zo.b)(n,void 0,void 0,function(){var n;return Object(Zo.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Zo.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(Zo.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Ef(t,e,!0)];case 1:return a=u.sent(),r=new Jd(e,a.Bn),i=r._o(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=Fd(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Gp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new pg(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=pm(t,bm);var e=pm(t.firestore,Cm),n=xm(e),r=new Rg(e);return Zp(n,t._query,{source:"server"}).then(function(n){return new pg(e,r,t,n)})}(this._delegate):function(t){t=pm(t,bm);var e=pm(t.firestore,Cm),n=xm(e),r=new Rg(e);return yg(t._query),Zp(n,t._query).then(function(n){return new pg(e,r,t,n)})}(this._delegate)).then(function(t){return new ry(e.firestore,new pg(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Xg(e),i=Zg(e,function(e){return new ry(t.firestore,new pg(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Lg(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Kg.su(this.firestore,e):null))},t}(),ny=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new ty(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),ry=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new ey(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new ty(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new ny(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new ty(n._firestore,r))})},t.prototype.isEqual=function(t){return gg(this._delegate,t._delegate)},t}(),iy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Zo.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Qg(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Qg(this.firestore,void 0===t?Sm(this._delegate):Sm(this._delegate,t))}catch(t){throw Yg(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=pm(t.firestore,Cm),r=Sm(t),i=Ag(t.converter,e);return Fg(n,[Hm(Bm(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ec.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Qg(e.firestore,t)})},e.prototype.isEqual=function(t){return Em(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Kg.su(this.firestore,t):null))},e}(ey);function sy(t){return pm(t,vm)}var oy,ay=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Nm.bind.apply(Nm,Object(Zo.f)([void 0],t)))}return t.documentId=function(){return new t(Ta.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(Kn.h)(t))instanceof Nm&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),uy=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new $m("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new zm("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gm("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Km("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Qm("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),cy=n("/6Yf"),ly={Firestore:zg,GeoPoint:Pm,Timestamp:ga,Blob:Bg,Transaction:$g,WriteBatch:Gg,DocumentReference:Qg,DocumentSnapshot:Jg,Query:ey,QueryDocumentSnapshot:ty,QuerySnapshot:ry,CollectionReference:iy,FieldPath:ay,FieldValue:uy,setLogLevel:function(t){na.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function hy(t,e){return function(t,e=Pn.b){return new o.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function fy(t,e){return hy(t,e).pipe(Object(c.a)(t=>({payload:t,type:"query"})))}function dy(t,e){return fy(t,e).pipe(Object(Fn.a)(void 0),Un(),Object(c.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function py(t,e,n){return dy(t,n).pipe(Object(Bn.a)((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return my(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return my(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return my(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Hn(void 0,void 0)),Object(c.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function my(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function gy(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new cy.a("firestore",function(t){return function(t,e){return new zg(t,new Cm(t,e),new Hg)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},ly)))})(oy=Gn.a),oy.registerVersion("@firebase/firestore","2.3.2");class yy{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=dy(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(c.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Object(Fn.a)(void 0),Un(),Object(u.a)(([t,e])=>e.length>0||!t),Object(c.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(Bn.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=gy(t);return py(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return fy(this.query,this.afs.schedulers.outsideAngular).pipe(Object(c.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Ln.a)(this.query.get(t)).pipe(Object(Wn.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new vy(this.ref.doc(t),this.afs)}}class vy{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Ty(n,e);return new yy(r,i,this.afs)}snapshotChanges(){return hy(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(Fn.a)(void 0),Un(),Object(c.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(c.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Ln.a)(this.ref.get(t)).pipe(Object(Wn.b)(this.afs.schedulers.insideAngular))}}class by{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?dy(this.query,this.afs.schedulers.outsideAngular).pipe(Object(c.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(u.a)(t=>t.length>0),this.afs.keepUnstableUntilFirst):dy(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(Bn.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=gy(t);return py(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return fy(this.query,this.afs.schedulers.outsideAngular).pipe(Object(c.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Ln.a)(this.query.get(t)).pipe(Object(Wn.b)(this.afs.schedulers.insideAngular))}}const wy=new i.r("angularfire2.enableFirestorePersistence"),_y=new i.r("angularfire2.firestore.persistenceSettings"),Sy=new i.r("angularfire2.firestore.settings"),Ey=new i.r("angularfire2.firestore.use-emulator");function Ty(t,e=(t=>t)){return{query:e(t),ref:t}}let Oy=(()=>{class t{constructor(t,e,n,r,i,o,a,u,c){this.schedulers=new H.d(o),this.keepUnstableUntilFirst=Object(H.h)(this.schedulers);const h=Object(H.g)(t,o,e);!$n.a.auth&&c&&Object(H.j)();const f=u;[this.firestore,this.persistenceEnabled$]=Object(H.f)(`${h.name}.firestore`,"AngularFirestore",h,()=>{const t=o.runOutsideAngular(()=>h.firestore());if(r&&t.settings(r),f&&t.useEmulator(...f),n&&!Object(l.r)(i)){const e=()=>{try{return Object(Ln.a)(t.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(oy){return"undefined"!=typeof console&&console.warn(oy),Object(s.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(s.a)(!1)]},[r,f,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Ty(n,e),s=this.schedulers.ngZone.run(()=>r);return new yy(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new by(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new vy(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(H.c),i.Wb(H.b,8),i.Wb(wy,8),i.Wb(Sy,8),i.Wb(i.C),i.Wb(i.A),i.Wb(_y,8),i.Wb(Ey,8),i.Wb(Rn.c,8))},t.\u0275prov=i.Ib({factory:function(){return new t(i.Wb(H.c),i.Wb(H.b,8),i.Wb(wy,8),i.Wb(Sy,8),i.Wb(i.C),i.Wb(i.A),i.Wb(_y,8),i.Wb(Ey,8),i.Wb(Rn.c,8))},token:t,providedIn:"any"}),t})(),Iy=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:wy,useValue:!0},{provide:_y,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({providers:[Oy]}),t})();const Cy={apiKey:"AIzaSyB-MMxUnSWU8fRO1u_Q_XI_4pid5wJ5Yxs",authDomain:"dax-365.firebaseapp.com",databaseURL:"https://dax-365-default-rtdb.europe-west1.firebasedatabase.app",projectId:"dax-365",storageBucket:"dax-365.appspot.com",messagingSenderId:"940959377089",appId:"1:940959377089:web:9a58e2716140d8fb1cd640"};var xy=n("z6cu"),ky=n("JIr8"),Ay=n("eIep");let jy=(()=>{class t{constructor(t){this._authUserStateService=t}initialization(){return Object(Zo.b)(this,void 0,void 0,function*(){return yield this._initUser(),Promise.resolve()})}_initUser(){return new Promise((t,e)=>{this._authUserStateService.subscribeToFirebaseUser().pipe(Object(ky.a)(t=>(e(t),Object(xy.a)(t))),Object(Ay.a)(t=>this._authUserStateService.getProfile(t))).subscribe(()=>{t()})})}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(_n.a))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ny(t){return()=>t.initialization()}let Dy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Kb({type:t,bootstrap:[Cn]}),t.\u0275inj=i.Jb({providers:[{provide:i.d,useFactory:Ny,multi:!0,deps:[jy]}],imports:[[z.c,r.a,B,vn,H.a.initializeApp(Cy),Rn.b,Iy,bn.a.forRoot(),In,Dn]]}),t})();Object(i.T)(),r.c().bootstrapModule(Dy).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(s.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,1]]]);